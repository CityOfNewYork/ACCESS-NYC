{% extends "base.twig" %}

{% block content %}
<main class="color-light-background pb-3" data-js="preload">
  <header class="c-header p-2 screen-tablet:p-3 mt-3 mb-3 print:mt-0">
    <div>
      <h1 class="c-header__descriptor text-color-blue-dark">{{ __('Programs', 'accessnyctheme') }}</h1>

      <h2 class="c-header__information text-color-grey-mid mb-0 list-inline-comma">&nbsp;</h2>
    </div>
  </header>

  <div class="usa-grid screen-desktop:layout--sidebar-small-gutter">
    <aside id="filter-programs">
      <h2 class="type-h4 mb-0 hidden screen-desktop:inline-block">
        {{ __('Filter Programs', 'accessnyctheme') }}:
      </h2>

      <span class="text-font-size-small screen-desktop:hidden">
        {{ __('Filter Programs', 'accessnyctheme') }}
      </span>

      <div class="flex items-center justify-center py-4" v-if="!init">
        {% include 'partials/spinner.twig' with {this: {class: 'icon-4 block text-color-yellow-access'}} only %}

        &nbsp;&nbsp;

        {{ __('Getting Filters', 'accessnyctheme') }}
      </div>
    </aside>

    <div id="see-programs" class="pt-2 screen-desktop:pt-0">
      <div class="layout--gutter p-3 bg-color-grey-lightest mb-3">
        {% if page.term_id | length %}
          {% include 'partials/post-teaser.twig' with {'cat': page.name} %}
        {% else %}
          {% include 'partials/post-teaser.twig' %}
        {% endif %}
      </div>
    </div>
  </div>
</main>

<main data-js="programs"
  data-categories="{{ categories.term_id }}"
  data-served="{{ served.term_id }}"
  data-page="{{ pagination.current }}"
  data-per-page="{{ per_page }}"
  data-pages="{{ pagination.total }}"
  data-count="{{ count }}"
  data-pagination-next-link="{{ pagination.next.link }}">
  {# The client rendered template is stored in ./archive.vue #}
</main>
{% endblock %}

{% block scripts_footer %}
{% include 'partials/strings.twig' with {
  'translation_id': 'accessnyctheme',
  'csp_script_nonce': csp_script_nonce,
  'strings': [
    {
      'label': 'Toggle All',
      'slug': 'ARCHIVE_TOGGLE_ALL'
    },
    {
      'label': 'Learn more',
      'slug': 'ARCHIVE_LEARN_MORE'
    },
    {
      'label': 'Apply',
      'slug': 'ARCHIVE_APPLY'
    },
    {
      'label': 'All',
      'slug': 'ARCHIVE_ALL'
    },
    {
      'label': 'Programs',
      'slug': 'ARCHIVE_PROGRAMS'
    },
    {
      'label': 'Filter Programs',
      'slug': 'ARCHIVE_FILTER_PROGRAMS'
    },
    {
      'label': 'No Results',
      'slug': 'ARCHIVE_NO_RESULTS'
    },
    {
      'label': 'See Programs',
      'slug': 'ARCHIVE_SEE_PROGRAMS'
    },
    {
      'label': 'Loading',
      'slug': 'ARCHIVE_LOADING'
    },
    {
      'label': 'Try deselecting some filters',
      'slug': 'ARCHIVE_NO_RESULTS_INSTRUCTIONS'
    },
    {
      'label': 'See More Results',
      'slug': 'ARCHIVE_MORE_RESULTS'
    }
  ]} only %}
{% endblock %}

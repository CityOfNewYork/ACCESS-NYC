{% set expenseOptions = [
  {'value': 'ChildCare', 'text': 'Child Care'},
  {'value': 'ChildSupport', 'text': 'Child Support (Paid)'},
  {'value': 'Cooling', 'text': 'Cooling'},
  {'value': 'DependentCare', 'text': 'Dependent Care'},
  {'value': 'Heating', 'text': 'Heating'},
  {'value': 'Medical', 'text': 'Medical expense'},
  {'value': 'Mortgage', 'text': 'Mortgage'},
  {'value': 'Rent', 'text': 'Rent'},
  {'value': 'Telephone', 'text': 'Telephone'},
  {'value': 'InsurancePremiums', 'text': 'Third Party Insurance Premiums'},
  {'value': 'Utilities', 'text': 'Utilities'}
] %}

{% set frequencyOptions = [
  {'value': 'weekly', 'text': 'Every week'},
  {'value': 'biweekly', 'text': 'Every 2 weeks'},
  {'value': 'monthly', 'text': 'Every month'},
  {'value': 'semimonthly', 'text': 'Every 2 months'},
  {'value': 'yearly', 'text': 'Every year'}
] %}

<fieldset class="d-block w-100">

  <div class="bg-grey-lightest b-bottom b-4 b-white p-relative" id="question-household-expenses">

    <div class="bg-blue-light ui-overlay js-toggle-question hidden"></div> {# hidden #}

    <div class="p-relative">

      <a class="{{styles.questions}}" data-js="question" href="#question-household-expenses">
        {{ __('Household Expenses', 'accessnyc-screener') }}
      </a>

      <div class="p-horizontal-2 p-bottom js-toggle-question hidden"> {# hidden #}

        <div>
          <label class="{{styles.labels}}">
            <span v-if="singleOccupant()">
              {{ __('Which of these expenses apply to you?', 'accessnyc-screener') }}
            </span>
            <span v-else>
              {{ __('What expenses did your household have most recently?', 'accessnyc-screener') }}
            </span>
          </label>
          <div class="screener-checkboxes">
            {% for option in expenseOptions %}
            <label class="screener-checkbox styled-checkbox screener-checkboxes-program screener-label">
              <input type="checkbox" class="js-screener-toggle" name="category" value="1"
                data-toggles="#js-toggle-expense-{{ option.value }}">
              <span class="styled-checkbox-label">
                {{ option.text }}
              </span>
            </label>
            {% endfor %}
          </div>
        </div>

        {% for expense in expenseOptions %}

        <div id="js-toggle-expense-{{ expense.value }}" class="hidden"> {# hidden #}

          <div class="p-top p-bottom-2">
            <hr class="m-0 screener-divider">
          </div>

          <div v-if="!singleOccupant()">
            <label class="{{styles.labels}}">
              {{ __('Who contributes to', 'accessnyc-screener') }}: <span class="c-blue">{{ expense.text }}</span>{{ __('?') }}
            </label>
            <div v-for="(p, personIndex) in people">
              <label class="styled-checkbox screener-checkbox screener-label">
                <input type="checkbox" class="js-screener-toggle" value="1"
                  v-bind:data-toggles="'#js-toggle-people-' + personIndex + '-{{ expense.value }}'"
                  v-bind:name="personIndex + '-expenses'"
                />
                <span class="styled-checkbox-label">
                  <personlabel v-bind:index="personIndex" v-bind:person="p._attrs"></personlabel>
                </span>
              </label>
            </div>
          </div>

          <div v-for="(p, personIndex) in people">

            <div v-bind:class="{hidden: !singleOccupant()}" v-bind:id="'js-toggle-people-' + personIndex + '-{{ expense.value }}'">

              <div class="m-bottom-2">
                <label class="{{styles.labels}}">
                  <span v-if="singleOccupant()">
                    {{ __('How much do you pay for: ', 'accessnyc-screener') }}
                    <span class="c-blue">{{ expense.text }}</span>{{ __('?') }}
                  </span>
                  <span v-else>
                    {{ __('How much', 'accessnyc-screener') }}
                    <span v-if="personIndex == 0">{{ __('do', 'accessnyc-screener') }}</span>
                    <span v-else>{{ __('does', 'accessnyc-screener') }}</span>
                    <personlabel v-bind:index="personIndex" v-bind:person="p._attrs"></personlabel>
                    {{ __('contribute to', 'accessnyc-screener') }}: <span class="c-blue">{{ expense.text }}</span>{{ __('?') }}
                  </span>
                  <span class="c-red">*</span>
                </label>
                <div class="currency-usd m-0">
                  <input data-type="float" type="number" min="0" required
                    v-bind:id="'person-' + personIndex + '-expenses--amount'"
                    v-bind:name="'Person[' + personIndex + '].expenses[].amount'">
                </div>
              </div>

              <div>
                <label class="{{styles.labels}}"
                  v-bind:for="'person-' + personIndex + '-expenses--frequency'">
                  <span v-if="singleOccupant()">
                    {{ __('How often do you pay for: ', 'accessnyc-screener') }}
                    <span class="c-blue">{{ expense.text }}</span>{{ __('?') }}
                  </span>
                  <span v-else>
                    {{ __('How often do', 'accessnyc-screener') }}
                    <personlabel v-bind:index="personIndex" v-bind:person="p._attrs"></personlabel>
                    {{ __('contribute to', 'accessnyc-screener') }}: <span class="c-blue">{{ expense.text }}</span>{{ __('?') }}
                  </span>
                </label>
                <div class="screener-checkboxes">
                  {% for frequency in frequencyOptions %}
                  <label class="screener-checkbox styled-radio screener-checkboxes-program screener-label"
                    v-bind:for="'person-' + personIndex + '-expenses-{{ expense.value }}-frequency-{{ frequency.value }}'">
                    <input type="radio" value="{{ frequency.value }}" {% if frequency.value == 'monthly' %}checked{% endif %}
                      v-bind:id="'person-' + personIndex + '-expenses-{{ expense.value }}-frequency-{{ frequency.value }}'"
                      v-bind:name="'Person[' + personIndex + '].expenses[{{ expense.value }}].frequency'">
                    <span class="styled-radio-label">
                      {{ __(frequency.text, 'accessnyc-screener') }}
                    </span>
                  </label>
                  {% endfor %}
                </div>
              </div>

            </div>

          </div>

        </div>

        {% endfor %}

      </div>

    </div>

  </div>

</fieldset>

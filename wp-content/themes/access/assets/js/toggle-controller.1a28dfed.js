(()=>{"use strict";var t,e,s,i={4590:(t,e,s)=>{s.d(e,{Z:()=>n});var i=s(377),a=s(9580),r=function(){function t(e){var s=this;if((0,i.Z)(this,t),window.hasOwnProperty(t.callback)||(window[t.callback]=[]),e=e||{},this.settings={selector:e.selector?e.selector:t.selector,namespace:e.namespace?e.namespace:t.namespace,inactiveClass:e.inactiveClass?e.inactiveClass:t.inactiveClass,activeClass:e.activeClass?e.activeClass:t.activeClass,before:!!e.before&&e.before,after:!!e.after&&e.after,valid:!!e.valid&&e.valid,focusable:!e.hasOwnProperty("focusable")||e.focusable,jump:!e.hasOwnProperty("jump")||e.jump},this.element=!!e.element&&e.element,this.element)this.element.addEventListener("click",(function(t){s.toggle(t)}));else if(!window[t.callback].hasOwnProperty(this.settings.selector))for(var a=document.querySelector("body"),r=0;r<t.events.length;r++){var n=t.events[r];a.addEventListener(n,(function(e){if(e.target.matches(s.settings.selector)){s.event=e;var i=e.type.toUpperCase();s[e.type]&&t.elements[i]&&t.elements[i].includes(e.target.tagName)&&s[e.type](e)}}))}return window[t.callback][this.settings.selector]=!0,this}return(0,a.Z)(t,[{key:"click",value:function(t){this.toggle(t)}},{key:"change",value:function(t){var e=t.target.checkValidity();(e&&!this.isActive(t.target)||!e&&this.isActive(t.target))&&this.toggle(t)}},{key:"isActive",value:function(t){var e=!1;return this.settings.activeClass&&(e=t.classList.contains(this.settings.activeClass)),e}},{key:"getTarget",value:function(t){var e=!1;return e=t.hasAttribute("href")?document.querySelector(t.getAttribute("href")):e,t.hasAttribute("aria-controls")?document.querySelector("#".concat(t.getAttribute("aria-controls"))):e}},{key:"toggle",value:function(e){var s=this,i=e.target,a=!1,r=[];if(e.preventDefault(),r=(a=this.getTarget(i))?a.querySelectorAll(t.elFocusable.join(", ")):r,!a)return this;if(this.elementToggle(i,a,r),i.dataset["".concat(this.settings.namespace,"Undo")]){var n=document.querySelector(i.dataset["".concat(this.settings.namespace,"Undo")]);n.addEventListener("click",(function(t){t.preventDefault(),s.elementToggle(i,a),n.removeEventListener("click")}))}return this}},{key:"getOthers",value:function(t){var e=!1;return t.hasAttribute("href")?e='[href="'.concat(t.getAttribute("href"),'"]'):t.hasAttribute("aria-controls")&&(e='[aria-controls="'.concat(t.getAttribute("aria-controls"),'"]')),e?document.querySelectorAll(e):[]}},{key:"toggleFocusable",value:function(e){return e.forEach((function(e){if("-1"===e.getAttribute("tabindex")){var s=e.getAttribute("data-".concat(t.namespace,"-tabindex"));s?e.setAttribute("tabindex",s):e.removeAttribute("tabindex")}else e.setAttribute("tabindex","-1")})),this}},{key:"jumpTo",value:function(t,e){return history.pushState("","",window.location.pathname+window.location.search),e.classList.contains(this.settings.activeClass)?(window.location.hash=t.getAttribute("href"),e.setAttribute("tabindex","0"),e.focus({preventScroll:!0})):e.removeAttribute("tabindex"),this}},{key:"elementToggle",value:function(e,s){var i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=0,n="",l="";if(this.element=e,this.target=s,this.others=this.getOthers(e),this.focusable=a,this.settings.valid&&!this.settings.valid(this))return this;for(this.settings.before&&this.settings.before(this),this.settings.activeClass&&(this.element.classList.toggle(this.settings.activeClass),this.target.classList.toggle(this.settings.activeClass),this.others.forEach((function(t){t!==i.element&&t.classList.toggle(i.settings.activeClass)}))),this.settings.inactiveClass&&s.classList.toggle(this.settings.inactiveClass),r=0;r<t.targetAriaRoles.length;r++)n=t.targetAriaRoles[r],""!=(l=this.target.getAttribute(n))&&l&&this.target.setAttribute(n,"true"===l?"false":"true");for(this.settings.focusable&&this.toggleFocusable(this.focusable),this.settings.jump&&this.element.hasAttribute("href")&&this.jumpTo(this.element,this.target),r=0;r<t.elAriaRoles.length;r++)n=t.elAriaRoles[r],""!=(l=this.element.getAttribute(n))&&l&&this.element.setAttribute(n,"true"===l?"false":"true"),this.others.forEach((function(t){t!==i.element&&t.getAttribute(n)&&t.setAttribute(n,"true"===l?"false":"true")}));return this.settings.after&&this.settings.after(this),this}}]),t}();r.selector='[data-js*="toggle"]',r.namespace="toggle",r.inactiveClass="hidden",r.activeClass="active",r.elAriaRoles=["aria-pressed","aria-expanded"],r.targetAriaRoles=["aria-hidden"],r.elFocusable=["a","button","input","select","textarea","object","embed","form","fieldset","legend","label","area","audio","video","iframe","svg","details","table","[tabindex]","[contenteditable]","[usemap]"],r.callback=["TogglesCallback"],r.events=["click","change"],r.elements={CLICK:["A","BUTTON"],CHANGE:["SELECT","INPUT","TEXTAREA"]};const n=r},377:(t,e,s)=>{function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}s.d(e,{Z:()=>i})},9580:(t,e,s)=>{function i(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e,s){return e&&i(t.prototype,e),s&&i(t,s),t}s.d(e,{Z:()=>a})}},a={};function r(t){var e=a[t];if(void 0!==e)return e.exports;var s=a[t]={exports:{}};return i[t](s,s.exports,r),s.exports}r.d=(t,e)=>{for(var s in e)r.o(e,s)&&!r.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),t=r(377),e=r(4590),(s=function s(i){return(0,t.Z)(this,s),this.el=i,this._toggle=new e.Z({selector:s.selectors.TOGGLE}),this}).selector='[data-js="text-controller"]',s.selectors={TOGGLE:'[data-js*="text-controller__control"]'}})();
//# sourceMappingURL=toggle-controller.1a28dfed.js.map
!function(e){var t={};function s(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=t,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(i,r,function(t){return e[t]}.bind(null,r));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=109)}({1:function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0},109:function(e,t,s){e.exports=s(110)},110:function(e,t,s){"use strict";s.r(t);var i=s(19),r=s(52),a=s(14);!function(){var e=document.getElementById("feedback-form"),t=new i.a(e);new r.a;t.strings={VALID_REQUIRED:"This is required","VALID_{{ TYPE }}_INVALID":"Invalid"},t.selectors.ERROR_MESSAGE_PARENT=".c-question__container",t.watch(),t.submit=function(e){e.preventDefault();var s=Object(a.a)(t.FORM,{hash:!0}),i=new URLSearchParams;Object.keys(s).map((function(e){i.append(e,s[e])}));var r=document.querySelector("html");r.hasAttribute("lang")&&i.append("lang",r.getAttribute("lang")),fetch(t.FORM.getAttribute("action"),{method:t.FORM.getAttribute("method"),body:i}).then((function(e){var t=document.querySelector('[data-alert-name="feedback"]'),s=document.getElementById("feedback-form");t.classList.remove("hidden"),s.classList.add("hidden")})).catch((function(e){document.querySelector('[data-alert-name="feedback-error"]').classList.remove("hidden"),console.error("There has been a problem with your fetch operation:",e)}))}}()},14:function(e,t,s){"use strict";var i=/^(?:submit|button|image|reset|file)$/i,r=/^(?:input|select|textarea|keygen)/i,a=/(\[[^\[\]]*\])/g;function n(e,t,s){if(t.match(a))!function e(t,s,i){if(0===s.length)return i;var r=s.shift(),a=r.match(/^\[(.+?)\]$/);if("[]"===r)return t=t||[],Array.isArray(t)?t.push(e(null,s,i)):(t._values=t._values||[],t._values.push(e(null,s,i))),t;if(a){var n=a[1],l=+n;isNaN(l)?(t=t||{})[n]=e(t[n],s,i):(t=t||[])[l]=e(t[l],s,i)}else t[r]=e(t[r],s,i);return t}(e,function(e){var t=[],s=new RegExp(a),i=/^([^\[\]]*)/.exec(e);for(i[1]&&t.push(i[1]);null!==(i=s.exec(e));)t.push(i[1]);return t}(t),s);else{var i=e[t];i?(Array.isArray(i)||(e[t]=[i]),e[t].push(s)):e[t]=s}return e}function l(e,t,s){return s=(s=String(s)).replace(/(\r)?\n/g,"\r\n"),s=(s=encodeURIComponent(s)).replace(/%20/g,"+"),e+(e?"&":"")+encodeURIComponent(t)+"="+s}t.a=function(e,t){"object"!=typeof t?t={hash:!!t}:void 0===t.hash&&(t.hash=!0);for(var s=t.hash?{}:"",a=t.serializer||(t.hash?n:l),o=e&&e.elements?e.elements:[],c=Object.create(null),u=0;u<o.length;++u){var h=o[u];if((t.disabled||!h.disabled)&&h.name&&r.test(h.nodeName)&&!i.test(h.type)){var d=h.name,f=h.value;if("checkbox"!==h.type&&"radio"!==h.type||h.checked||(f=void 0),t.empty){if("checkbox"!==h.type||h.checked||(f=!1),"radio"===h.type&&(c[h.name]||h.checked?h.checked&&(c[h.name]=!0):c[h.name]=!1),null==f&&"radio"==h.type)continue}else if(!f)continue;if("select-multiple"!==h.type)s=a(s,d,f);else{f=[];for(var g=h.options,v=!1,R=0;R<g.length;++R){var m=g[R];m.selected&&(m.value||t.empty&&!m.value)&&(v=!0,s=t.hash&&"[]"!==d.slice(d.length-2)?a(s,d+"[]",m.value):a(s,d,m.value))}!v&&t.empty&&(s=a(s,d,""))}}}if(t.empty)for(var d in c)c[d]||(s=a(s,d,""));return s}},19:function(e,t,s){"use strict";var i=s(1),r=s.n(i),a=s(3),n=s.n(a),l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return r()(this,e),this.FORM=t,this.strings=e.strings,this.submit=e.submit,this.classes=e.classes,this.markup=e.markup,this.selectors=e.selectors,this.attrs=e.attrs,this.FORM.setAttribute("novalidate",!0),this}return n()(e,[{key:"joinValues",value:function(e){if(e.target.matches('input[type="checkbox"]')&&e.target.closest("[data-js-join-values]")){var t=e.target.closest("[data-js-join-values]"),s=document.querySelector(t.dataset.jsJoinValues);return s.value=Array.from(t.querySelectorAll('input[type="checkbox"]')).filter((function(e){return e.value&&e.checked})).map((function(e){return e.value})).join(", "),s}}},{key:"valid",value:function(e){for(var t=e.target.checkValidity(),s=e.target.querySelectorAll(this.selectors.REQUIRED),i=0;i<s.length;i++){var r=s[i];this.reset(r),r.validity.valid||this.highlight(r)}return t?this:t}},{key:"watch",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.FORM=t||this.FORM;for(var s=this.FORM.querySelectorAll(this.selectors.REQUIRED),i=function(t){var i=s[t];i.addEventListener("focus",(function(){e.reset(i)})),i.addEventListener("blur",(function(){i.validity.valid||e.highlight(i)}))},r=0;r<s.length;r++)i(r);return this.FORM.addEventListener("submit",(function(t){if(t.preventDefault(),!1===e.valid(t))return!1;e.submit(t)})),this}},{key:"reset",value:function(e){var t=this.selectors.ERROR_MESSAGE_PARENT?e.closest(this.selectors.ERROR_MESSAGE_PARENT):e.parentNode,s=t.querySelector("."+this.classes.ERROR_MESSAGE);return t.classList.remove(this.classes.ERROR_CONTAINER),s&&s.remove(),t.closest("form").classList.remove(this.classes.ERROR_CONTAINER),e.removeAttribute(this.attrs.ERROR_INPUT[0]),e.removeAttribute(this.attrs.ERROR_LABEL),this}},{key:"highlight",value:function(e){var t=this.selectors.ERROR_MESSAGE_PARENT?e.closest(this.selectors.ERROR_MESSAGE_PARENT):e.parentNode,s=document.createElement(this.markup.ERROR_MESSAGE),i="".concat(e.getAttribute("id"),"-").concat(this.classes.ERROR_MESSAGE);if(e.validity.valueMissing&&this.strings.VALID_REQUIRED)s.innerHTML=this.strings.VALID_REQUIRED;else if(!e.validity.valid&&this.strings["VALID_".concat(e.type.toUpperCase(),"_INVALID")]){var r="VALID_".concat(e.type.toUpperCase(),"_INVALID");s.innerHTML=this.strings[r]}else s.innerHTML=e.validationMessage;return s.setAttribute("id",i),s.setAttribute(this.attrs.ERROR_MESSAGE[0],this.attrs.ERROR_MESSAGE[1]),s.classList.add(this.classes.ERROR_MESSAGE),t.classList.add(this.classes.ERROR_CONTAINER),t.insertBefore(s,t.childNodes[0]),t.closest("form").classList.add(this.classes.ERROR_CONTAINER),e.setAttribute(this.attrs.ERROR_INPUT[0],this.attrs.ERROR_INPUT[1]),e.setAttribute(this.attrs.ERROR_LABEL,i),this}}]),e}();l.strings={},l.submit=function(){},l.classes={ERROR_MESSAGE:"error-message",ERROR_CONTAINER:"error",ERROR_FORM:"error"},l.markup={ERROR_MESSAGE:"div"},l.selectors={REQUIRED:'[required="true"]',ERROR_MESSAGE_PARENT:!1},l.attrs={ERROR_MESSAGE:["aria-live","polite"],ERROR_INPUT:["aria-invalid","true"],ERROR_LABEL:"aria-describedby"},t.a=l},3:function(e,t){function s(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(e,t,i){return t&&s(e.prototype,t),i&&s(e,i),e},e.exports.default=e.exports,e.exports.__esModule=!0},52:function(e,t,s){"use strict";class i{constructor(e){if(window.hasOwnProperty(i.callback)||(window[i.callback]=[]),e=e||{},this.settings={selector:e.selector?e.selector:i.selector,namespace:e.namespace?e.namespace:i.namespace,inactiveClass:e.inactiveClass?e.inactiveClass:i.inactiveClass,activeClass:e.activeClass?e.activeClass:i.activeClass,before:!!e.before&&e.before,after:!!e.after&&e.after,valid:!!e.valid&&e.valid,focusable:!e.hasOwnProperty("focusable")||e.focusable,jump:!e.hasOwnProperty("jump")||e.jump},this.element=!!e.element&&e.element,this.element)this.element.addEventListener("click",e=>{this.toggle(e)});else if(!window[i.callback].hasOwnProperty(this.settings.selector)){let e=document.querySelector("body");for(let t=0;t<i.events.length;t++){let s=i.events[t];e.addEventListener(s,e=>{if(!e.target.matches(this.settings.selector))return;this.event=e;let t=e.type.toUpperCase();this[e.type]&&i.elements[t]&&i.elements[t].includes(e.target.tagName)&&this[e.type](e)})}}return window[i.callback][this.settings.selector]=!0,this}click(e){this.toggle(e)}change(e){let t=e.target.checkValidity();(t&&!this.isActive(e.target)||!t&&this.isActive(e.target))&&this.toggle(e)}isActive(e){let t=!1;return this.settings.activeClass&&(t=e.classList.contains(this.settings.activeClass)),t}getTarget(e){let t=!1;return t=e.hasAttribute("href")?document.querySelector(e.getAttribute("href")):t,t=e.hasAttribute("aria-controls")?document.querySelector("#"+e.getAttribute("aria-controls")):t,t}toggle(e){let t=e.target,s=!1,r=[];if(e.preventDefault(),s=this.getTarget(t),r=s?s.querySelectorAll(i.elFocusable.join(", ")):r,!s)return this;if(this.elementToggle(t,s,r),t.dataset[this.settings.namespace+"Undo"]){const e=document.querySelector(t.dataset[this.settings.namespace+"Undo"]);e.addEventListener("click",i=>{i.preventDefault(),this.elementToggle(t,s),e.removeEventListener("click")})}return this}getOthers(e){let t=!1;return e.hasAttribute("href")?t=`[href="${e.getAttribute("href")}"]`:e.hasAttribute("aria-controls")&&(t=`[aria-controls="${e.getAttribute("aria-controls")}"]`),t?document.querySelectorAll(t):[]}toggleFocusable(e){return e.forEach(e=>{if("-1"===e.getAttribute("tabindex")){let t=e.getAttribute(`data-${i.namespace}-tabindex`);t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")}else e.setAttribute("tabindex","-1")}),this}jumpTo(e,t){return history.pushState("","",window.location.pathname+window.location.search),t.classList.contains(this.settings.activeClass)?(window.location.hash=e.getAttribute("href"),t.setAttribute("tabindex","0"),t.focus({preventScroll:!0})):t.removeAttribute("tabindex"),this}elementToggle(e,t,s=[]){let r=0,a="",n="";if(this.element=e,this.target=t,this.others=this.getOthers(e),this.focusable=s,this.settings.valid&&!this.settings.valid(this))return this;for(this.settings.before&&this.settings.before(this),this.settings.activeClass&&(this.element.classList.toggle(this.settings.activeClass),this.target.classList.toggle(this.settings.activeClass),this.others.forEach(e=>{e!==this.element&&e.classList.toggle(this.settings.activeClass)})),this.settings.inactiveClass&&t.classList.toggle(this.settings.inactiveClass),r=0;r<i.targetAriaRoles.length;r++)a=i.targetAriaRoles[r],n=this.target.getAttribute(a),""!=n&&n&&this.target.setAttribute(a,"true"===n?"false":"true");for(this.settings.focusable&&this.toggleFocusable(this.focusable),this.settings.jump&&this.element.hasAttribute("href")&&this.jumpTo(this.element,this.target),r=0;r<i.elAriaRoles.length;r++)a=i.elAriaRoles[r],n=this.element.getAttribute(a),""!=n&&n&&this.element.setAttribute(a,"true"===n?"false":"true"),this.others.forEach(e=>{e!==this.element&&e.getAttribute(a)&&e.setAttribute(a,"true"===n?"false":"true")});return this.settings.after&&this.settings.after(this),this}}i.selector='[data-js*="toggle"]',i.namespace="toggle",i.inactiveClass="hidden",i.activeClass="active",i.elAriaRoles=["aria-pressed","aria-expanded"],i.targetAriaRoles=["aria-hidden"],i.elFocusable=["a","button","input","select","textarea","object","embed","form","fieldset","legend","label","area","audio","video","iframe","svg","details","table","[tabindex]","[contenteditable]","[usemap]"],i.callback=["TogglesCallback"],i.events=["click","change"],i.elements={CLICK:["A","BUTTON"],CHANGE:["SELECT","INPUT","TEXTAREA"]};var r=i;class a{constructor(){return this.selector=a.selector,this.selectors=a.selectors,this.classes=a.classes,this.dataAttrs=a.dataAttrs,this.toggle=new r({selector:this.selector,after:e=>{let t=e.target.classList.contains(r.activeClass);if(t&&"true"===e.element.dataset[this.dataAttrs.LOCK])window.scroll(0,0),document.querySelector("body").classList.add(this.classes.OVERFLOW),e.focusable.item(e.focusable.length-1).addEventListener("blur",()=>{e.focusable.item(0).focus()});else{0===document.querySelectorAll([this.selector,this.selectors.locks,"."+r.activeClass].join("")).length&&document.querySelector("body").classList.remove(this.classes.OVERFLOW)}let s=`[aria-controls="${e.target.getAttribute("id")}"]`,i=document.querySelector(this.selectors.CLOSE+s),a=document.querySelector(this.selectors.OPEN+s);t&&i?i.focus():a&&a.focus()}}),this}}a.selector='[data-js*="dialog"]',a.selectors={CLOSE:'[data-dialog*="close"]',OPEN:'[data-dialog*="open"]',LOCKS:'[data-dialog-lock="true"]'},a.dataAttrs={LOCK:"dialogLock"},a.classes={OVERFLOW:"overflow-hidden"};var n=a;t.a=class extends n{constructor(){super()}}}});
//# sourceMappingURL=feedback.4a9fed26.js.map
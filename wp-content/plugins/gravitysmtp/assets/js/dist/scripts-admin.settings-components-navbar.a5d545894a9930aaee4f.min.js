"use strict";(self.webpackChunkgravitysmtp=self.webpackChunkgravitysmtp||[]).push([[3348,4688],{52166:function(t,n,e){e.r(n);var i=e(71860),o=e(88856),r=e(90455),a=e(78564),c=e.n(a),s=e(97867),u=e(8412),l=e(59092);function f(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,i)}return e}function g(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?f(Object(e),!0).forEach((function(n){(0,o.A)(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):f(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var p=s.React.forwardRef,d=s.React.useEffect,m=s.ReactRouter.useLocation,v=s.ReactRouter.useNavigate,b=p((function(t,n){var e=t.customAttributes,o=void 0===e?{}:e,a=t.customClasses,f=void 0===a?[]:a,p=t.data,b=void 0===p?{}:p,y=t.disabledNavItems,O=void 0===y?[]:y,D=t.i18n,_=void 0===D?{}:D,C=b.nav_items,h=void 0===C?[]:C,P=m(),j=v(),w=(0,l.default)((function(t){return t.settingsNavBlocked})),S=(0,l.default)((function(t){return t.setSettingsNavBlocked})),k=(0,l.default)((function(t){return t.setConfirmDialogSettings})),E=(0,l.default)((function(t){return t.setConfirmDialogOpen})),I=_||{},T=I.unsaved_changes_title,A=void 0===T?"":T,B=I.unsaved_changes_message,L=void 0===B?"":B;d((function(){var t=function(t){w&&(t.preventDefault(),t.returnValue="")};return window.addEventListener("beforeunload",t),function(){window.removeEventListener("beforeunload",t)}}),[w]);var N=h.filter((function(t){return!O.includes(t.param)})).map((function(t,n){var e=t.param,i=t.label,o=t.icon,r={item:{customClasses:["gravitysmtp-settings-app__nav-bar-item","gravitysmtp-settings-app__nav-bar-item--".concat(e)],key:"".concat(e,"-").concat(n)},icon:{customClasses:["gravitysmtp-settings-app__nav-bar-item-icon"],icon:o,iconPrefix:"gravitysmtp-admin-icon"},text:{content:i,customClasses:["gravitysmtp-settings-app__nav-bar-item-text"]}};if(O.includes(e))return g(g({},r),{},{item:g(g({},r.item),{},{active:!1,disabled:!0}),button:{customClasses:["gravitysmtp-settings-app__nav-bar-item-button","gravitysmtp-settings-app__nav-bar-item-button--".concat(e)],size:"size-height-m",type:"icon-white",disabled:!0}});var a=new URLSearchParams(P.search),c=b.nav_item_param_key||"tab",s=a.get(c);a.set(c,e);var u=g(g({},P),{},{search:"?".concat(a.toString())});return g(g({},r),{},{item:g(g({},r.item),{},{active:s===e}),link:{customClasses:["gravitysmtp-settings-app__nav-bar-item-link","gravitysmtp-settings-app__nav-bar-item-link--".concat(e)],to:u}})})),R=g({customClasses:(0,s.classnames)(["gravitysmtp-settings-app__nav-bar"],f),handleNavigationBlocked:function(t){var n;k({confirmDialogI18n:{confirm_change_content:L,confirm_change_heading:A},confirmDialogOpen:!0,confirmDialogOnCancel:function(){return E(!1)},confirmDialogOnClose:function(){return E(!1)},confirmDialogOnConfirm:(n=(0,r.A)(c().mark((function n(){var e,i;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:S(!1),E(!1),e=new URL(t),i=e.pathname+e.search,j(i);case 5:case"end":return n.stop()}}),n)}))),function(){return n.apply(this,arguments)})})},items:N,type:"icon-button",navigationBlocked:w},o);return s.React.createElement(u.A,(0,i.A)({},R,{ref:n}))}));b.propTypes={children:s.PropTypes.oneOfType([s.PropTypes.arrayOf(s.PropTypes.node),s.PropTypes.node]),customAttributes:s.PropTypes.object,customClasses:s.PropTypes.oneOfType([s.PropTypes.string,s.PropTypes.array,s.PropTypes.object])},b.displayName="NavBar",n.default=b},59092:function(t,n,e){e.r(n);var i,o,r,a,c,s,u=e(88856),l=e(40450),f=e.n(l),g=e(97867),p=e(16675),d=e(21713);function m(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,i)}return e}function v(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?m(Object(e),!0).forEach((function(n){(0,u.A)(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):m(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var b,y,O,D,_=(null===(i=(0,d.zj)(f(),"gravitysmtp_admin_config"))||void 0===i||null===(i=i.components)||void 0===i?void 0:i.settings)||{},C=(null===(o=(0,d.zj)(f(),"gravitysmtp_admin_config"))||void 0===o?void 0:o.common)||{},h={activeIntegration:(D=null==_||null===(O=_.data)||void 0===O||null===(O=O.integrations)||void 0===O?void 0:O.find((function(t){var n;return null==t||null===(n=t.data)||void 0===n?void 0:n.enabled})),(null==D?void 0:D.id)||""),activeIntegrationSettings:"",confirmDialogI18n:{},confirmDialogOnCancel:function(){},confirmDialogOnClose:function(){},confirmDialogOnConfirm:function(){},confirmDialogOpen:!1,confirmDialogConfirmButtonType:"primary-new",debugLogEnabled:(null==C||null===(r=C.data)||void 0===r?void 0:r.debug_log_enabled)||!1,experimentalFeatures:(null==C||null===(a=C.data)||void 0===a?void 0:a.experimental_features)||{},integrations:(null==_||null===(c=_.data)||void 0===c?void 0:c.integrations)||[],integrationSettingsDialogOpen:!1,integrationSettingsFormData:(y={},null==_||null===(b=_.data)||void 0===b||null===(b=b.integrations)||void 0===b||b.forEach((function(t){y[t.id]=(null==t?void 0:t.data)||{}})),y),noticeDialogOpen:!1,pageLoaderActive:!1,settingsNavBlocked:!1,testModeEnabled:(null==C||null===(s=C.data)||void 0===s?void 0:s.test_mode_enabled)||!1},P=(0,p.vt)(h,(function(t){return{setActiveIntegration:function(n){return t((function(){return{activeIntegration:n}}))},setActiveIntegrationSettings:function(n){return t((function(){return{activeIntegrationSettings:n}}))},setConfirmDialogOpen:function(n){return t((function(){return{confirmDialogOpen:n}}))},setConfirmDialogSettings:function(n){var e=n.confirmDialogCustomAttributes,i=void 0===e?{}:e,o=n.confirmDialogI18n,r=void 0===o?{}:o,a=n.confirmDialogOpen,c=void 0!==a&&a,s=n.confirmDialogOnCancel,u=void 0===s?function(){}:s,l=n.confirmDialogOnClose,f=void 0===l?function(){}:l,g=n.confirmDialogOnConfirm,p=void 0===g?function(){}:g,d=n.confirmDialogConfirmButtonType,m=void 0===d?"primary-new":d;t((function(){return{confirmDialogCustomAttributes:i,confirmDialogConfirmButtonType:m,confirmDialogI18n:r,confirmDialogOpen:c,confirmDialogOnCancel:u,confirmDialogOnClose:f,confirmDialogOnConfirm:p}}))},setExperimentalFeatures:function(n,e){return t((function(t){return{experimentalFeatures:v(v({},t.experimentalFeatures),{},(0,u.A)({},n,e))}}))},setIntegrationSettingsDialogOpen:function(n){return t((function(){return{integrationSettingsDialogOpen:n}}))},setNoticeDialogOpen:function(n){return t((function(){return{noticeDialogOpen:n}}))},setPageLoaderActive:function(n){return t((function(){return{pageLoaderActive:n}}))},setIntegrationSettingsFormData:function(n,e,i){return t((0,g.immer)((function(t){t.integrationSettingsFormData[n]||(t.integrationSettingsFormData[n]={}),t.integrationSettingsFormData[n][e]=i})))},setDebugLogEnabled:function(n){return t((function(){return{debugLogEnabled:n}}))},setSettingsNavBlocked:function(n){return t((function(){return{settingsNavBlocked:n}}))},setTestModeEnabled:function(n){return t((function(){return{testModeEnabled:n}}))},updateIntegrationSettings:function(n,e){return t((function(){return{activeIntegrationSettings:n,integrationSettingsDialogOpen:e}}))},updateIntegrationStatus:function(n,e){var i=e.activated,o=e.configured,r=e.enabled,a=e.is_primary,c=e.is_backup;return t((0,g.immer)((function(t){var e=t.integrations.find((function(t){return t.id===n}));e&&(e.data||(e.data={}),void 0!==i&&(e.data.activated=i),void 0!==o&&(e.data.configured=o),void 0!==r&&(e.data.enabled=r),void 0!==a&&(e.data.is_primary=a),void 0!==c&&(e.data.is_backup=c))})))}}}));n.default=P}}]);
!function(e){function t(t){for(var r,o,c=t[0],i=t[1],u=t[2],p=0,f=[];p<c.length;p++)o=c[p],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);for(l&&l(t);f.length;)f.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,c=1;c<n.length;c++){var i=n[c];0!==a[i]&&(r=!1)}r&&(s.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={7:0},s=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var c=window.webpackWPML=window.webpackWPML||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=i;s.push([1272,0]),n()}({103:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(14),a=n.n(r),s=n(16),o=n.n(s),c=n(57),i=function(){function e(){a()(this,e)}return o()(e,null,[{key:"dispatchCancelledJobsEvent",value:function(e){Object(c.a)("tp-jobs-cancelled",{cancelledJobs:e})}},{key:"dispatchDownloadedJobsEvent",value:function(e){Object(c.a)("tp-jobs-downloaded",{downloadedJobs:e})}},{key:"dispatchDownloadingJobsDoneEvent",value:function(){Object(c.a)("tp-jobs-downloading-done")}}]),e}()},12:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return b})),n.d(t,"r",(function(){return d})),n.d(t,"q",(function(){return j})),n.d(t,"h",(function(){return h})),n.d(t,"d",(function(){return m})),n.d(t,"n",(function(){return v})),n.d(t,"c",(function(){return y})),n.d(t,"f",(function(){return O})),n.d(t,"e",(function(){return g})),n.d(t,"l",(function(){return w})),n.d(t,"k",(function(){return E})),n.d(t,"o",(function(){return T})),n.d(t,"m",(function(){return k})),n.d(t,"j",(function(){return P})),n.d(t,"i",(function(){return S})),n.d(t,"p",(function(){return _})),n.d(t,"g",(function(){return x}));var r=n(49),a=n(453),s=n(454),o=n(40),c=n(129),i=n(54),u=n(161),l=n(367),p=n(199),f={CANCELLED:0,WAITING_FOR_TRANSLATOR:1,IN_PROGRESS:2,NEEDS_UPDATE:3,TRANSLATION_READY_TO_DOWNLOAD:4,COMPLETED:10,ATE_NEEDS_RETRY:40,NEEDS_REVIEW:30},b={IN_PROGRESS:2,TRANSLATED:6,DELIVERING:7,EDITED:15,CANCELLED:20,NO_CREDIT:31,HIDDEN:42},d=Object(r.a)("type","post"),j=Object(r.a)("type","package"),h=Object(a.a)([Object(r.a)("review_status","NEEDS_REVIEW"),Object(r.a)("review_status","EDITING")]),m=function(e){return!!v(e)&&(e.status===f.WAITING_FOR_TRANSLATOR||e.status===f.IN_PROGRESS)},v=function(e){return"local"===e.translation_service_id},y=function(e){return!v(e)&&(e.status===f.IN_PROGRESS||e.status===f.COMPLETED)&&e.batch.tp_id&&!e.isBatchSynced},O=function(e){return!v(e)&&(Object(o.a)("status",e)===f.TRANSLATION_READY_TO_DOWNLOAD||Object(o.a)("status",e)===f.COMPLETED)},g=function(e){return!v(e)&&Object(c.a)(Object(o.a)("status",e),[f.TRANSLATION_READY_TO_DOWNLOAD,f.COMPLETED])},w=Object(i.a)(Object(o.a)("status"),Object(c.a)(u.a,[f.WAITING_FOR_TRANSLATOR,f.IN_PROGRESS])),E=function(e){return t=e.automatic,Object(s.a)(String,t)?"0"!==t&&"false"!==t:!!t;var t},T=Object(l.a)(E),k=function(e,t){return e.id===t.id&&e.type===t.type},P=function(e,t){return void 0!==e.find((function(e){return e.status===t}))},S=function(e){return Object(p.a)(0,["extra_data","icl_translate_job_id"],e)},_=function(e){return!(!e.deadline||!w(e))&&new Date>new Date(e.deadline)},x=function(e,t){return e&&e.id===parseInt(t.translation_service_id)}},123:function(e,t,n){},1233:function(e,t){},1236:function(e,t,n){var r={"./af":701,"./af.js":701,"./ar":702,"./ar-dz":703,"./ar-dz.js":703,"./ar-kw":704,"./ar-kw.js":704,"./ar-ly":705,"./ar-ly.js":705,"./ar-ma":706,"./ar-ma.js":706,"./ar-sa":707,"./ar-sa.js":707,"./ar-tn":708,"./ar-tn.js":708,"./ar.js":702,"./az":709,"./az.js":709,"./be":710,"./be.js":710,"./bg":711,"./bg.js":711,"./bm":712,"./bm.js":712,"./bn":713,"./bn-bd":714,"./bn-bd.js":714,"./bn.js":713,"./bo":715,"./bo.js":715,"./br":716,"./br.js":716,"./bs":717,"./bs.js":717,"./ca":718,"./ca.js":718,"./cs":719,"./cs.js":719,"./cv":720,"./cv.js":720,"./cy":721,"./cy.js":721,"./da":722,"./da.js":722,"./de":723,"./de-at":724,"./de-at.js":724,"./de-ch":725,"./de-ch.js":725,"./de.js":723,"./dv":726,"./dv.js":726,"./el":727,"./el.js":727,"./en-au":728,"./en-au.js":728,"./en-ca":729,"./en-ca.js":729,"./en-gb":730,"./en-gb.js":730,"./en-ie":731,"./en-ie.js":731,"./en-il":732,"./en-il.js":732,"./en-in":733,"./en-in.js":733,"./en-nz":734,"./en-nz.js":734,"./en-sg":735,"./en-sg.js":735,"./eo":736,"./eo.js":736,"./es":737,"./es-do":738,"./es-do.js":738,"./es-mx":739,"./es-mx.js":739,"./es-us":740,"./es-us.js":740,"./es.js":737,"./et":741,"./et.js":741,"./eu":742,"./eu.js":742,"./fa":743,"./fa.js":743,"./fi":744,"./fi.js":744,"./fil":745,"./fil.js":745,"./fo":746,"./fo.js":746,"./fr":747,"./fr-ca":748,"./fr-ca.js":748,"./fr-ch":749,"./fr-ch.js":749,"./fr.js":747,"./fy":750,"./fy.js":750,"./ga":751,"./ga.js":751,"./gd":752,"./gd.js":752,"./gl":753,"./gl.js":753,"./gom-deva":754,"./gom-deva.js":754,"./gom-latn":755,"./gom-latn.js":755,"./gu":756,"./gu.js":756,"./he":757,"./he.js":757,"./hi":758,"./hi.js":758,"./hr":759,"./hr.js":759,"./hu":760,"./hu.js":760,"./hy-am":761,"./hy-am.js":761,"./id":762,"./id.js":762,"./is":763,"./is.js":763,"./it":764,"./it-ch":765,"./it-ch.js":765,"./it.js":764,"./ja":766,"./ja.js":766,"./jv":767,"./jv.js":767,"./ka":768,"./ka.js":768,"./kk":769,"./kk.js":769,"./km":770,"./km.js":770,"./kn":771,"./kn.js":771,"./ko":772,"./ko.js":772,"./ku":773,"./ku.js":773,"./ky":774,"./ky.js":774,"./lb":775,"./lb.js":775,"./lo":776,"./lo.js":776,"./lt":777,"./lt.js":777,"./lv":778,"./lv.js":778,"./me":779,"./me.js":779,"./mi":780,"./mi.js":780,"./mk":781,"./mk.js":781,"./ml":782,"./ml.js":782,"./mn":783,"./mn.js":783,"./mr":784,"./mr.js":784,"./ms":785,"./ms-my":786,"./ms-my.js":786,"./ms.js":785,"./mt":787,"./mt.js":787,"./my":788,"./my.js":788,"./nb":789,"./nb.js":789,"./ne":790,"./ne.js":790,"./nl":791,"./nl-be":792,"./nl-be.js":792,"./nl.js":791,"./nn":793,"./nn.js":793,"./oc-lnc":794,"./oc-lnc.js":794,"./pa-in":795,"./pa-in.js":795,"./pl":796,"./pl.js":796,"./pt":797,"./pt-br":798,"./pt-br.js":798,"./pt.js":797,"./ro":799,"./ro.js":799,"./ru":800,"./ru.js":800,"./sd":801,"./sd.js":801,"./se":802,"./se.js":802,"./si":803,"./si.js":803,"./sk":804,"./sk.js":804,"./sl":805,"./sl.js":805,"./sq":806,"./sq.js":806,"./sr":807,"./sr-cyrl":808,"./sr-cyrl.js":808,"./sr.js":807,"./ss":809,"./ss.js":809,"./sv":810,"./sv.js":810,"./sw":811,"./sw.js":811,"./ta":812,"./ta.js":812,"./te":813,"./te.js":813,"./tet":814,"./tet.js":814,"./tg":815,"./tg.js":815,"./th":816,"./th.js":816,"./tk":817,"./tk.js":817,"./tl-ph":818,"./tl-ph.js":818,"./tlh":819,"./tlh.js":819,"./tr":820,"./tr.js":820,"./tzl":821,"./tzl.js":821,"./tzm":822,"./tzm-latn":823,"./tzm-latn.js":823,"./tzm.js":822,"./ug-cn":824,"./ug-cn.js":824,"./uk":825,"./uk.js":825,"./ur":826,"./ur.js":826,"./uz":827,"./uz-latn":828,"./uz-latn.js":828,"./uz.js":827,"./vi":829,"./vi.js":829,"./x-pseudo":830,"./x-pseudo.js":830,"./yo":831,"./yo.js":831,"./zh-cn":832,"./zh-cn.js":832,"./zh-hk":833,"./zh-hk.js":833,"./zh-mo":834,"./zh-mo.js":834,"./zh-tw":835,"./zh-tw.js":835};function a(e){var t=s(e);return n(t)}function s(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=s,e.exports=a,a.id=1236},1237:function(e,t,n){},1238:function(e,t,n){},1272:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(38),o=n.n(s),c=n(2),i=n(3),u=n.n(i),l=n(7),p=n.n(l),f=n(15),b=n.n(f),d=(n(1233),n(99)),j=n(67),h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this.type=e,this.message=t,this.description=n},m=function(e,t){e.notifications=[t]},v=function(e,t){e.notifications=t},y=function(e){e.notifications=[]},O=n(1);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=function(e){return Object(c.e)(function(){var t=p()(u.a.mark((function t(n,r){var a,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.job,s=r.translator,t.prev=1,t.next=4,e.assignTranslator(a,s.value);case 4:if(t.sent.assigned){t.next=7;break}throw new Error("A local translator could not be assigned.");case 7:n.updateJob(w(w({},a),{},{translator_name:s.label})),n.setNotification(new h("success",Object(O.a)("The translator has been assigned to the job","sitepress"))),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n.setNotification(new h("error",Object(O.a)("The translator could not be assigned to the job","sitepress")));case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,n){return t.apply(this,arguments)}}())},T=n(17),k=n(40),P=n(172),S=n(12);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=function(e){return Object(c.e)(function(){var t=p()(u.a.mark((function t(n,r){var a,s,o,c,i,l,p,f,b,d,j,m;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(O.a)("Approving translations reviews failed!","sitepress");n.setNotification(new h("error",t,e))},t.prev=1,t.next=4,Object(T.a)(k.a("approveTranslationsReviews",e),{jobsIds:r.map(S.i)});case 4:if(s=t.sent,o=s.data,c=o.data,o.success){t.next=11;break}return a(),t.abrupt("return");case 11:i=[],c.length?(l=c.filter((function(e){return!0!==e.status})).map((function(e){return parseInt(e.jobId)})),p=c.filter((function(e){return!0===e.status})).map((function(e){return parseInt(e.jobId)})),l.length&&(f=r.filter((function(e){return l.includes(e.extra_data.icl_translate_job_id)})),b=P.a((function(e,t){return e+t.element.name+" (From "+t.languages.source+" To "+t.languages.target+") "}),Object(O.a)("Failed approving translations for the following posts: ","sitepress"),f),i.push(new h("error",b))),p.length&&(d=r.filter((function(e){return p.includes(e.extra_data.icl_translate_job_id)})),n.updateJobs(d.map((function(e){return x(x({},e),{},{review_status:"COMPLETED"})}))),j=Object(O.a)("Translations reviews approved successfully!","sitepress"),i.push(new h("success",j))),n.setNotifications(i)):(m=Object(O.a)("No valid jobs selected to approve translations reviews!","sitepress"),n.setNotification(new h("warning",m))),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),a();case 18:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e,n){return t.apply(this,arguments)}}())},D=n(129);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R=function(e){return Object(c.e)(function(){var t=p()(u.a.mark((function t(n,r){var a,s,o,c,i,l,p,f;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.jobs,s=r.deleteDrafts,t.prev=1,t.next=4,Object(T.a)(k.a("cancelTranslationReviews",e),{jobsIds:a.map(S.i),deleteDrafts:s});case 4:if(o=t.sent,c=o.data,i=c.data,l=c.success,0!==i.length&&l){t.next=10;break}throw new Error;case 10:l&&i&&(n.updateJobs(a.filter((function(e){return D.a(Object(S.i)(e),i)})).map((function(e){return L(L({},e),{},s?{status:S.b.CANCELLED}:{review_status:null})}))),p=i.length>1?Object(O.a)("Translation reviews have been canceled","sitepress"):Object(O.a)("Translation review has been canceled","sitepress"),n.setNotification(new h("success",p))),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),f=a.lenght>1?Object(O.a)("Translation reviews could not be canceled","sitepress"):Object(O.a)("Translation review could not be canceled","sitepress"),n.setNotification(new h("error",f));case 17:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e,n){return t.apply(this,arguments)}}())},A=n(27),C=n.n(A),F=n(167),J=n(168),M=n(71),z=n(169);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var K=function(e,t){var n=Object(M.a)();return n.addAction("wpml-tm-job-translations-processed","DownloadTranslations",t),new z.a(e,n)},B=function(e){return Object(c.e)(function(){var t=p()(u.a.mark((function t(n,r){var a,s,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=K(e,(function(e){return n.updateJobs(e.map((function(e){return W(W({},e),{},{status:S.b.COMPLETED})})))})),t.next=5,a.download(r);case 5:s=r.length>1?Object(O.a)("Translations have been downloaded","sitepress"):Object(O.a)("Translation has been downloaded","sitepress"),n.setNotification(new h("success",s)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),o=r.length>1?Object(O.a)("Translations could not be downloaded","sitepress"):Object(O.a)("Translation could not be downloaded","sitepress"),n.setNotification(new h("error",o));case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}())},G=n(389);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V=function(){var e=p()(u.a.mark((function e(t,n){var r,a,s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new J.a(t),e.next=3,r.sync(n);case 3:return a=e.sent,s=a.ready,o=a.cancelled,e.abrupt("return",{syncJobsReadyToDownload:s,cancelledJobs:o});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Y=function(){var e=p()(u.a.mark((function e(t,n,r){var a,s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.map((function(e){return e.id})).join(","),e.next=3,t.loadJobs({pageName:"tm-jobs",limit:0,offset:0,ids:a});case 3:return s=e.sent,o=s.jobs,e.next=7,B(t)(n,o);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),H=function(e,t,n){var r=G.a("id",n);e.updateJobs(t.filter((function(e){return D.a(e.id,r)})).map((function(e){return X(X({},e),{},{status:S.b.CANCELLED})})))},Q=n(14),Z=n.n(Q),$=n(16),ee=n.n($),te=n(510),ne=n.n(te),re=function(){function e(t){Z()(this,e),this.jobsAPI=t}var t;return ee()(e,[{key:"run",value:(t=p()(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.jobsAPI.downloadXLIFF(t);case 2:n=e.sent,ne()(n,"job-".concat(t.id,".xliff"));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),ae=function(e){return Object(c.e)(function(){var t=p()(u.a.mark((function t(n,r){var a,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=new re(e),t.next=4,a.run(r);case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),s=Object(O.a)("Download XLIFF file couldn't be finished","sitepress"),n.setNotification(new h("error",s));case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,n){return t.apply(this,arguments)}}())},se=n(1306),oe=n(873);function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue=n(49);function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fe=function(e,t){return Object(c.e)(function(){var n=p()(u.a.mark((function n(r,a){var s,o,c,i,l;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=a.job,o=a.translatorId,c=function(e){return e.languagePairs.some((function(e){var t=e.source,n=e.target;return t===s.language_codes.source&&n===s.language_codes.target}))},i=t.filter(c).find(ue.a("value",o)),n.prev=3,n.next=6,e.assignTranslator(s,i.value);case 6:if(n.sent.assigned){n.next=9;break}throw new Error("A local translator could not be assigned.");case 9:return r.updateJob(pe(pe({},s),{},{translator_name:i.label,status:S.b.IN_PROGRESS})),(l=new URL(s.edit_url)).searchParams.append("return_url",window.location.href),n.abrupt("return",l.toString());case 15:return n.prev=15,n.t0=n.catch(3),r.setNotification(new h("error",Object(O.a)("The translator could not be assigned to the job","sitepress"))),n.abrupt("return","");case 19:case"end":return n.stop()}}),n,null,[[3,15]])})));return function(e,t){return n.apply(this,arguments)}}())},be=n(1322),de=n(73),je=n(54),he=n(149),me=n(65),ve=n(9),ye=n.n(ve),Oe=n(78),ge=n(398),we=n(453),Ee=n(441),Te=n(1299),ke=n(178);function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _e=function(e,t){return function(n){var r;n[e]&&delete(n=Se(Se({},n),{},(r={},b()(r,"".concat(t,"_from"),n[e][0]),b()(r,"".concat(t,"_to"),n[e][1]),r)))[e];return n}},xe=je.a((function(e){return e.translated_by&&!se.a(e.translated_by)&&(e=Se(Se({},e),function(e){switch(e){case"any-service":return{scope:"remote",translated_by:void 0};case"any-local-translator":return{scope:"local",translated_by:void 0};case"automatic":return{translated_by:void 0,only_automatic:!0};default:return e.includes("translator-")?{scope:"local",translated_by:parseInt(e.substr("translator-".length))}:e.includes("service-")?{scope:"remote",translated_by:parseInt(e.substr("service-".length))}:{scope:"all"}}}(e.translated_by))),e}),(function(e){if(e.language){var t=ye()(e.language,2),n=t[0],r=t[1],a=void 0===r?[]:r;delete(e=Se(Se({},e),{},{source_language:n,target_language:a.join(",")})).language}return e}),(function(e){if(!se.a(me.a([],"status",e))){var t=void 0!==oe.a(Oe.a(S.b.NEEDS_UPDATE),e.status);e=Se(Se({},e),{},{status:e.status.join(","),needs_update:t?"include":null})}return e}),_e("sent_date","sent"),_e("deadline_date","deadline"),ge.a(we.a([se.a,Ee.a]))),Ie=function(e){var t=Te.a([[Oe.a("ascend"),ke.a("asc")],[Oe.a("descend"),ke.a("desc")],[ke.a(1),ke.a(void 0)]]);return e=e.filter(k.a("order")).reduce((function(e,n){return e[n.columnKey]=t(n.order),e}),{})},De=function(e,t,n,r){return Se(Se(Se({},xe(e)),n),{},{sorting:Ie(t),pageName:r})};function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Re=function(e){return Object(c.e)(function(){var t=p()(u.a.mark((function t(n,r){var a,s,o,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.cancelJobs(r);case 3:if(a=t.sent,s=G.a("id",a),!se.a(s)){t.next=7;break}throw new Error("No jobs have been cancelled");case 7:return n.updateJobs(r.filter((function(e){return D.a(e.id,s)})).map((function(e){return Le(Le({},e),{},{status:S.b.CANCELLED})}))),o=s.length>1?Object(O.a)("The jobs have been cancelled","sitepress"):Object(O.a)("The job has been cancelled","sitepress"),n.setNotification(new h("success",o)),t.abrupt("return",!0);case 13:return t.prev=13,t.t0=t.catch(0),c=r.lenght>1?Object(O.a)("The jobs could not be cancelled","sitepress"):Object(O.a)("The job could not be cancelled","sitepress"),n.setNotification(new h("error",c)),t.abrupt("return",!1);case 18:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,n){return t.apply(this,arguments)}}())},Ae=n(36),Ce=function(e,t){return Object(c.e)(function(){var n=p()(u.a.mark((function n(r){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=9;break}return n.prev=1,n.next=4,e.synchronizeStatusesWithTP();case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(1),r.setNotification(new h("error",Object(O.a)("Synchronization with the Professional Translation service has failed","sitepress")));case 9:case"end":return n.stop()}}),n,null,[[1,6]])})));return function(e){return n.apply(this,arguments)}}())};function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Me=function(e){return"translation-queue"===e?[{}]:[{columnKey:"id",order:"descend"}]},ze=function(e){return"translation-queue"===e?Object(O.a)("Loading translations queue","sitepress"):Object(O.a)("Loading translation jobs","sitepress")},qe=n(351),We=n(161);function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ge=[{value:S.b.WAITING_FOR_TRANSLATOR,text:Object(O.a)("Needs translation","sitepress")},{value:S.b.IN_PROGRESS,text:Object(O.a)("In progress","sitepress")},{value:S.b.NEEDS_UPDATE,text:Object(O.a)("Needs update","sitepress")},{value:S.b.TRANSLATION_READY_TO_DOWNLOAD,text:Object(O.a)("Translation ready to download","sitepress")},{value:S.b.NEEDS_REVIEW,text:Object(O.a)("Pending review","sitepress")},{value:S.b.COMPLETED,text:Object(O.a)("Completed","sitepress")}],Ue=[{value:S.b.COMPLETED,text:Object(O.a)("Completed","sitepress")},{value:S.b.NEEDS_UPDATE,text:Object(O.a)("Needs update","sitepress")},{value:S.b.IN_PROGRESS,text:Object(O.a)("In progress","sitepress")},{value:S.b.WAITING_FOR_TRANSLATOR,text:Object(O.a)("Needs translation","sitepress")},{value:S.b.NEEDS_REVIEW,text:Object(O.a)("Pending review","sitepress")}],Xe=function(e){var t=window.localStorage.getItem("wpml-job-list-collapsed");return Ee.a(t)&&(t=["id","sent_date","batch_name"]),e.map((function(e){return D.a(e.id,t)?Be(Be({},e),{},{collapsed:!0}):e}))},Ve=function(e){return{columns:Xe((t=e,n=t.page,r=t.isBasketUsed,a=[],s="translation-queue"===n&&!r,a.push({id:"id",title:Object(O.a)("ID","sitepress"),collapsible:!0}),a.push({id:"title",title:Object(O.a)("Title","sitepress"),collapsible:!1}),a.push({id:"element_type",title:Object(O.a)("Type","sitepress"),collapsible:!0}),a.push({id:"language",title:Object(O.a)("Languages","sitepress"),collapsible:!0}),s||a.push({id:"batch_name",title:Object(O.a)("Batch name","sitepress"),collapsible:!0,collapsed:!1}),"translation-queue"!==n&&a.push({id:"translated_by",title:Object(O.a)("Translated by","sitepress"),collapsible:!0}),a.push({id:"sent_date",title:Object(O.a)("Sent on","sitepress"),collapsible:!0,collapsed:!1}),s||a.push({id:"deadline_date",title:Object(O.a)("Deadline","sitepress"),collapsible:!0}),a.push({id:"status",title:Object(O.a)("Status","sitepress"),collapsible:!1,options:"translation-queue"===n?Ue:Ge}),a)),showColumns:Object(c.b)((function(e,t){e.columns=e.columns.map((function(e){return e.collapsible?D.a(e.id,t)?Be(Be({},e),{},{collapsed:!1}):Be(Be({},e),{},{collapsed:!0}):e}));var n=je.a(qe.a(k.a("collapsible")),G.a("id"),ge.a(D.a(We.a,t)))(e.columns);window.localStorage.setItem("wpml-job-list-collapsed",n)}))};var t,n,r,a,s};function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function He(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qe=function(e){var t,n=e.pageSize,r=void 0===n?20:n,a=e.jobsAPI,s=void 0===a?new d.a(new j.a):a,o=e.settings,i=void 0===o?{}:o,l=e.hasAnyJobsToSync,f=void 0!==l&&l,b=e.syncATEJobs,g={};if(i.queryFilters.status&&(g.status=i.queryFilters.status),i.queryFilters.element_type&&(g.element_type=i.queryFilters.element_type),i.queryFilters.targetLanguages){var w=i.languagePairs[0].source.code;g.language=[w,i.queryFilters.targetLanguages]}return Object(c.d)(He(He(He(He(He(He({settings:i},{notifications:[],setNotification:Object(c.b)(m),setNotifications:Object(c.b)(v),clearNotifications:Object(c.b)(y)}),function(e,t,n,r){return{loading:void 0,_jobs:[],jobs:Object(c.c)([function(e){return e._jobs},function(e){return e.jobsWithInsufficientBalance}],(function(e,t){return de.a((function(e){return Je(Je({},e),{},{hasInsufficientBalance:D.a(e.extra_data.icl_translate_job_id,t)})}),e)})),total:n,pageSize:n,currentPage:1,sorting:Me(t),filters:r,selectedJobIds:[],selectedJobs:Object(c.c)([function(e){return e.jobs},function(e){return e.selectedJobIds}],(function(e,t){return e.filter((function(e){var n=e.id;return D.a(n,t)}))})),includeProfessionalTranslations:window.localStorage.getItem("wpml-job-list-include-professional-translations")>0,mouseOverJobId:null,loadJobs:Object(c.e)(function(){var n=p()(u.a.mark((function n(r,a,s){var o,c,i,l;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=s.getState,c={limit:o().pageSize,offset:(o().currentPage-1)*o().pageSize},r.setLoading(ze(t)),n.prev=3,i=De(o().filters,o().sorting,c,t),"translation-queue"===t&&o().includeProfessionalTranslations&&(i.includeTranslationServiceJobs=1),n.next=8,e.loadJobs(i);case 8:l=n.sent,r.setJobs(l),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(3),r.setJobs({jobs:[],total:0}),r.setNotification(new h("error",Object(O.a)("Jobs could not be loaded","sitepress")));case 16:return n.prev=16,r.setLoading(!1),n.finish(16);case 19:case"end":return n.stop()}}),n,null,[[3,12,16,19]])})));return function(e,t,r){return n.apply(this,arguments)}}()),setLoading:Object(Ae.a)("loading"),setSelectedJobIds:Object(Ae.a)("selectedJobIds"),setJobs:Object(c.b)((function(e,t){var n=t.jobs,r=t.total;e._jobs=n,e.total=r})),updateJob:Object(c.b)((function(e,t){e._jobs=e._jobs.map((function(e){return e.id===t.id?t:e}))})),updateJobs:Object(c.b)((function(e,t){e._jobs=e._jobs.map((function(e){return oe.a(ue.a("id",e.id),t)||e}))})),setFilters:Object(Ae.a)("filters"),setPagination:Object(c.b)((function(e,t){var n=t.currentPage,r=t.pageSize;e.currentPage=n,e.pageSize=r})),setFiltersAndPagination:Object(c.b)((function(e,t){var n=t.currentPage,r=t.pageSize,a=t.filters;e.currentPage=n,e.pageSize=r,e.filters=a})),setSorting:Object(Ae.a)("sorting"),setIncludeProfessionalTranslations:Object(c.b)((function(e,t){e.includeProfessionalTranslations=t,window.localStorage.setItem("wpml-job-list-include-professional-translations",t?1:0)})),setMouseOverJobId:Object(Ae.a)("mouseOverJobId"),onJobRefreshNeeded:Object(c.f)((function(e){return[e.setSorting,e.setFilters,e.setPagination,e.setFiltersAndPagination,e.setIncludeProfessionalTranslations]}),(function(e){return e.loadJobs()}))}}(s,i.page,r,g)),function(e,t){return{jobsWithInsufficientBalance:[],setJobsWithInsufficientBalance:Object(Ae.a)("jobsWithInsufficientBalance"),synchronizeATEJobs:Object(c.e)(function(){var n=p()(u.a.mark((function n(r){var a;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=11;break}return n.prev=1,n.next=4,e.syncAndDownload({suspendCycleRepeat:!0});case 4:a=n.sent,r.setJobsWithInsufficientBalance(G.a("jobId",a.insufficientBalanceJobs)),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),r.setNotification(new h("error",Object(O.a)("The Advanced Editor jobs synchronization has failed","sitepress")));case 11:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}())}}(b,f)),{},{synchronizeTranslationProxyJobs:Ce(s,i.translationService),initialize:Object(c.e)(function(){var e=p()(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setLoading(ze(i.page)),e.next=3,t.synchronizeATEJobs();case 3:return e.next=5,t.synchronizeTranslationProxyJobs();case 5:return e.next=7,t.loadJobs();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),assignTranslator:E(s),cancelJobs:Re(s),applyTranslations:B(s)},function(e,t){return{translationProxyBatchSyncIds:[],setTranslationProxyBatchSyncIds:Object(c.b)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.translationProxyBatchSyncIds=t})),translationProxyBatchSync:Object(c.e)(function(){var n=p()(u.a.mark((function n(r,a){var s,o,c,i,l,p,f,b,d,j,m,v,y;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=a.jobs,o=a.storeJobs,c=s.map((function(e){return e.batch.tp_id})),r.setTranslationProxyBatchSyncIds(c),n.prev=3,i=[],l=new F.a(e,t.batchSyncTimeout),n.next=8,l.run(c);case 8:return p=o.filter((function(e){return D.a(e.batch.tp_id,c)&&e.status===S.b.TRANSLATION_READY_TO_DOWNLOAD})),n.next=11,V(e,s);case 11:if(f=n.sent,b=f.syncJobsReadyToDownload,d=f.cancelledJobs,!((j=p.length>0?[].concat(C()(b),C()(p)):b).length>0)){n.next=20;break}return n.next=18,Y(e,r,j);case 18:m=Object(O.c)(Object(O.b)("%d translation has been downloaded","%d translations have been downloaded",j.length,"sitepress"),j.length),i.push(new h("success",m));case 20:d.length>0&&H(r,o,d),v=Object(O.a)("Batch sync finished successfully!","sitepress"),i.push(new h("success",v)),r.setNotifications(i),n.next=30;break;case 26:n.prev=26,n.t0=n.catch(3),y=Object(O.a)("Batch sync couldn't be finished","sitepress"),r.setNotification(new h("error",y));case 30:r.setTranslationProxyBatchSyncIds([]);case 31:case"end":return n.stop()}}),n,null,[[3,26]])})));return function(e,t){return n.apply(this,arguments)}}())}}(s,i)),{},{downloadXliff:ae(s),openEditor:fe(s,i.localTranslators),resign:(t=i.endpoints,Object(c.e)(function(){var e=p()(u.a.mark((function e(n,r){var a,s,o,c,i,l,p,f;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=r.map(S.i),!se.a(a)){e.next=4;break}throw new Error(Object(O.a)("Specify some jobs to resign","sitepress"));case 4:return e.next=6,Object(T.a)(k.a("resign",t),{jobIds:a});case 6:if(s=e.sent,o=s.data,c=o.data,i=o.success,!se.a(c)&&i){e.next=13;break}throw l=Object(O.c)(Object(O.a)("We could not resign jobs: %s","sitepress"),a.join(", ")),new Error(l);case 13:n.updateJobs(c.map((function(e){return oe.a((function(t){return e===Object(S.i)(t)}),r)})).map((function(e){return ie(ie({},e),{},{translator_name:void 0,translator_id:void 0})}))),p=c.length>1?Object(O.a)("Resigned from jobs","sitepress"):Object(O.a)("Resigned from job","sitepress"),n.setNotification(new h("success",p)),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),f=Object(O.a)("Failed to resign from jobs","sitepress"),n.setNotification(new h("error",f,e.t0.message));case 22:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t,n){return e.apply(this,arguments)}}()))},function(e,t){return{exportALLToXLIFF:Object(c.e)(function(){var n=p()(u.a.mark((function n(r,a,s){var o,c,i,l;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=s.getState,n.prev=1,n.next=4,e.loadJobs(De(o().filters,o().sorting,{limit:t.xliffExport.xliffExportAllLimit,offset:0},t.page));case 4:return c=n.sent,i=c.jobs,n.abrupt("return",r.exportToXLIFF({version:a,jobs:i}));case 9:n.prev=9,n.t0=n.catch(1),l=Object(O.a)("Could not load jobs for export","sitepress"),r.setNotification(new h("error",l));case 13:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e,t,r){return n.apply(this,arguments)}}()),exportToXLIFF:Object(c.e)(function(){var e=p()(u.a.mark((function e(n,r){var a,s,o,c,i,l,p;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.version,s=r.jobs,o=t.xliffExport.translationQueueURL+"&wpml_xliff_action=download"+"&xliff_version=".concat(a)+"&jobs="+s.map(he.a(["extra_data","icl_translate_job_id"])).join(",")+"&nonce=".concat(t.xliffExport.nonce),c=function(e){return me.a("file.zip",1,e.headers.get("content-disposition").match(/filename=\"(.*)\"/))},e.prev=3,e.next=6,fetch(o);case 6:return i=e.sent,e.next=9,i.blob();case 9:l=e.sent,ne()(l,c(i)),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),p=Object(O.a)("The export to XLIFF failed","sitepress"),n.setNotification(new h("error",p));case 17:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t,n){return e.apply(this,arguments)}}())}}(s,i)),{},{importXLIFF:Object(c.e)(function(){var e=p()(u.a.mark((function e(t,n,r){var a,s,o,c,i,l,p,f,b,d,j,m;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.getState,e.prev=1,(s=new FormData).append("action","wpml_xliff_upload"),s.append("import",n),s.append("xliff_upload",1),e.next=8,fetch(ajaxurl,{method:"POST",body:s});case 8:return o=e.sent,e.next=11,o.json();case 11:if(c=e.sent,i=c.success,l=c.data,i){e.next=19;break}return p=Object(O.a)("Import failed!","sitepress"),f=l.map((function(e){return new h("error",p,Object(O.a)(k.a("message",e),"sitepress-multilingual-cms"))})),t.setNotifications(f),e.abrupt("return");case 19:if(!(l.length>0)){e.next=29;break}if(b=l.length>1?Object(O.c)(Object(O.a)("Imported %d jobs","sitepress"),l.length):Object(O.a)("Imported one job","sitepress"),t.setNotification(new h("success",b)),d=function(e){return parseInt(e)},!(be.a(de.a(je.a(he.a(["extra_data","icl_translate_job_id"]),d),a().jobs),de.a(d,l)).length>0)){e.next=27;break}return e.next=27,t.loadJobs();case 27:e.next=31;break;case 29:j=Object(O.a)("Could not import any job","sitepress"),t.setNotification(new h("error",j));case 31:e.next=37;break;case 33:e.prev=33,e.t0=e.catch(1),m=Object(O.a)("Import failed!","sitepress"),t.setNotification(new h("error",m));case 37:case"end":return e.stop()}}),e,null,[[1,33]])})));return function(t,n,r){return e.apply(this,arguments)}}()),approveTranslationsReviews:I(i.endpoints),cancelTranslationReviews:R(i.endpoints),bulkActions:{inProgress:!1,selectedAction:"NONE",setInProgress:Object(Ae.a)("inProgress"),setSelectedAction:Object(Ae.a)("selectedAction")},columnsManagement:Ve(i)}))},Ze=n(872),$e=n(875),et=n(506),tt=n(1332),nt=n(871),rt=n(876),at=n(176),st=function(e){if(e.status===S.b.COMPLETED&&ue.a("review_status","NEEDS_REVIEW",e)){if(Object(S.q)(e)){var t=Object(O.a)("%s are immediately published because they don't support draft mode.","sitepress"),n=Object(O.c)(t,he.a(["element","type","label"],e));return a.a.createElement(a.a.Fragment,null,a.a.createElement(at.a,{title:n},a.a.createElement(rt.a,null))," ",Object(O.a)("Published — Pending review","sitepress"))}return"publish"===e.element.status?Object(O.a)("Published — Pending review","sitepress"):Object(O.a)("Draft — Pending review","sitepress")}if(e.status===S.b.IN_PROGRESS&&ue.a("review_status","EDITING",e))return Object(S.q)(e)?Object(O.a)("Review in progress","sitepress"):"publish"===e.element.status?Object(O.a)("Published — Review in progress","sitepress"):Object(O.a)("Draft — Review in progress","sitepress");if(e.hasInsufficientBalance)return Object(O.a)("Insufficient funds","sitepress");var r,s,o,c=(r=e.status,s={},b()(s,S.b.CANCELLED,Object(O.a)("Cancelled","sitepress")),b()(s,S.b.WAITING_FOR_TRANSLATOR,Object(O.a)("Needs translation","sitepress")),b()(s,S.b.IN_PROGRESS,Object(O.a)("In progress","sitepress")),b()(s,S.b.TRANSLATION_READY_TO_DOWNLOAD,Object(O.a)("Translation ready to download","sitepress")),b()(s,S.b.COMPLETED,Object(O.a)("Completed","sitepress")),o=s,me.a("",r,o));return e.needs_update&&(c+=" - "+Object(O.a)("Needs update","sitepress")),c},ot=function(e){var t=e.job;return a.a.createElement(a.a.Fragment,null,st(t),function(e){return e.tp_id&&e.ts_status?a.a.createElement("span",{style:{display:"none"}},"(",e.ts_status.status,")"):""}(t))},ct=n(33),it=n.n(ct),ut=n(199),lt=n(450),pt=n(92),ft=lt.a.Option,bt=function(e){var t=e.job,n=e.localTranslators,s=e.assignTranslator,o=Object(r.useState)(!1),c=ye()(o,2),i=c[0],u=c[1],l=Object(r.useState)(0),p=ye()(l,2),f=p[0],b=p[1];n=n.filter((function(e){return e.languagePairs.some((function(e){var n=e.source,r=e.target;return n===t.language_codes.source&&r===t.language_codes.target}))}));return a.a.createElement("span",{className:"wpml-assign-translator"},a.a.createElement(lt.a,{style:{width:150},onChange:b,disabled:i,defaultValue:0},a.a.createElement(ft,{value:0,key:0},Object(O.a)("Select translator","sitepress")),n.map((function(e){var t=e.label,n=e.value;return a.a.createElement(ft,{value:n,key:n},t)}))),a.a.createElement(at.a,{title:Object(O.a)("Assign","sitepress")},a.a.createElement(pt.a,{type:"ghost",shape:"circle",icon:a.a.createElement(dt,null),onClick:function(){u(!0);var e=n.find(ue.a("value",f));s({job:t,translator:e}).catch((function(){return u(!1)}))},disabled:0===f,loading:i})))},dt=function(){return a.a.createElement("i",{className:"otgs-ico otgs-ico-user"})};bt.propTypes={job:it.a.object,localTranslators:it.a.array,assignTranslator:it.a.func};var jt=function(e){var t=e.job,n=Object(c.h)(ut.a([],["settings","localTranslators"])),r=Object(c.g)(k.a("assignTranslator"));return a.a.createElement(bt,{job:t,localTranslators:n,assignTranslator:r})},ht=n(45),mt=function(e){var t=e.job,n=e.createAssignTranslator,r=void 0===n?function(e){return a.a.createElement(jt,{job:e})}:n;return t.automatic?Object(O.a)("Automatic translation","sitepress"):t.translator_name?t.translator_name:t.status===S.b.WAITING_FOR_TRANSLATOR?r(t):a.a.createElement(a.a.Fragment,null)},vt=function(e){var t=e.job,n=e.batchUrl,r=a.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:Object(ht.sprintf)(n,t.batch.tp_id),className:"wpml-tm-batch-url wpml-external-link"},t.translation_service);return a.a.createElement(a.a.Fragment,null,r," ",Object(ht.sprintf)(Object(O.a)("TP ID: %d","sitepress"),t.tp_id))},yt=function(e){var t=e.job,n=Object(c.h)(ut.a("",["settings","batchUrl"]));return a.a.createElement(vt,{job:t,batchUrl:n})},Ot=function(e){var t=e.job,n=e.createLocalTranslator,r=void 0===n?function(e){return a.a.createElement(mt,{job:e})}:n,s=e.createTranslationService,o=void 0===s?function(e){return a.a.createElement(yt,{job:e})}:s;return"local"===t.translation_service_id?r(t):o(t)},gt=function(e){var t=e.job,n=e.showLink,r=void 0!==n&&n;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"job-title-container"},t.element.name?t.element.name:Object(O.a)("(no title)","sitepress"),r&&a.a.createElement(a.a.Fragment,null,a.a.createElement("br",null),a.a.createElement("a",{href:t.view_original_url,target:"_blank",rel:"noreferrer"},Object(O.a)("View original","sitepress")))))},wt=function(e){var t=e.job,n=Object(c.h)(k.a("mouseOverJobId"));return a.a.createElement(gt,{job:t,showLink:t.id===n})},Et=function(e){var t=e.languages;return a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:"wpml-lang-name wpml-source-lang"},t.source)," » ",a.a.createElement("span",{className:"wpml-lang-name wpml-target-lang"},t.target))};Et.propTypes={languages:it.a.shape({source:it.a.string,target:it.a.string})};var Tt=Et,kt=n(1353),Pt=n(1336),St=function(e){var t=e.confirm,n=e.reset,r=e.resetLabel,s=void 0===r?Object(O.a)("Reset","sitepress"):r,o=e.submitLabel,c=void 0===o?Object(O.a)("Filter","sitepress"):o;return a.a.createElement("div",null,a.a.createElement(pt.a,{onClick:n,size:"small",style:{width:90},className:"wpml-reset",type:"link"},s),a.a.createElement(pt.a,{type:"link",onClick:t,size:"small",style:{width:90},className:"wpml-search"},c))},_t=n(1340),xt=function(e){var t=e.setSelectedKeys,n=e.selectedKeys,r=e.confirm,s=e.clearFilters,o=e.fieldLabel,c=e.format,i=void 0===c?/.*/:c,u=e.searchInput;return a.a.createElement("div",{style:{padding:16}},a.a.createElement(Pt.a,{ref:u,placeholder:"Search by ".concat(o),value:n,onChange:function(e){var n=e.target.value;_t.a(i,n)&&t(n)},onPressEnter:function(){return r()},style:{width:"100%"}}),a.a.createElement("div",{className:"ant-table-filter-dropdown-footer"},a.a.createElement(St,{confirm:function(){return r()},reset:s})))};function It(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?It(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):It(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Nt=lt.a.Option,Lt=function(e){var t=e.selectedKeys,n=e.setSelectedKeys,r=e.confirm,s=e.clearFilters,o=e.settings,c=(o=void 0===o?{translationServices:[],localTranslators:[],shouldDisplayAutomaticTranslation:!1}:o).translationServices,i=o.localTranslators,u=o.shouldDisplayAutomaticTranslation;return a.a.createElement("div",{style:{padding:16}},a.a.createElement(lt.a,{onChange:n,style:{width:"100%"},value:se.a(t)?"any":t},a.a.createElement(Nt,{value:"any"},Object(O.a)("Anyone","sitepress")),u&&a.a.createElement(Nt,{value:"automatic"},Object(O.a)("Automatic translation","sitepress")),!Ee.a(c)&&a.a.createElement(Nt,{value:"any-service"},Object(O.a)("Any Translation Service","sitepress")),!Ee.a(i)&&a.a.createElement(Nt,{value:"any-local-translator"},Object(O.a)("Any WordPress Translator","sitepress")),c.map((function(e){var t=e.value,n=e.label;return a.a.createElement(Nt,{value:"service-".concat(t),key:"service-".concat(t)},n)})),i.map((function(e){var t=e.value,n=e.label;return a.a.createElement(Nt,{value:"translator-".concat(t),key:"translator-".concat(t)},n)}))),a.a.createElement("div",{className:"ant-table-filter-dropdown-footer"},a.a.createElement(St,{confirm:function(){return r()},reset:s})))},Rt=function(e){var t=e.selectedKeys,n=e.setSelectedKeys,r=e.confirm,s=e.clearFilters,o=Object(c.h)(je.a(k.a("settings"),nt.a(["translationServices","localTranslators"]))),i=Object(c.h)(he.a(["settings","page"]));return o=Dt(Dt({},o),{},{shouldDisplayAutomaticTranslation:"tm-jobs"===i}),a.a.createElement(Lt,{selectedKeys:t,setSelectedKeys:n,confirm:r,clearFilters:s,settings:o})},At=n(150),Ct=n(74),Ft=n(1303),Jt=n(407),Mt=n(517),zt=n(846),qt=lt.a.Option,Wt=function(e){var t=e.setSelectedKeys,n=ye()(e.selectedKeys,2),r=n[0],s=n[1],o=e.confirm,c=e.clearFilters,i=e.languagePairs,u=Ft.a(k.a("name")),l=je.a(G.a("targets"),Jt.a(),Mt.a(),u)(i),p=r?je.a(oe.a((function(e){return e.source.code===r})),k.a("targets"),u)(i):l,f=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t([e,n.filter(je.a(Oe.a(e),zt.a))])},b=de.a((function(e){var t=e.name,n=e.code;return a.a.createElement(qt,{value:n,key:n},t)})),d=function(){return a.a.createElement(lt.a,{key:"sourceLanguage",className:"wpml-source-language",onChange:function(e){return f(e,[])},style:{width:"100%"},value:r},b(je.a(G.a("source"),u)(i)))},j=function(){return a.a.createElement(lt.a,{key:"targetLanguages",className:"wpml-target-languages",mode:"multiple",onChange:function(e){return f(r,e)},style:{width:"100%"},value:s},b(p))};return a.a.createElement("div",{style:{padding:16}},a.a.createElement(At.a,null,a.a.createElement(Ct.a,{span:24},a.a.createElement("div",{className:"ant-select-with-label"},a.a.createElement("label",null,Object(O.a)("From","sitepress")),a.a.createElement(d,null)))),a.a.createElement(At.a,null,a.a.createElement(Ct.a,{span:24,style:{height:16}})),a.a.createElement(At.a,null,a.a.createElement(Ct.a,{span:24},a.a.createElement("div",{className:"ant-select-with-label"},a.a.createElement("label",null,Object(O.a)("To","sitepress")),a.a.createElement(j,null)))),a.a.createElement("div",{className:"ant-table-filter-dropdown-footer"},a.a.createElement(St,{confirm:function(){return o()},reset:c})))},Kt=function(e){var t=e.setSelectedKeys,n=e.selectedKeys,r=e.confirm,s=e.clearFilters,o=Object(c.h)(ut.a([],["settings","languagePairs"]));return a.a.createElement(Wt,{setSelectedKeys:t,selectedKeys:n,confirm:r,clearFilters:s,languagePairs:o})},Bt=n(1331),Gt=n(18),Ut=n.n(Gt),Xt=Bt.a.RangePicker,Vt=function(e){var t=e.setSelectedKeys,n=ye()(e.selectedKeys,2),r=n[0],s=n[1],o=e.confirm,c=e.clearFilters,i=function(e){return e?e.format("YYYY-MM-DD"):void 0},u=[r?Ut()(r,"YYYY-MM-DD"):void 0,s?Ut()(s,"YYYY-MM-DD"):void 0];return a.a.createElement("div",{style:{padding:16}},a.a.createElement(At.a,null,a.a.createElement(Ct.a,{span:24},a.a.createElement(Xt,{onCalendarChange:function(e){var n=ye()(e,2),r=n[0],a=n[1];return t([i(r),i(a)])},value:u,style:{width:"100%"}}))),a.a.createElement("div",{className:"ant-table-filter-dropdown-footer"},a.a.createElement(St,{confirm:function(){return o()},reset:c})))},Yt=lt.a.Option,Ht=function(e){var t=e.selectedKeys,n=e.setSelectedKeys,r=e.confirm,s=e.clearFilters,o=e.types,c=void 0===o?[]:o;return a.a.createElement("div",{style:{padding:16}},a.a.createElement(lt.a,{value:se.a(t)?"any":t,className:"wpml-type",onChange:n,style:{width:"100%"}},a.a.createElement(Yt,{value:"any"},Object(O.a)("All types","sitepress")),c.map((function(e){var t=e.name,n=e.label;return a.a.createElement(Yt,{value:t,key:t},n)}))),a.a.createElement("div",{className:"ant-table-filter-dropdown-footer"},a.a.createElement(St,{confirm:function(){"any"===t?s():r()},reset:s})))},Qt=function(e){var t=e.selectedKeys,n=e.setSelectedKeys,r=e.confirm,s=e.clearFilters,o=Object(c.h)(he.a(["settings","types"]));return a.a.createElement(Ht,{selectedKeys:t,setSelectedKeys:n,confirm:r,clearFilters:s,types:o})},Zt=n(1323);function $t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var tn=function(e,t,n){return function(r){var s=r.setSelectedKeys,o=r.selectedKeys,c=r.confirm,i=r.clearFilters;return a.a.createElement(xt,{setSelectedKeys:s,selectedKeys:o,confirm:c,clearFilters:i,fieldLabel:e,format:t,searchInput:n})}},nn=function(e,t,n,r){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:/.*/;return{filterIcon:function(e){return a.a.createElement(kt.a,{style:{color:e?"#1890ff":void 0}})},filterDropdown:tn(e,s,r),filteredValue:ut.a(void 0,[t],n),onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){var e;return null==r||null===(e=r.current)||void 0===e?void 0:e.select()}),100)}}},rn=function(){return function(e){var t=e.setSelectedKeys,n=e.selectedKeys,r=e.confirm,s=e.clearFilters;return a.a.createElement(Vt,{selectedKeys:n,setSelectedKeys:t,confirm:r,clearFilters:s})}},an={id:function(e,t,n,r){return en({key:"id",className:"wpml-id-column",title:t,dataIndex:"id",width:78,sorter:!0},nn("ID","id",e,r,/^[0-9]*$/))},title:function(e,t,n,r){return en({key:"title",className:"wpml-title-column",title:t,width:200,render:function(e,t){return a.a.createElement(wt,{job:t})},sorter:!0},nn(Object(O.a)("Title","sitepress"),"title",e,r))},element_type:function(e,t){return{key:"element_type",className:"wpml-type-column",title:t,width:100,filterIcon:a.a.createElement(sn,{title:t}),render:function(e,t){return t.element.type.label},filterDropdown:function(e){var t=e.selectedKeys,n=e.setSelectedKeys,r=e.confirm,s=e.clearFilters;return a.a.createElement(Qt,{selectedKeys:t,setSelectedKeys:n,confirm:r,clearFilters:s})},filteredValue:ut.a(void 0,["element_type"],e)}},language:function(e,t){return{key:"language",className:"wpml-language-column",title:t,width:140,filterIcon:a.a.createElement(sn,{title:t}),render:function(e,t){var n=t.languages;return a.a.createElement(Tt,{languages:n})},sorter:!0,filterDropdown:function(e){var t=e.setSelectedKeys,n=e.selectedKeys,r=e.confirm,s=e.clearFilters;return a.a.createElement(Kt,{selectedKeys:n,setSelectedKeys:t,confirm:r,clearFilters:s})},filteredValue:ut.a(void 0,["language"],e)}},batch_name:function(e,t,n,r){return en({key:"batch_name",className:"wpml-batch-name-column",title:t,render:function(e,t){return t.batch.name},width:130,sorter:!0},nn(Object(O.a)("Batch name","sitepress"),"batch_name",e,r))},translated_by:function(e,t){return{key:"translated_by",className:"wpml-translated-by-column",title:t,render:function(e,t){return a.a.createElement(Ot,{job:t})},width:140,filterIcon:a.a.createElement(sn,{title:t}),filterDropdown:function(e){var t=e.selectedKeys,n=e.setSelectedKeys,r=e.confirm,s=e.clearFilters;return a.a.createElement(Rt,{selectedKeys:t,setSelectedKeys:n,confirm:r,clearFilters:s})},filteredValue:ut.a(void 0,["translated_by"],e)}},sent_date:function(e,t){return{key:"sent_date",className:"wpml-sent-date-column",title:t,render:function(e,t){return t.sent_date},filterIcon:a.a.createElement(sn,{title:t}),sorter:!0,width:150,filterDropdown:rn(),filteredValue:ut.a(void 0,["sent_date"],e)}},deadline_date:function(e,t){return{key:"deadline_date",className:"wpml-deadline-date-column",title:t,render:function(e,t){return Object(S.p)(t)?a.a.createElement("b",{className:"wpml-overdue-job"},t.deadline):t.deadline},filterIcon:a.a.createElement(sn,{title:t}),sorter:!0,width:150,filterDropdown:rn(),filteredValue:ut.a(void 0,["deadline_date"],e)}},status:function(e,t,n){return{key:"status",className:"wpml-status-column",title:t,render:function(e,t){return a.a.createElement(ot,{job:t})},filterIcon:a.a.createElement(sn,{title:t}),width:115,sorter:!0,filters:n,filteredValue:ut.a([],["status"],e)}}},sn=function(e){var t=e.title;return a.a.createElement(at.a,{title:Object(O.c)(Object(O.a)("Filter by %s","sitepress"),t.toLowerCase())},a.a.createElement("div",{className:"filter-icon"},a.a.createElement("svg",{width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27.9509 1H2.05187C1.21337 1 0.747185 1.96991 1.27099 2.62469L11.2905 15.1492C11.4324 15.3265 11.5098 15.5468 11.5098 15.7739V28.3525C11.5098 29.1892 12.4761 29.656 13.1315 29.1357L18.5929 24.8003C18.832 24.6106 18.9712 24.3222 18.9712 24.017V15.7609C18.9712 15.5418 19.0433 15.3287 19.1761 15.1545L28.746 2.60645C29.248 1.94824 28.7787 1 27.9509 1Z",fill:"none"}),a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27.9509 1H2.05187C1.21337 1 0.747185 1.96991 1.27099 2.62469L11.2905 15.1492C11.4324 15.3265 11.5098 15.5468 11.5098 15.7739V28.3525C11.5098 29.1892 12.4761 29.656 13.1315 29.1357L18.5929 24.8003C18.832 24.6106 18.9712 24.3222 18.9712 24.017V15.7609C18.9712 15.5418 19.0433 15.3287 19.1761 15.1545L28.746 2.60645C29.248 1.94824 28.7787 1 27.9509 1ZM17.5859 13.9416C17.1871 14.4643 16.9712 15.1035 16.9712 15.7609V23.5341L13.5098 26.2819V15.7739C13.5098 15.0926 13.2778 14.4317 12.8523 13.8998L4.1325 3H25.9307L17.5859 13.9416Z",fill:"#666666"}))))},on=n(1308),cn=n(405),un=n(1354),ln=a.a.createContext(),pn=function(){return Object(r.useContext)(ln)},fn=ln,bn=n(449),dn=function(e){var t=e.selectColumns,n=e.selectedColumns,r=e.columnSettings,s=void 0===r?[]:r,o=qe.a(k.a("collapsible"),s);return a.a.createElement(a.a.Fragment,null,a.a.createElement(At.a,null,a.a.createElement(Ct.a,{span:24},a.a.createElement("h4",null,a.a.createElement("strong",null,Object(O.a)("Select visible columns","sitepress"))))),a.a.createElement(bn.a.Group,{onChange:t,value:n},o.map((function(e){var t=e.id,n=e.title;return a.a.createElement(At.a,{key:t},a.a.createElement(Ct.a,{span:24},a.a.createElement(bn.a,{value:t},n)))}))))},jn=function(e){var t=e.onChange,n=e.includeProfessionalTranslations;return a.a.createElement(bn.a,{onChange:t,checked:n},Object(O.a)("Include jobs from translation services","sitepress"))},hn=n(1317),mn=function(e){var t=e.setSelectedKeys,n=e.selectedKeys,r=e.confirm,s=e.currentlySelectedOptions,o=void 0===s?[]:s,i=Object(c.h)(k.a("settings")),u=i.hasTranslationServiceJobs,l=i.page,p=Object(c.h)(he.a(["columnsManagement","columns"]));return a.a.createElement("div",{style:{padding:16}},a.a.createElement(dn,{selectColumns:function(e){var r=[e,me.a(!1,1,n)];t(r)},selectedColumns:me.a([],0,n),columnSettings:p}),u&&"translation-queue"===l&&a.a.createElement(a.a.Fragment,null,a.a.createElement(hn.a,null),a.a.createElement(jn,{onChange:function(e){var r=[me.a([],0,n),e.target.checked];t(r)},includeProfessionalTranslations:me.a(!1,1,n)})),a.a.createElement("div",{className:"ant-table-filter-dropdown-footer"},a.a.createElement(St,{confirm:function(){return r()},reset:function(){t(o),r()},resetLabel:Object(O.a)("Cancel","sitepress"),submitLabel:Object(O.a)("Apply","sitepress")})))},vn=function(e,t){return{key:"actions",width:"120px",fixed:"right",className:"wpml-actions",title:Object(O.a)("Actions","sitepress"),filterIcon:function(){return a.a.createElement(un.a,null)},filterDropdown:function(t){var n=t.setSelectedKeys,r=t.selectedKeys,s=t.confirm;return a.a.createElement(mn,{setSelectedKeys:n,selectedKeys:r,confirm:s,currentlySelectedOptions:e})},filteredValue:e,render:function(e,n){return a.a.createElement(fn.Provider,{value:{job:n}},t)}}},yn=function(){var e=Object(c.h)(he.a(["columnsManagement","columns"])),t=Object(c.h)(k.a("includeProfessionalTranslations")),n=Object(c.g)(he.a(["columnsManagement","showColumns"])),r=Object(c.g)(k.a("setIncludeProfessionalTranslations")),a=[je.a(qe.a(k.a("collapsible")),ge.a(k.a("collapsed")),G.a("id"))(e),t];return[cn.a(vn,[a]),function(e){if(on.a("actions",e)){var a=ut.a([],["actions",0],e);n(a);var s=ut.a(!1,["actions",1],e);t!==s&&r(s),delete e.actions}return e}]};function On(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?On(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):On(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wn=function(e){var t=e.children,n=Object(c.h)(k.a("jobs")),s=Object(c.h)(k.a("total")),o=Object(c.h)(k.a("currentPage")),i=Object(c.h)(k.a("pageSize")),u=Object(c.h)(k.a("loading")),l=Object(c.h)(k.a("filters")),p=Object(c.h)(k.a("sorting")),f=Object(c.h)(he.a(["columnsManagement","columns"])),b=Object(c.h)(he.a(["bulkActions","inProgress"])),d=Object(c.g)(k.a("setSorting")),j=Object(c.g)(k.a("setPagination")),h=Object(c.g)(k.a("setFiltersAndPagination")),m=Object(c.g)(k.a("initialize")),v=Object(c.g)(k.a("setSelectedJobIds")),y=Object(c.g)(k.a("setMouseOverJobId")),g=yn(),w=ye()(g,2),E=w[0],T=w[1],P={total:s,pageSize:i,current:o};Object(r.useEffect)((function(){m()}),[]);var _=Object(r.useRef)(null),x=function(e,t,n,r){return n.filter((function(e){return!e.collapsed})).map((function(t){return an[t.id](e,t.title,t.options,r)})).map((function(e){return Zt.a([0,"columnKey"],e.key,t)&&(e.sortOrder=he.a([0,"order"],t)),e}))}(l,p,f,_);x.push(E(t));var I=de.a((function(e){return gn(gn({},e),{},{key:e.id})})),D=!!f.find((function(e){return"deadline_date"===e.id})),N=a.a.createElement("i",{className:"anticon anticon-spin otgs-ico-spinner"}),L={indicator:a.a.createElement(et.a,{tip:b?Object(O.a)("The bulk action is running...","sitepress"):u,style:{width:300,marginLeft:"-150px"},indicator:N}),spinning:!!u||b};return a.a.createElement(tt.a,{className:"ant-table-striped-rows",scroll:{x:!0},columns:x,dataSource:I(n),loading:L,pagination:P,onChange:function(e,t,n,r){var a,s=r.action;switch((a=new URLSearchParams(location.search)).delete("status"),window.history.replaceState({},"","".concat(location.pathname,"?").concat(a)),s){case"filter":t=T(t),t=ge.a(we.a([Ee.a,se.a]),t),Oe.a(l,t)||h({currentPage:1,pageSize:e.pageSize,filters:t});break;case"sort":n=function(e){return Array.isArray(e)||(e=[e]),e.map(nt.a(["columnKey","order"]))}(n),d(n);break;case"paginate":j({currentPage:e.current<=0?1:e.current,pageSize:e.pageSize})}},rowSelection:{type:"checkbox",onChange:function(e,t){v(G.a("id",t))}},rowClassName:function(e){return D&&Object(S.p)(e)?"wpml-overdue-job":""},sticky:{offsetHeader:"25px"},style:{marginTop:"10px"},onRow:function(e){return{onMouseEnter:function(){return y(e.id)},onMouseLeave:function(){return y(null)}}},locale:{triggerDesc:Object(O.a)("Sort descending","sitepress"),triggerAsc:Object(O.a)("Sort ascending","sitepress"),cancelSort:Object(O.a)("Cancel sorting","sitepress")}})},En=function(e){var t=e.onClick,n=e.title,r=e.children,s=e.className,o=void 0===s?"":s,c=e.inProgress,i=void 0!==c&&c;return a.a.createElement(at.a,{title:n},a.a.createElement(pt.a,{type:"ghost",shape:"circle",loading:i,onClick:t,icon:r,"aria-label":n,className:o}))};En.propTypes={onClick:it.a.func,title:it.a.string,children:it.a.node,className:it.a.string,inProgress:it.a.bool};var Tn=En,kn=function(e){var t=e.job,n=e.cancelJob,s=Object(r.useState)(!1),o=ye()(s,2),c=o[0],i=o[1],l=function(){var e=p()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,n(t);case 3:e.sent||i(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(Tn,{onClick:l,title:Object(O.a)("Cancel job","sitepress"),className:"wpml-cancel-action",inProgress:c},a.a.createElement("i",{className:"otgs-ico otgs-ico-trash"}))};kn.propTypes={job:it.a.object,cancelJob:it.a.func};var Pn=function(e){var t=e.job,n=Object(c.g)(k.a("cancelJobs"));return a.a.createElement(kn,{job:t,cancelJob:function(e){return n([e])}})};Pn.propTypes={job:it.a.object};var Sn=Pn,_n=function(e){var t=e.job,n=e.syncBatch,s=e.translationProxyBatchSyncIds,o=void 0===s?[]:s,c=Object(r.useState)(!1),i=ye()(c,2),l=i[0],f=i[1],b=function(){var e=p()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){f(o.includes(t.batch.tp_id))}),[o]),a.a.createElement(Tn,{onClick:b,title:Object(O.a)("Start batch sync","sitepress"),className:"wpml-batch-sync-action",inProgress:l},a.a.createElement("i",{className:"otgs-ico otgs-ico-refresh"}))};_n.propTypes={job:it.a.object.isRequired,syncBatch:it.a.func.isRequired,translationProxyBatchSyncIds:it.a.array.isRequired};var xn=function(e){var t=e.job,n=Object(c.h)(k.a("translationProxyBatchSyncIds")),r=Object(c.g)(k.a("translationProxyBatchSync")),s=Object(c.h)(k.a("jobs"));return a.a.createElement(_n,{job:t,syncBatch:function(e){return r({jobs:[e],storeJobs:s})},translationProxyBatchSyncIds:n})};xn.prototype={job:it.a.object.isRequired};var In=xn,Dn=function(e){var t=e.job,n=e.downloadXliff,s=void 0===n?function(){}:n,o=Object(r.useState)(!1),c=ye()(o,2),i=c[0],l=c[1],f=function(){var e=p()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,s(t);case 3:l(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(Tn,{className:"wpml-download-xliff-action",onClick:f,title:Object(O.a)("Start downloading XLIFF file","sitepress"),inProgress:i},a.a.createElement("i",{className:"otgs-ico otgs-ico-download"}))};Dn.propTypes={job:it.a.object,downloadXliff:it.a.func};var Nn=function(e){var t=e.job,n=Object(c.g)(k.a("downloadXliff"));return a.a.createElement(Dn,{job:t,downloadXliff:function(e){return n(e)}})};Nn.propTypes={job:it.a.object};var Ln=Nn,Rn=n(1347),An=function(e){var t=e.job,n=e.getTranslation,s=Object(r.useState)(!1),o=ye()(s,2),c=o[0],i=o[1],l=function(){var e=p()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,n(t);case 3:i(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(Tn,{onClick:l,title:Object(O.a)("Get translation","sitepress"),className:"wpml-download-translation-action",inProgress:c},a.a.createElement("i",{className:"otgs-ico otgs-ico-doc"}))};An.propTypes={job:it.a.object.isRequired,getTranslation:it.a.func.isRequired};var Cn=function(e){var t=e.job,n=Object(c.g)(k.a("applyTranslations"));return a.a.createElement(An,{job:t,getTranslation:function(e){return n([e])}})};Cn.propTypes={job:it.a.object.isRequired};var Fn=Cn,Jn=function(){var e=pn().job,t=Object(c.h)(he.a(["settings","translationService"])),n=Object(S.g)(t,e);return a.a.createElement(Rn.b,null,n&&Object(S.c)(e)&&a.a.createElement(In,{job:e}),n&&Object(S.e)(e)&&a.a.createElement(Fn,{job:e}),n&&Object(S.f)(e)&&a.a.createElement(Ln,{job:e}),Object(S.d)(e)&&a.a.createElement(Sn,{job:e}))},Mn=function(e){var t=e.job,n=e.openEditor,s=e.translator,o=Object(r.useState)(!1),c=ye()(o,2),i=c[0],l=c[1],f=function(){var e=p()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,n({job:t,translatorId:s.ID});case 3:window.location.href=e.sent;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(pt.a,{className:"wpml-take-and-translate-action",onClick:f,loading:i,type:"secondary"},function(e){return function(e){return s.ID===e.translator_id}(e)?Object(O.a)("Translate","sitepress"):Object(O.a)("Take and Translate","sitepress")}(t))};Mn.propTypes={job:it.a.object.isRequired,openEditor:it.a.func.isRequired,translator:it.a.object.isRequired};var zn=function(e){var t=e.job,n=Object(c.g)(k.a("openEditor")),r=Object(c.h)(ut.a([],["settings","currentUser"]));return a.a.createElement(Mn,{job:t,openEditor:n,translator:r})};zn.propTypes={job:it.a.object.isRequired};var qn=zn,Wn=function(e){var t=e.job,n=e.resign,s=Object(r.useState)(!1),o=ye()(s,2),c=o[0],i=o[1],l=function(){var e=p()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,n(t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(pt.a,{onClick:l,loading:c,type:"link",className:"wpml-resign-action"},Object(O.a)("Resign","sitepress"))};Wn.propTypes={job:it.a.object.isRequired,resign:it.a.func.isRequired};var Kn=function(e){var t=e.job,n=Object(c.g)(k.a("resign"));return a.a.createElement(Wn,{job:t,resign:function(e){return n([e])}})};Kn.propTypes={job:it.a.object.isRequired};var Bn=Kn,Gn=function(e){var t=e.job,n=e.openEditor,s=e.translator,o=Object(r.useState)(!1),c=ye()(o,2),i=c[0],l=c[1],f=function(){var e=p()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,n({job:t,translatorId:s.ID});case 3:window.location.href=e.sent;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(pt.a,{className:"wpml-review-in-ate-action",onClick:f,loading:i,type:"secondary"},Object(O.a)("Review","sitepress"))};Gn.propTypes={job:it.a.object.isRequired,openEditor:it.a.func.isRequired,translator:it.a.object.isRequired};var Un=function(e){var t=e.job,n=Object(c.g)(k.a("openEditor")),r=Object(c.h)(ut.a([],["settings","currentUser"]));return a.a.createElement(Gn,{job:t,openEditor:n,translator:r})};Un.propTypes={job:it.a.object.isRequired};var Xn=Un,Vn=function(e){var t=e.job,n=e.elementType,s=e.targetLanguageCodes,o=Object(r.useState)(!1),c=ye()(o,2),i=c[0],l=c[1],f=function(){var e=p()(u.a.mark((function e(){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(!0),localStorage.setItem("continueReview",!0),r=function(){if(!k.a("view_url",t))return"";var e=new URL(k.a("view_url",t));return se.a(s)||e.searchParams.append("targetLanguages",s.join(",")),se.a(n)||e.searchParams.append("element_type",n),e.toString()},window.location.href=r();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(pt.a,{onClick:f,loading:i,type:"secondary",className:"wpml-review-action"},Object(O.a)("Review","sitepress"))};Vn.propTypes={job:it.a.object.isRequired};var Yn=function(e){var t=e.job,n=Object(c.h)(k.a("filters")),r=me.a("","element_type",n),s=me.a([],1,n.language);return a.a.createElement(Vn,{job:t,elementType:r,targetLanguageCodes:s})},Hn=function(e){var t=e.job,n=e.openEditor,s=e.translator,o=Object(r.useState)(!1),c=ye()(o,2),i=c[0],l=c[1],f=function(){var e=p()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,n({job:t,translatorId:s.ID});case 3:if(!e.sent){e.next=8;break}return e.next=7,n({job:t,translatorId:s.ID});case 7:window.location.href=e.sent;case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(pt.a,{onClick:f,loading:i,type:"secondary",className:"wpml-edit-action"},Object(O.a)("Edit","sitepress"))};Hn.propTypes={job:it.a.object.isRequired,openEditor:it.a.func.isRequired,translator:it.a.object.isRequired};var Qn=function(e){var t=e.job,n=Object(c.g)(k.a("openEditor")),r=Object(c.h)(he.a(["settings","currentUser"]));return a.a.createElement(Hn,{job:t,openEditor:n,translator:r})};Qn.propTypes={job:it.a.object.isRequired};var Zn=Qn,$n=function(e){var t=e.job,n=function(){var e=p()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href=me.a("","view_url",t);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(pt.a,{type:"link",onClick:n,className:"wpml-view-action"},Object(O.a)("View","sitepress-"))};$n.propTypes={job:it.a.object.isRequired};var er=$n,tr=function(e){var t=e.job,n=function(e){var t=k.a("view_url",e);if(t){var n=new URL(t);return n.searchParams.append("editFromReviewPage",1),n.toString()}}(t),r=new URL(me.a("","edit_url",t));return n&&r.searchParams.append("return_url",n),a.a.createElement(pt.a,{className:"wpml-continue-review-action",href:r.toString(),type:"secondary"},Object(O.a)("Continue reviewing","sitepress"))};tr.propTypes={job:it.a.object.isRequired};var nr=tr,rr=[S.b.WAITING_FOR_TRANSLATOR,S.b.IN_PROGRESS,S.b.ATE_NEEDS_RETRY],ar=ue.a("status",S.b.COMPLETED),sr=function(e){var t=e.job;return a.a.createElement(a.a.Fragment,null,Object(S.c)(t)&&a.a.createElement(In,{job:t}),Object(S.e)(t)&&a.a.createElement(Fn,{job:t}))},or=function(e){var t=e.job,n=e.currentTranslator;return a.a.createElement(a.a.Fragment,null,function(e){return Object(S.l)(e)&&!Object(S.h)(e)}(t)&&a.a.createElement(qn,{job:t}),function(e){return!Object(S.h)(e)&&ar(e)}(t)&&a.a.createElement(Zn,{job:t}),function(e){return Object(S.q)(e)&&Object(S.h)(e)}(t)&&a.a.createElement(Xn,{job:t}),function(e){return Object(S.r)(e)&&ue.a("review_status","NEEDS_REVIEW",e)}(t)&&a.a.createElement(Yn,{job:t}),function(e){return Object(S.r)(e)&&ue.a("review_status","EDITING",e)}(t)&&a.a.createElement(nr,{job:t}),a.a.createElement(Rn.b,null,function(e,t){return Object(S.l)(t)&&Object(S.o)(t)&&function(e,t){return t.ID===e.translator_id}(t,e)}(n,t)&&a.a.createElement(Bn,{job:t}),function(e){return!Object(S.h)(e)&&me.a(!1,"view_url",e)}(t)&&a.a.createElement(er,{job:t})))},cr=function(){var e=pn().job,t=Object(c.h)(ut.a([],["settings","currentUser"])),n=Object(c.h)(he.a(["settings","translationService"]));if(function(e){return e.status===S.b.CANCELLED||e.is_ate_job&&(e.hasInsufficientBalance||Object(S.k)(e)&&D.a(e.status,rr))}(e))return a.a.createElement(Rn.b,null);var r=Object(S.g)(n,e);return a.a.createElement("div",{className:"wpml-actions__jobs"},!Object(S.n)(e)&&r?a.a.createElement(sr,{job:e}):a.a.createElement(or,{job:e,currentTranslator:t}))},ir=it.a.shape({type:it.a.string.isRequired,message:it.a.string.isRequired,description:it.a.string}),ur=n(160),lr=function(e){var t=e.notification,n=e.clearNotifications;return Object(r.useEffect)((function(){return ur.a[t.type]({message:t.message,description:t.description,closeIcon:a.a.createElement(pr,null),className:t.type,top:40,duration:5,onClose:function(){return n()}}),function(){ur.a.destroy()}}),[t]),a.a.createElement(a.a.Fragment,null)};lr.propTypes={notification:ir.isRequired,clearNotifications:it.a.func.isRequired};var pr=function(){return a.a.createElement("i",{className:"otgs-ico otgs-ico-cancel"})},fr=lr,br=n(853),dr=n.n(br),jr=function(e){var t=e.notifications,n=e.clearNotifications;return a.a.createElement(a.a.Fragment,null,t.map((function(e){return a.a.createElement(fr,{key:"wpml-notification-"+dr()(e),notification:e,clearNotifications:n})})))};jr.propTypes={notifications:it.a.arrayOf(ir).isRequired,clearNotifications:it.a.func.isRequired};var hr=function(){var e=Object(c.h)(k.a("notifications")),t=Object(c.g)(k.a("clearNotifications"));return a.a.createElement(jr,{notifications:e,clearNotifications:t})},mr=n(352),vr=function(e){var t="GET_TRANSLATION"===e.action?Object(O.a)("Actions applied to multiple translation jobs can take a few minutes. Please do not leave the page.","sitepress"):Object(O.a)("Actions applied to multiple translation jobs can take a few seconds. Please do not leave the page.","sitepress");return a.a.createElement(mr.a,{showIcon:!0,closable:!0,message:t,type:"info",description:" ",className:"wpml-bulk-action-info"})},yr=function(){var e=Object(c.h)(he.a(["bulkActions","selectedAction"]));return a.a.createElement(vr,{action:e})},Or=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3,n=Object(c.h)(ut.a(t,["settings","bulkActionInfoDelay"])),a=Object(r.useState)(!1),s=ye()(a,2),o=s[0],i=s[1],u=Object(r.useState)(null),l=ye()(u,2),p=l[0],f=l[1],b=function(e){return setTimeout((function(){i(e)}),n)};return Object(r.useEffect)((function(){var t=null;return e?p||f(b(!0)):(p&&(clearTimeout(p),f(null)),o&&(t=b(!1))),function(){t&&clearTimeout(t)}}),[e]),o},gr=lt.a.Option,wr="NONE",Er=function(e){var t=e.selectedJobs,n=void 0===t?[]:t,r=e.actionFactories,s=void 0===r?[]:r,o=e.inProgress,c=e.setInProgress,i=e.selectedAction,l=e.setSelectedAction,f=Or(o),b=[a.a.createElement(gr,{value:wr,key:wr},Object(O.a)("Bulk actions","sitepress"))],d=s.map((function(e){return e(n,c)}));d.forEach((function(e){var t=e.name,n=e.label;b.push(a.a.createElement(gr,{value:t,key:t},n))}));var j=function(){var e=p()(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i!==wr){e.next=2;break}return e.abrupt("return");case 2:if(c(!0),!(t=oe.a(ue.a("name",i),d))){e.next=7;break}return e.next=7,t.perform();case 7:c(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(Rn.b,{className:"wpml-bulk-actions"},a.a.createElement(lt.a,{size:"default",style:{width:"225px"},defaultValue:wr,value:i,onChange:l,disabled:o},b),a.a.createElement(pt.a,{type:"primary",onClick:j,size:"middle",style:{width:90},loading:o,disabled:i===wr},Object(O.a)("Apply","sitepress")),d.filter(k.a("hasSomethingToRender")).map((function(e){return e.render()})),a.a.createElement(hn.a,null),f&&a.a.createElement(yr,null))};Er.propTypes={selectedJobs:it.a.arrayOf(it.a.object),actionFactories:it.a.arrayOf(it.a.func),inProgress:it.a.bool,setInProgress:it.a.func,selectedAction:it.a.string,setSelectedAction:it.a.func};var Tr=function(e){var t=e.actionFactories,n=Object(c.h)(k.a("selectedJobs")),r=Object(c.h)(k.a("bulkActions")),s=r.inProgress,o=r.selectedAction,i=Object(c.g)(k.a("bulkActions")),u=i.setInProgress,l=i.setSelectedAction;return a.a.createElement(Er,{selectedJobs:n,actionFactories:t,inProgress:s,selectedAction:o,setInProgress:u,setSelectedAction:l})},kr=function(){var e=Object(c.g)(k.a("setNotification"));return function(){var t=p()(u.a.mark((function t(n,r,a){var s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=a.filter(n),!se.a(s)){t.next=5;break}return t.abrupt("return",e(new h("warning",Object(O.a)("This action does not apply to any of the selected translation jobs","sitepress-multilingual-cms"))));case 5:return t.abrupt("return",r(s));case 6:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},Pr=function(){var e=Object(c.g)(k.a("cancelJobs")),t=Object(c.g)(k.a("loadJobs")),n=kr(),r=function(){var n=p()(u.a.mark((function n(r){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e(r);case 2:if(!n.sent){n.next=5;break}return n.next=5,t();case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return function(e){return{name:"CANCEL",label:Object(O.a)("Cancel jobs","sitepress"),perform:(t=p()(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n(S.d,r,e));case 1:case"end":return t.stop()}}),t)}))),function(){return t.apply(this,arguments)}),hasSomethingToRender:!1};var t}},Sr=function(){var e=Object(c.g)(k.a("applyTranslations")),t=kr();return function(n){return{name:"GET_TRANSLATION",label:Object(O.a)("Get translations","sitepress"),perform:(r=p()(u.a.mark((function r(){return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",t(S.e,e,n));case 1:case"end":return r.stop()}}),r)}))),function(){return r.apply(this,arguments)}),hasSomethingToRender:!1};var r}},_r=function(){var e=[Pr(),Sr()];return a.a.createElement(Tr,{actionFactories:e})},xr=n(863),Ir=function(e){var t=Object(c.g)(k.a("exportToXLIFF")),n=kr();return function(r){return{name:"EXPORT_XLIFF_".concat(e),label:Object(O.c)(Object(O.a)("Export to XLIFF %s","sitepress"),e),perform:(a=p()(u.a.mark((function a(){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",n(xr.a,(function(n){return t({version:e.replace(".",""),jobs:n})}),r));case 1:case"end":return a.stop()}}),a)}))),function(){return a.apply(this,arguments)}),hasSomethingToRender:!1};var a}},Dr=function(){var e=Object(c.g)(k.a("approveTranslationsReviews")),t=kr();return function(n){return{name:"APPROVE_TRANSLATIONS_REVIEWS",label:Object(O.a)("Approve translation reviews","sitepress"),perform:(r=p()(u.a.mark((function r(){return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",t(S.h,e,n));case 1:case"end":return r.stop()}}),r)}))),function(){return r.apply(this,arguments)}),hasSomethingToRender:!1};var r}},Nr=n(532),Lr=n(25),Rr=function(e){var t=e.selectedJobs,n=e.isDialogVisible,r=e.setIsDialogVisible,s=e.setIsInProgress,o=e.cancelTranslationReviews,c=function(){return r(!1)},i=function(){var e=p()(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),r(!1),e.next=4,o({jobs:t,deleteDrafts:n});case 4:s(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=t.length?a.a.createElement(a.a.Fragment,null,a.a.createElement(At.a,{gutter:[0,32]},a.a.createElement(Ct.a,{span:12,align:"left"},a.a.createElement(Lr.a,{type:"secondary",onClick:function(){return i(!0)}},Object(O.a)("Delete Translations","sitepress"))),a.a.createElement(Ct.a,{span:12,align:"right"},a.a.createElement(Lr.a,{type:"primary",onClick:function(){return i(!1)}},Object(O.a)("Keep Translations as Draft","sitepress")))),a.a.createElement(At.a,{gutter:[0,32]},a.a.createElement(Ct.a,null,a.a.createElement(Lr.a,{type:"link",onClick:c},Object(O.a)("Never mind. I want to review these translations.","sitepress"))))):a.a.createElement(At.a,null,a.a.createElement(Ct.a,{span:12,align:"left"},a.a.createElement(Lr.a,{type:"secondary",onClick:c},Object(O.a)("Cancel","sitepress")))),f=a.a.createElement("p",null,Object(O.a)("This will remove the selected jobs from the Translations Queue without publishing them. What would you like to do with the translations?","sitepress"));return a.a.createElement(Nr.a,{title:Object(O.a)("Cancel Translation Review","sitepress"),visible:n,onCancel:c,maskClosable:!1,destroyOnClose:!0,footer:l,className:"wpml-wizard__modal"},f)};Rr.propTypes={selectedJobs:it.a.arrayOf(it.a.object).isRequired,isDialogVisible:it.a.bool.isRequired,setIsDialogVisible:it.a.func.isRequired,setIsInProgress:it.a.func.isRequired,cancelTranslationReviews:it.a.func};var Ar=function(){var e=Object(r.useState)(!1),t=ye()(e,2),n=t[0],s=t[1],o=Object(c.g)(k.a("cancelTranslationReviews")),i=kr();return function(e,t){return{name:"CANCEL_TRANSLATION_REVIEWS",label:Object(O.a)("Cancel translation reviews","sitepress"),perform:(r=p()(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i(S.h,(function(){return s(!0)}),e));case 1:case"end":return t.stop()}}),t)}))),function(){return r.apply(this,arguments)}),hasSomethingToRender:!0,render:function(){return a.a.createElement(Rr,{key:"CANCEL_TRANSLATION_REVIEWS",selectedJobs:e.filter(S.h),isDialogVisible:n,setIsDialogVisible:s,setIsInProgress:t,cancelTranslationReviews:o})}};var r}},Cr=function(){var e=Object(c.h)(he.a(["settings","reviewMode"])),t=Dr(),n=Ar(),r=[t];return"before-publish"===e&&r.push(n),r=[].concat(C()(r),[Ir("1.0"),Ir("1.1"),Ir("1.2")]),a.a.createElement(Tr,{actionFactories:r})},Fr=n(844),Jr=lt.a.Option,Mr="EXPORT_XLIFF_1_0",zr="EXPORT_XLIFF_1_1",qr="EXPORT_XLIFF_1_2",Wr=function(e){var t=e.filters,n=e.exportALLToXLIFF,s=e.disabled,o=void 0!==s&&s,i=Object(c.h)(k.a("settings")),l=he.a(["xliffExport","xliffDefaultVersion"],i);switch(l){case 10:l=Mr;break;case 11:l=zr;break;default:l=qr}var f=Object(r.useState)(l),b=ye()(f,2),d=b[0],j=b[1],h=Object(r.useState)(!1),m=ye()(h,2),v=m[0],y=m[1],g=function(){var e=p()(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),t=d.slice("EXPORT_XLIFF_".length).replace("_",""),e.next=4,n(t);case 4:y(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(Rn.b,{size:"middle"},a.a.createElement(lt.a,{id:"wpml_xliff_version",size:"default",style:{width:"225px"},onChange:j,disabled:o||v,value:d},a.a.createElement(Jr,{value:Mr,key:Mr},Fr.a(t)?Object(O.a)("Export all jobs to XLIFF 1.0","sitepress"):Object(O.a)("Export all filtered jobs to XLIFF 1.0","sitepress")),a.a.createElement(Jr,{value:zr,key:zr},Fr.a(t)?Object(O.a)("Export all jobs to XLIFF 1.1","sitepress"):Object(O.a)("Export all filtered jobs to XLIFF 1.1","sitepress")),a.a.createElement(Jr,{value:qr,key:qr},Fr.a(t)?Object(O.a)("Export all jobs to XLIFF 1.2","sitepress"):Object(O.a)("Export all filtered jobs to XLIFF 1.2","sitepress"))),a.a.createElement(pt.a,{id:"wpml_xliff_download",type:"primary",disabled:o,loading:v,onClick:g,style:{width:"100px"}},Object(O.a)("Export","sitepress")))},Kr=n(1333),Br=function(){return a.a.createElement("i",{className:"otgs-ico-upload"})},Gr=function(e){var t=e.importXLIFF,n=Object(r.useState)([]),s=ye()(n,2),o=s[0],c=s[1],i=Object(r.useState)(!1),l=ye()(i,2),f=l[0],b=l[1],d=function(){var e=p()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,t(o[0]);case 3:c([]),b(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(Rn.b,{size:"middle",align:"start",className:"wpml-upload-file"},a.a.createElement(Kr.a,{id:"wpml_upload-xliff-file",onRemove:function(){c([])},beforeUpload:function(e){return c([e]),!1},fileList:o,accept:".zip, .xliff",multiple:!1},a.a.createElement(pt.a,{icon:a.a.createElement(Br,null),style:{width:"225px"}},Object(O.a)("Select File","sitepress"),a.a.createElement("span",{className:"wpml-extension"},Object(O.a)(".xliff .zip","sitepress")))),a.a.createElement(pt.a,{type:"primary",id:"wpml_xliff_upload",onClick:d,disabled:0===o.length,loading:f,style:{width:"100px"}},f?Object(O.a)("Importing","sitepress"):Object(O.a)("Import","sitepress")))},Ur=function(e){var t=e.filters,n=e.disabled,r=e.exportALLToXLIFF,s=e.importXLIFF;return a.a.createElement("div",null,a.a.createElement(hn.a,null),a.a.createElement("h3",null,Object(O.a)("Import / Export XLIFF","sitepress")),a.a.createElement(At.a,{gutter:[0,16]},a.a.createElement(Ct.a,null,a.a.createElement(Wr,{filters:t,disabled:n,exportALLToXLIFF:r}))),a.a.createElement(At.a,{gutter:[0,16],align:"top"},a.a.createElement(Ct.a,null,a.a.createElement(Gr,{importXLIFF:s}))))},Xr=function(){var e=Object(c.h)(k.a("filters")),t=Object(c.h)(k.a("jobs")),n=Object(c.g)(k.a("exportALLToXLIFF")),r=Object(c.g)(k.a("importXLIFF"));return a.a.createElement(Ur,{filters:e,disabled:!Fr.a(t),exportALLToXLIFF:n,importXLIFF:r})},Vr=(n(483),n(1237),n(1238),n(431)),Yr=n(436),Hr=n(865),Qr=n(1321),Zr=n(1307),$r=n(1312),ea=n(1324),ta=n(1325),na=n(1326),ra=n(867),aa=n(854),sa=n(452);function oa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ca="id",ia="title",ua="element_type",la="language",pa="batch_name",fa="translated_by",ba="sent_date",da="deadline_date",ja="status",ha=function(e,t,n,r,a,s,o,c){var i,u,l,p,f,b,d,j=je.a(de.a((function(e){return k.a("text",oe.a(ue.a("value",e))(c))})),Qr.a(", ")),h=function(e){return Object(ht.sprintf)("%s - %s",me.a("*",0,e),me.a("*",1,e))},m=function(e){return e.length>30?"".concat(e.substring(0,30),"..."):e};switch(e){case ca:return Object(ht.sprintf)(Object(O.a)("ID (%s)","sitepress"),t);case ia:return Object(ht.sprintf)(Object(O.a)("Title (%s)","sitepress"),n?m(t):t);case ua:return Object(ht.sprintf)(Object(O.a)("Type (%s)","sitepress"),(d=t,k.a("label",oe.a(ue.a("name",d))(s))));case la:return Object(ht.sprintf)(Object(O.a)("Language (%s)","sitepress"),(i=t,u=ye()(i,2),l=u[0],p=u[1],f="",b=function(e){return je.a(oe.a(ue.a("code",e)),Zr.a(xr.a,k.a("name"),ke.a(e)))(o)},l&&(f+="From: ".concat(b(l)," ")),se.a(p)||(f+="To: ".concat(p.map(b).join(", "))),f.trim()));case pa:return Object(ht.sprintf)(Object(O.a)("Batch name (%s)","sitepress"),n?m(t):t);case ja:return Object(ht.sprintf)(Object(O.a)("Status (%s)","sitepress"),j(t));case fa:return Object(ht.sprintf)(Object(O.a)("Translated by (%s)","sitepress"),function(e){if(Oe.a("any-service",e))return Object(O.a)("Any Translation Service","sitepress");if(Oe.a("any-local-translator",e))return Object(O.a)("Any WordPress Translator","sitepress");if(Oe.a("automatic",e))return Object(O.a)("Automatic translation","sitepress");var t=je.a($r.a("service-",""),(function(e){return oe.a(ue.a("value",e))(r)}),k.a("label")),n=je.a($r.a("translator-",""),(function(e){return parseInt(e)}),(function(e){return oe.a(ue.a("value",e))(a)}),k.a("label"));return ea.a("service",e)?t(e):ea.a("translator",e)?n(e):""}(t));case ba:return Object(ht.sprintf)(Object(O.a)("Sent date (%s)","sitepress"),h(t));case da:return Object(ht.sprintf)(Object(O.a)("Deadline (%s)","sitepress"),h(t));default:return e}},ma=function(e){var t=e.filters,n=e.translationServices,r=e.localTranslators,s=e.types,o=e.languages,c=e.availableStatuses,i=e.onClose,u=e.onClearAll,l=ta.a(ha,[n,r,s,o,c]),p=je.a(qe.a(xr.a),ge.a(se.a),na.a((function(e,t){return a.a.createElement(Hr.a,{key:t,closable:!0,title:l(t,e,!1),onClose:function(){return i(t)}},l(t,e,!0))})),ra.a())(t);return se.a(p)?a.a.createElement(a.a.Fragment,null):a.a.createElement(Rn.b,{className:"wpml-filters-list"},p,a.a.createElement(pt.a,{onClick:u,size:"small",style:{width:90},className:"wpml-clear-all",type:"link"},Object(O.a)("Clear all filters","sitepress")))},va=function(){var e=Object(c.h)(k.a("filters")),t=Object(c.h)(k.a("settings")),n=Object(c.g)(k.a("setFilters")),s=Object(r.useMemo)((function(){return je.a(aa.a(sa.a(),[G.a("source"),je.a(G.a("targets"),Jt.a())]),Mt.a())(t.languagePairs)}),[t]);return a.a.createElement(ma,{filters:e,onClose:function(t){var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oa(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);delete r[t],t===ja&&delete r.needs_update,n(r)},onClearAll:function(){n({})},translationServices:t.translationServices,localTranslators:t.localTranslators,types:t.types,availableStatuses:"translation-queue"===t.page?Ue:Ge,languages:s})},ya=n(394),Oa=function(){var e,t,n,r,s,o,i=WPML_TM_SETTINGS.translationService?Ze.a({id:$e.a(parseInt)},WPML_TM_SETTINGS.translationService):WPML_TM_SETTINGS.translationService,u=Ze.a({status:de.a($e.a(parseInt))}),l=Qe({settings:{isATEEnabled:!!WPML_TM_SETTINGS.isATEEnabled,batchUrl:WPML_TM_SETTINGS.batchUrl,translationService:i,localTranslators:WPML_TM_SETTINGS.localTranslators,translationServices:WPML_TM_SETTINGS.translationServices,isBasketUsed:WPML_TM_SETTINGS.isBasketUsed,languagePairs:WPML_TM_SETTINGS.languagePairs,types:WPML_TM_SETTINGS.types,queryFilters:se.a(WPML_TM_SETTINGS.queryFilters)?{}:u(WPML_TM_SETTINGS.queryFilters),page:WPML_TM_SETTINGS.page,xliffExport:k.a("xliffExport",WPML_TM_SETTINGS),batchSyncTimeout:me.a(3e4,"batchSyncTimeout",WPML_TM_SETTINGS),currentUser:WPML_TM_SETTINGS.currentUser,endpoints:WPML_TM_SETTINGS.endpoints,hasTranslationServiceJobs:me.a(!1,"hasTranslationServiceJobs",WPML_TM_SETTINGS),reviewMode:k.a("reviewMode",WPML_TM_SETTINGS),bulkActionInfoDelay:k.a("bulkActionInfoDelay",WPML_TM_SETTINGS)},hasAnyJobsToSync:!!WPML_TM_SETTINGS.hasAnyJobsToSync,syncATEJobs:(s=new Yr.a(new j.a),o=new ya.a(WPML_TM_SETTINGS.endpoints.getJobsCount),new Vr.a({synchronize:function(e){return s.sync(e)},download:function(e,t){return s.download(e,t)},releaseLock:function(e){return Object(T.a)(WPML_TM_SETTINGS.endpoints.syncLock,{action:"release",lockKey:e})},getJobsCount:o,repeatTimeouts:{sync:(null===(e=WPML_TM_SETTINGS)||void 0===e||null===(t=e.repeatTimeouts)||void 0===t?void 0:t.sync)||5e3,syncDelayed:(null===(n=WPML_TM_SETTINGS)||void 0===n||null===(r=n.repeatTimeouts)||void 0===r?void 0:r.syncDelayed)||1e4}}))}),p="tm-jobs"===WPML_TM_SETTINGS.page?a.a.createElement(_r,null):a.a.createElement(Cr,null);return a.a.createElement(c.a,{store:l},a.a.createElement(hr,null),p,a.a.createElement(va,null),a.a.createElement(wn,null,"tm-jobs"===WPML_TM_SETTINGS.page?a.a.createElement(Jn,null):a.a.createElement(cr,null)),p,"translation-queue"===WPML_TM_SETTINGS.page&&a.a.createElement(Xr,null))},ga=a.a.createElement(Oa,null);document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector("#wpml-remote-jobs-container");e&&o.a.render(ga,e)}))},132:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(14),a=n.n(r),s=n(16),o=n.n(s),c=n(12),i=function(){function e(t,n,r){a()(this,e),this.document=t,this.button=n,this.icons=r,this.progressClass="wpml-sync-and-download-translation-progress"}return o()(e,[{key:"startProcess",value:function(){this.button.classList.add(this.progressClass)}},{key:"handleResult",value:function(e){var t=this;return this.button.classList.remove(this.progressClass),Object(c.j)(e,c.b.IN_PROGRESS)||Object(c.j)(e,c.b.TRANSLATION_READY_TO_DOWNLOAD)||this.button.remove(),e.map((function(n){return t.updateIcon(n),e}))}},{key:"updateIcon",value:function(e){if(e.status===c.b.CANCELLED||e.status===c.b.COMPLETED){var t=e.status;t===c.b.CANCELLED&&e.hasCompletedTranslation&&(t=e.needsUpdate?c.b.NEEDS_UPDATE:c.b.COMPLETED);var n="#wpml-job-status-".concat(e.id," > i"),r=this.document.querySelector(n);if(r){if(this.alreadyHasCorrectIcon(r,e))return;var a=this.icons,s=a.progress,o=a.canceled,i=a.completed,u=a.needsUpdate;switch(t){case c.b.CANCELLED:r.classList.replace(s,o);break;case c.b.NEEDS_UPDATE:r.classList.replace(s,u);break;default:r.classList.replace(s,i)}r.classList.add("wpml-blink"),setTimeout((function(){r.classList.remove("wpml-blink")}),2e3)}}}},{key:"alreadyHasCorrectIcon",value:function(e,t){return e.classList.contains(this.icons.completed)&&t.status===c.b.COMPLETED||e.classList.contains(this.icons.canceled)&&t.status===c.b.CANCELLED}}]),e}()},167:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(3),a=n.n(r),s=n(7),o=n.n(s),c=n(14),i=n.n(c),u=n(16),l=n.n(u),p=n(119),f=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e4;i()(this,e),this.jobAPI=t,this.interval=n,this.MAX_ATTEMPTS=5}var t,n,r;return l()(e,[{key:"run",value:(r=o()(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.jobAPI.syncBatch(t);case 2:return e.abrupt("return",this.checkProgress());case 3:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"checkProgress",value:(n=o()(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.attempts=0;case 1:return e.next=3,this.runCheck();case 3:if(e.sent){e.next=7;break}e.next=1;break;case 7:return e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"runCheck",value:(t=o()(a.a.mark((function e(){var t=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(p.a)(o()(a.a.mark((function e(){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.jobAPI.checkBatchSync();case 2:return n=e.sent,e.abrupt("return",0===n.length||++t.attempts>=t.MAX_ATTEMPTS);case 4:case"end":return e.stop()}}),e)}))),this.interval));case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}()},168:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(3),a=n.n(r),s=n(7),o=n.n(s),c=n(14),i=n.n(c),u=n(16),l=n.n(u),p=n(15),f=n.n(p),b=n(12);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(e,t,n){var r=function(e){return t.find((function(t){return e.id===t.id&&e.type===t.type&&t.status===n}))},a=e.filter((function(e){return e.status===n||void 0!==r(e)})).map((function(e){var t=r(e);return void 0!==t&&(e.hasCompletedTranslation=t.hasCompletedTranslation,e.needsUpdate=t.needsUpdate),e})).map((function(e){return j(j({},e),{},{status:n})})),s=t.filter((function(t){return t.status===n&&void 0===e.find((function(e){return Object(b.m)(e,t)}))}));return a.concat(s)},m=function(){function e(t){i()(this,e),this.jobAPI=t}var t;return l()(e,[{key:"sync",value:(t=o()(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.jobAPI.synchronizeStatusesWithTP(!0);case 2:return n=e.sent,e.abrupt("return",{ready:h(t,n,b.b.TRANSLATION_READY_TO_DOWNLOAD),cancelled:h(t,n,b.b.CANCELLED)});case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}()},169:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(15),a=n.n(r),s=n(3),o=n.n(s),c=n(27),i=n.n(c),u=n(7),l=n.n(u),p=n(14),f=n.n(p),b=n(16),d=n.n(b),j=n(12),h=n(103);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=function(){function e(t,n){f()(this,e),this.LIMIT_PER_CHUNK=5,this.REQUEST_NUM_LIMIT=5,this.jobAPI=t,this.hooks=n}var t,n;return d()(e,[{key:"download",value:(n=l()(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(this.allJobsCount=t.length,this.alreadyProcessedJobs=0,this.jobsToProcess=i()(t),n=[];this.jobsToProcess.length&&n.length<this.REQUEST_NUM_LIMIT;)r=this.getNextJobsSet(),n.push(this.downloadSubset(r));return e.next=7,Promise.all(n);case 7:return h.a.dispatchDownloadedJobsEvent(t),e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"downloadSubset",value:(t=l()(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.jobAPI.applyTranslation(t);case 2:if(t=t.map((function(e){return v(v({},e),{},{status:j.b.COMPLETED})})),this.alreadyProcessedJobs+=t.length,this.hooks&&this.hooks.doAction("wpml-tm-job-translations-processed",t),!(this.jobsToProcess.length>0)){e.next=7;break}return e.abrupt("return",this.downloadSubset(this.getNextJobsSet()));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"getNextJobsSet",value:function(){var e=this.jobsToProcess.slice(0,this.LIMIT_PER_CHUNK);return this.jobsToProcess.splice(0,this.LIMIT_PER_CHUNK),e}}]),e}(),O=function(){function e(t,n){f()(this,e),this.jobAPI=t,this.hooks=n}var t;return d()(e,[{key:"download",value:(t=l()(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new y(this.jobAPI,this.hooks),e.abrupt("return",n.download(t));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}()},183:function(e,t,n){},185:function(e,t,n){"use strict";var r=n(14),a=n.n(r),s=n(16),o=n.n(s),c=n(35),i=n.n(c),u=n(42),l=n.n(u),p=n(34),f=n.n(p),b=n(0),d=n.n(b),j=n(18),h=n.n(j),m=n(45),v=n(64),y=n(80),O=n(90),g=n(91);function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l()(this,n)}}var E=function(e){i()(n,e);var t=w(n);function n(){return a()(this,n),t.apply(this,arguments)}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.jobs,r=e.strings,a=e.lastPickupDate,s=e.process,o=1===t.length?Object(m.sprintf)(r.numberOfTranslationStringsSingle,1):Object(m.sprintf)(r.numberOfTranslationStringsMulti,t.length),c=1===t.length?Object(m.sprintf)(r.stringsSentToTranslationSingle,"<strong>".concat(o,"</strong>")):Object(m.sprintf)(r.stringsSentToTranslationMulti,"<strong>".concat(o,"</strong>"));return d.a.createElement("div",{className:"wpml-tm-polling otgs-notice message"},d.a.createElement("p",null,d.a.createElement("span",{id:"wpml-tm-polling-jobs-number",dangerouslySetInnerHTML:{__html:c}}),d.a.createElement("input",{type:"button",className:"button button-secondary",value:r.buttonText,onClick:function(){return s.run()},disabled:n.shouldDisableTheButton(a)}),d.a.createElement("span",{id:"wpml-tmp-polling-last-pickup",className:"wpml-tm-polling-last-pickup"},Object(m.sprintf)(r.lastCheck,a?a.local().format("YYYY-MM-DD HH:mm"):r.never))))}}],[{key:"shouldDisableTheButton",value:function(e){return!(WPML_TM_DASHBOARD.debug||!e)&&e.isAfter(h()().utc().subtract(5,"minutes"))}}]),n}(d.a.Component);t.a=Object(v.a)(E,O.a,y.a,g.a)},394:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(3),a=n.n(r),s=n(7),o=n.n(s),c=n(14),i=n.n(c),u=n(16),l=n.n(u),p=n(17),f=n(199),b=function(){function e(t){i()(this,e),this.endpoint=t}var t;return l()(e,[{key:"get",value:(t=o()(a.a.mark((function e(){var t,n,r,s=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!(s.length>0&&void 0!==s[0])||s[0],e.next=3,Object(p.a)(this.endpoint,{withCache:t});case 3:return n=e.sent,r=function(e){return parseInt(Object(f.a)(0,["data","data",e],n))},e.abrupt("return",{allCount:r("allCount"),allAutomaticCount:r("allAutomaticCount"),automaticWithoutLongstandingCount:r("automaticWithoutLongstandingCount"),needsReviewCount:r("needsReviewCount")});case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}()},431:function(e,t,n){"use strict";n.d(t,"a",(function(){return G}));var r=n(15),a=n.n(r),s=n(3),o=n.n(s),c=n(9),i=n.n(c),u=n(7),l=n.n(u),p=n(27),f=n.n(p),b=n(14),d=n.n(b),j=n(16),h=n.n(j),m=n(512),v=n.n(m),y=n(513),O=n.n(y),g=n(514),w=n.n(g),E=n(54),T=n(40),k=n(129),P=n(161),S=n(65),_=n(408),x=n(49),I=n(871),D=n(875),N=n(73),L=n(872),R=n(367),A=n(351),C=n(406),F=n(530),J=n(407),M=n(12);n(119);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W=E.a(T.a("ateStatus"),k.a(P.a,[M.a.TRANSLATED,M.a.DELIVERING,M.a.EDITED]));function K(e){return new Promise((function(t){return setTimeout(t,e)}))}var B=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;d()(this,e),this.insufficientBalanceJobs=t,this.stillInProgressJobs=n,this.downloaded=r,this.notDownloaded=a,this.lockKey=s}return h()(e,[{key:"prepandPrevioslyDownloadedJobs",value:function(t){return new e(this.insufficientBalanceJobs,this.stillInProgressJobs,[].concat(f()(t),f()(this.downloaded)),this.notDownloaded,this.lockKey)}}]),e}(),G=function(){function e(t){var n=t.synchronize,r=t.download,a=t.releaseLock,s=t.listeners,o=(s=void 0===s?{}:s).onInsufficientBalance,c=void 0===o?[]:o,i=s.onDownloadedChunk,u=void 0===i?[]:i,l=s.onSyncDownloadCycleCompleted,p=void 0===l?[]:l,f=s.onSyncDownloadCompleted,b=void 0===f?[]:f,j=s.onSyncStart,h=void 0===j?[]:j,m=s.onSyncLocked,v=void 0===m?[]:m,y=t.getJobsCount,O=t.repeatTimeouts,g=(O=void 0===O?{}:O).sync,w=void 0===g?5e3:g,E=O.syncDelayed,T=void 0===E?1e4:E,k=O.syncIsLockedDelay,P=void 0===k?6e4:k;d()(this,e),this.synchronize=n,this.download=r,this.releaseLock=a,this.getJobsCount=y,this.onInsufficientBalance=c,this.onDownloadedChunk=u,this.onSyncStart=h,this.onSyncDownloadCycleCompleted=p,this.onSyncDownloadCompleted=b,this.onSyncLocked=v,this.repeatTimeouts={sync:w,syncDelayed:T,syncIsLockedDelay:P}}var t,n,r,a,s,c,u;return h()(e,[{key:"syncSinglePage",value:(u=l()(o.a.mark((function e(){var t,n,r,a,s,c,u,l,p,f,b,d=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.synchronize(t);case 3:return n=e.sent,r=S.a([],"jobs",n),a=_.a(x.a("ateStatus",M.a.NO_CREDIT),r),s=i()(a,2),c=s[0],u=s[1],l=_.a(W,u),p=i()(l,2),f=p[0],b=p[1],c.length&&this.onInsufficientBalance.forEach((function(e){return e(c)})),e.abrupt("return",{insufficientBalanceJobs:c,readyToDownloadJobs:f,stillInProgressJobs:b,response:n});case 9:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"synchronizeAllPages",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return w()(o.a.mark((function r(){var a,s,c;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:a=n?{lockKey:n}:{},s={};case 2:return s=I.a(["lockKey","ateToken","nextPage","numberOfPages"],a),r.next=5,O()(e.syncSinglePage(q(q({},s),{},{includeManualAndLongstandingJobs:t})));case 5:return c=r.sent,a=c.response,r.next=9,{insufficientBalanceJobs:c.insufficientBalanceJobs||[],readyToDownloadJobs:c.readyToDownloadJobs||[],stillInProgressJobs:c.stillInProgressJobs||[],lockKey:T.a("lockKey",a)};case 9:if(S.a(!1,"ateToken",a)){r.next=2;break}case 10:case"end":return r.stop()}}),r)})))()}},{key:"downloadSingleBatch",value:(c=l()(o.a.mark((function e(t,n){var r,a,s,c,u,l,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=D.a(parseInt),e.prev=1,e.next=4,this.download(t,n);case 4:return a=e.sent,a=N.a(L.a({jobId:r,status:r}),a),s=function(e){var t=a.find(x.a("jobId",e.jobId));return t?q(q({},e),t):e},c=E.a(N.a(s),_.a(x.a("status",M.b.COMPLETED)))(t),u=i()(c,2),l=u[0],p=u[1],e.abrupt("return",{downloadedJobs:l,notDownloaded:p});case 11:return e.prev=11,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",{notDownloaded:t,downloadedJobs:[]});case 15:case"end":return e.stop()}}),e,this,[[1,11]])}))),function(e,t){return c.apply(this,arguments)})},{key:"downloadAll",value:(s=l()(o.a.mark((function e(t,n){var r,a,s,c,i,u,l,p,b=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=R.a(x.a("status",M.b.COMPLETED)),a=[],s=[],c=A.a(C.a(W,r),t),i=F.a(5,c),u=F.a((d=void 0,j=void 0,"undefined"==typeof ate_jobs_sync||null===ate_jobs_sync?2:(null===(d=ate_jobs_sync)||void 0===d||null===(j=d.settings)||void 0===j?void 0:j.numberOfParallelDownloads)||2),i),l=o.a.mark((function e(t){var r,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(N.a((function(e){return b.downloadSingleBatch(e,n)}),u[t]));case 2:if(r=e.sent,c=J.a(N.a(T.a("downloadedJobs"),r)),i=J.a(N.a(T.a("notDownloaded"),r)),!c.length||!b.onDownloadedChunk.length){e.next=8;break}return e.next=8,Promise.all(N.a((function(e){return e(c,parseInt(t))}),b.onDownloadedChunk));case 8:a.push.apply(a,f()(c)),s.push.apply(s,f()(i));case 10:case"end":return e.stop()}}),e)})),e.t0=o.a.keys(u);case 8:if((e.t1=e.t0()).done){e.next=13;break}return p=e.t1.value,e.delegateYield(l(p),"t2",11);case 11:e.next=8;break;case 13:return e.abrupt("return",{downloaded:a,notDownloaded:s});case 14:case"end":return e.stop()}var d,j}),e)}))),function(e,t){return s.apply(this,arguments)})},{key:"syncAndDownloadCycle",value:(a=l()(o.a.mark((function e(){var t,n,r,a,s,c,i,u,l,p,b,d,j,h,m,y=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!(y.length>0&&void 0!==y[0])||y[0],n=y.length>1&&void 0!==y[1]?y[1]:null,r=[],a=[],s=[],c=[],i=n,u=!0,l=!1,e.prev=9,b=v()(this.synchronizeAllPages(t,i));case 11:return e.next=13,b.next();case 13:return d=e.sent,u=d.done,e.next=17,d.value;case 17:if(j=e.sent,u){e.next=32;break}if(h=j,r.push.apply(r,f()(h.insufficientBalanceJobs)),a.push.apply(a,f()(h.stillInProgressJobs)),i=h.lockKey,!h.lockKey){e.next=29;break}return e.next=26,this.downloadAll(h.readyToDownloadJobs,h.lockKey);case 26:m=e.sent,s.push.apply(s,f()(m.downloaded)),c.push.apply(c,f()(m.notDownloaded));case 29:u=!0,e.next=11;break;case 32:e.next=38;break;case 34:e.prev=34,e.t0=e.catch(9),l=!0,p=e.t0;case 38:if(e.prev=38,e.prev=39,u||null==b.return){e.next=43;break}return e.next=43,b.return();case 43:if(e.prev=43,!l){e.next=46;break}throw p;case 46:return e.finish(43);case 47:return e.finish(38);case 48:return e.abrupt("return",new B(r,a,s,c,i));case 49:case"end":return e.stop()}}),e,this,[[9,34,38,48],[39,,43,47]])}))),function(){return a.apply(this,arguments)})},{key:"syncAndDownload",value:(r=l()(o.a.mark((function e(){var t,n,r,a,s,c,i,u,l,p=this,f=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=f.length>0&&void 0!==f[0]?f[0]:{},n=t.suspendCycleRepeat,r=void 0!==n&&n,this.onSyncStart.forEach((function(e){return e()})),c=1,i=!0,u=null,l=o.a.mark((function e(){var t,n,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.syncAndDownloadCycle(i,u);case 2:return n=e.sent,s=n.prepandPrevioslyDownloadedJobs((null===(t=s)||void 0===t?void 0:t.downloaded)||[]),u=n.lockKey||null,i=!u,e.next=8,p.getJobsCount.get();case 8:return l=e.sent,e.next=11,Promise.all(p.onSyncDownloadCycleCompleted.map((function(e){return e(l,n)})));case 11:if(!r){e.next=17;break}if(e.t0=u,!e.t0){e.next=16;break}return e.next=16,p.releaseLock(n.lockKey);case 16:return e.abrupt("return","break");case 17:if(!u){e.next=23;break}return e.next=20,p._shouldRetryWithLock(c,n,l);case 20:e.t1=e.sent,e.next=26;break;case 23:return e.next=25,p._shouldRetryWithoutLock(c,l,a);case 25:e.t1=e.sent;case 26:c=e.t1,a=l;case 28:case"end":return e.stop()}}),e)}));case 6:return e.delegateYield(l(),"t0",7);case 7:if("break"!==e.t0){e.next=10;break}return e.abrupt("break",11);case 10:if(c){e.next=6;break}case 11:return this.onSyncDownloadCompleted.forEach((function(e){return e(s)})),e.abrupt("return",s);case 13:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"_shouldRetryWithLock",value:(n=l()(o.a.mark((function e(t,n,r){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.automaticWithoutLongstandingCount<=n.insufficientBalanceJobs.length||t>=10)){e.next=4;break}return e.next=3,this.releaseLock(n.lockKey);case 3:return e.abrupt("return",!1);case 4:return t=n.downloaded.length>0?1:t+1,a=n.downloaded.length>0?this.repeatTimeouts.sync:t*this.repeatTimeouts.syncDelayed,e.next=8,K(a);case 8:return e.abrupt("return",t);case 9:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"_shouldRetryWithoutLock",value:(t=l()(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.automaticWithoutLongstandingCount<=0)){e.next=2;break}return e.abrupt("return",!1);case 2:if(!((t=!r||r.automaticWithoutLongstandingCount>n.automaticWithoutLongstandingCount?1:t+1)>=3)){e.next=5;break}return e.abrupt("return",!1);case 5:return e.next=7,K(this.repeatTimeouts.syncIsLockedDelay);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})}]),e}()},436:function(e,t,n){"use strict";var r=n(3),a=n.n(r),s=n(7),o=n.n(s),c=n(14),i=n.n(c),u=n(16),l=n.n(u),p={createJob:"/wpml/tm/v1/ate/jobs",sync:"/wpml/tm/v1/ate/jobs/sync",retry:"/wpml/tm/v1/ate/jobs/retry",download:"/wpml/tm/v1/ate/jobs/download",fixJobStatus:function(e,t){return"/wpml/tm/v1/ate/jobs/".concat(e,"/fix?jobId=").concat(t)},getJobStatus:function(e){return"/wpml/tm/v1/ate/jobs/".concat(e)}},f=function(){function e(t){i()(this,e),this.request=t}var t,n,r;return l()(e,[{key:"createJob",value:function(e){var t=e.xliff,n=e.returnURL,r=t.sourceLang,a=t.targetLang,s=t.content;return this.request.post(p.createJob,{source_language:r,target_language:a,file:{name:"some_page_en_fr.xliff",type:"data:application/x-xliff;base64",content:s},return_url:n})}},{key:"getJobStatus",value:function(e){return this.request.get(p.getJobStatus(e))}},{key:"fixJobStatus",value:function(e,t){return this.request.get(p.fixJobStatus(e,t))}},{key:"sync",value:(r=o()(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request.post(p.sync,t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"retry",value:(n=o()(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request.post(p.retry,t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"download",value:(t=o()(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request.post(p.download,{jobs:t,lockKey:n}));case 1:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),e}();t.a=f},482:function(e,t,n){var r={"./af":204,"./af.js":204,"./ar":205,"./ar-dz":206,"./ar-dz.js":206,"./ar-kw":207,"./ar-kw.js":207,"./ar-ly":208,"./ar-ly.js":208,"./ar-ma":209,"./ar-ma.js":209,"./ar-sa":210,"./ar-sa.js":210,"./ar-tn":211,"./ar-tn.js":211,"./ar.js":205,"./az":212,"./az.js":212,"./be":213,"./be.js":213,"./bg":214,"./bg.js":214,"./bm":215,"./bm.js":215,"./bn":216,"./bn-bd":217,"./bn-bd.js":217,"./bn.js":216,"./bo":218,"./bo.js":218,"./br":219,"./br.js":219,"./bs":220,"./bs.js":220,"./ca":221,"./ca.js":221,"./cs":222,"./cs.js":222,"./cv":223,"./cv.js":223,"./cy":224,"./cy.js":224,"./da":225,"./da.js":225,"./de":226,"./de-at":227,"./de-at.js":227,"./de-ch":228,"./de-ch.js":228,"./de.js":226,"./dv":229,"./dv.js":229,"./el":230,"./el.js":230,"./en-au":231,"./en-au.js":231,"./en-ca":232,"./en-ca.js":232,"./en-gb":233,"./en-gb.js":233,"./en-ie":234,"./en-ie.js":234,"./en-il":235,"./en-il.js":235,"./en-in":236,"./en-in.js":236,"./en-nz":237,"./en-nz.js":237,"./en-sg":238,"./en-sg.js":238,"./eo":239,"./eo.js":239,"./es":240,"./es-do":241,"./es-do.js":241,"./es-mx":242,"./es-mx.js":242,"./es-us":243,"./es-us.js":243,"./es.js":240,"./et":244,"./et.js":244,"./eu":245,"./eu.js":245,"./fa":246,"./fa.js":246,"./fi":247,"./fi.js":247,"./fil":248,"./fil.js":248,"./fo":249,"./fo.js":249,"./fr":250,"./fr-ca":251,"./fr-ca.js":251,"./fr-ch":252,"./fr-ch.js":252,"./fr.js":250,"./fy":253,"./fy.js":253,"./ga":254,"./ga.js":254,"./gd":255,"./gd.js":255,"./gl":256,"./gl.js":256,"./gom-deva":257,"./gom-deva.js":257,"./gom-latn":258,"./gom-latn.js":258,"./gu":259,"./gu.js":259,"./he":260,"./he.js":260,"./hi":261,"./hi.js":261,"./hr":262,"./hr.js":262,"./hu":263,"./hu.js":263,"./hy-am":264,"./hy-am.js":264,"./id":265,"./id.js":265,"./is":266,"./is.js":266,"./it":267,"./it-ch":268,"./it-ch.js":268,"./it.js":267,"./ja":269,"./ja.js":269,"./jv":270,"./jv.js":270,"./ka":271,"./ka.js":271,"./kk":272,"./kk.js":272,"./km":273,"./km.js":273,"./kn":274,"./kn.js":274,"./ko":275,"./ko.js":275,"./ku":276,"./ku.js":276,"./ky":277,"./ky.js":277,"./lb":278,"./lb.js":278,"./lo":279,"./lo.js":279,"./lt":280,"./lt.js":280,"./lv":281,"./lv.js":281,"./me":282,"./me.js":282,"./mi":283,"./mi.js":283,"./mk":284,"./mk.js":284,"./ml":285,"./ml.js":285,"./mn":286,"./mn.js":286,"./mr":287,"./mr.js":287,"./ms":288,"./ms-my":289,"./ms-my.js":289,"./ms.js":288,"./mt":290,"./mt.js":290,"./my":291,"./my.js":291,"./nb":292,"./nb.js":292,"./ne":293,"./ne.js":293,"./nl":294,"./nl-be":295,"./nl-be.js":295,"./nl.js":294,"./nn":296,"./nn.js":296,"./oc-lnc":297,"./oc-lnc.js":297,"./pa-in":298,"./pa-in.js":298,"./pl":299,"./pl.js":299,"./pt":300,"./pt-br":301,"./pt-br.js":301,"./pt.js":300,"./ro":302,"./ro.js":302,"./ru":303,"./ru.js":303,"./sd":304,"./sd.js":304,"./se":305,"./se.js":305,"./si":306,"./si.js":306,"./sk":307,"./sk.js":307,"./sl":308,"./sl.js":308,"./sq":309,"./sq.js":309,"./sr":310,"./sr-cyrl":311,"./sr-cyrl.js":311,"./sr.js":310,"./ss":312,"./ss.js":312,"./sv":313,"./sv.js":313,"./sw":314,"./sw.js":314,"./ta":315,"./ta.js":315,"./te":316,"./te.js":316,"./tet":317,"./tet.js":317,"./tg":318,"./tg.js":318,"./th":319,"./th.js":319,"./tk":320,"./tk.js":320,"./tl-ph":321,"./tl-ph.js":321,"./tlh":322,"./tlh.js":322,"./tr":323,"./tr.js":323,"./tzl":324,"./tzl.js":324,"./tzm":325,"./tzm-latn":326,"./tzm-latn.js":326,"./tzm.js":325,"./ug-cn":327,"./ug-cn.js":327,"./uk":328,"./uk.js":328,"./ur":329,"./ur.js":329,"./uz":330,"./uz-latn":331,"./uz-latn.js":331,"./uz.js":330,"./vi":332,"./vi.js":332,"./x-pseudo":333,"./x-pseudo.js":333,"./yo":334,"./yo.js":334,"./zh-cn":335,"./zh-cn.js":335,"./zh-hk":336,"./zh-hk.js":336,"./zh-mo":337,"./zh-mo.js":337,"./zh-tw":338,"./zh-tw.js":338};function a(e){var t=s(e);return n(t)}function s(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=s,e.exports=a,a.id=482},483:function(e,t,n){},64:function(e,t,n){"use strict";var r=n(31),a=n.n(r),s=n(0),o=n.n(s);t.a=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(e,t){return function(n){return o.a.createElement(t,null,(function(t){return o.a.createElement(e,a()({},n,t))}))}}),(function(t){return o.a.createElement(e,t)}))}},67:function(e,t,n){"use strict";var r=n(3),a=n.n(r),s=n(7),o=n.n(s),c=n(14),i=n.n(c),u=n(16),l=n.n(u),p=n(35),f=n.n(p),b=n(42),d=n.n(b),j=n(34),h=n.n(j),m=n(68),v=n(71);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d()(this,n)}}Object(v.a)();var O=function(e){f()(r,e);var t,n=y(r);function r(){return i()(this,r),n.apply(this,arguments)}return l()(r,[{key:"get",value:function(e){return this.request(e,"GET")}},{key:"post",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.request(e,"POST",t)}},{key:"download",value:(t=o()(a.a.mark((function e(t){var n=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(t,this.generateArgs("GET")).then((function(e){return e.ok?e.blob():n.buildError(e)})));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"request",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.generateArgs(t,n);return this.restUrl.includes("?")&&(e=e.replace("?","&")),this.handleRequest(this.restUrl+e,r)}},{key:"handleRequest",value:function(e,t){var n=this;return fetch(e,t).then((function(e){return e.ok?e.json():n.buildError(e)}))}},{key:"generateArgs",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n={method:e.toUpperCase(),headers:{Accept:"application/json","Content-Type":"application/json","X-WP-Nonce":this.restNonce},credentials:"same-origin"};return"GET"!==n.method&&t&&(n.body="string"==typeof t?t:JSON.stringify(t)),n}},{key:"buildError",value:function(e){return e.json().then((function(t){var n=new Error(t.message||e.statusText);return Promise.reject(Object.assign(n,{response:e}))}))}}]),r}(m.a);t.a=O},68:function(e,t,n){"use strict";var r=n(14),a=n.n(r),s=function e(t){a()(this,e),this.ID=t.ID,this.caps=t.caps,this.roles=t.roles,this.user_email=t.data,this.user_login=t.data.user_email,this.user_nicename=t.data.user_login};t.a=function e(){a()(this,e),this.restUrl=WPML_TM_SETTINGS.restUrl,this.restNonce=WPML_TM_SETTINGS.restNonce,this.ateSettings=WPML_TM_SETTINGS.ate,this.currentUser=new s(WPML_TM_SETTINGS.currentUser)}},80:function(e,t,n){"use strict";n.d(t,"b",(function(){return S})),n.d(t,"a",(function(){return _}));var r=n(15),a=n.n(r),s=n(3),o=n.n(s),c=n(7),i=n.n(c),u=n(14),l=n.n(u),p=n(16),f=n.n(p),b=n(35),d=n.n(b),j=n(42),h=n.n(j),m=n(34),v=n.n(m),y=n(0),O=n.n(y),g=n(18),w=n.n(g);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var P=O.a.createContext({}),S=function(e){d()(r,e);var t,n=k(r);function r(e){var t;return l()(this,r),(t=n.call(this,e)).jobsAPI=e.jobsAPI,t.jobsLoader=e.jobsLoader,t.loadJobsOnMount=!0===t.props.loadOnMount||void 0===t.props.loadOnMount,t.state={jobs:[],lastPickupDate:null},t}return f()(r,[{key:"componentDidMount",value:function(){this.loadJobsOnMount&&this.loadJobs()}},{key:"loadJobs",value:(t=i()(o.a.mark((function e(){var t=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.jobsLoader.load().then((function(e){return t.setState({jobs:e.jobs,lastPickupDate:e.last_picked_up_date})}));case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.props.children;return O.a.createElement(P.Provider,{value:T(T({},this.state),{},{setJobs:function(t){return e.setState({jobs:t})},refreshLastPickupDate:function(){return e.setState({lastPickupDate:w()()})}})},t)}}]),r}(y.Component),_=P.Consumer},90:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return v}));var r=n(14),a=n.n(r),s=n(16),o=n.n(s),c=n(35),i=n.n(c),u=n(42),l=n.n(u),p=n(34),f=n.n(p),b=n(0),d=n.n(b);function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l()(this,n)}}var h=d.a.createContext({}),m=function(e){i()(n,e);var t=j(n);function n(e){return a()(this,n),t.call(this,e)}return o()(n,[{key:"render",value:function(){var e=this.props.children;return d.a.createElement(h.Provider,{value:{strings:WPML_TM_DASHBOARD.strings}},e)}}]),n}(b.Component),v=h.Consumer},91:function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var r=n(3),a=n.n(r),s=n(15),o=n.n(s),c=n(7),i=n.n(c),u=n(14),l=n.n(u),p=n(16),f=n.n(p),b=n(35),d=n.n(b),j=n(42),h=n.n(j),m=n(34),v=n.n(m),y=n(0),O=n.n(y),g=n(64),w=n(80),E=n(71),T=n(132),k=n(12);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var x=O.a.createContext({}),I=function(e){d()(r,e);var t,n=_(r);function r(e){var t;return l()(this,r),(t=n.call(this,e)).initialState={inProgress:!1,finished:!1,error:!1,confirmationHidden:!1,processedJobs:[]},t.state=t.initialState,t}return f()(r,[{key:"run",value:(t=i()(a.a.mark((function e(){var t,n,r=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState(S(S({},this.initialState),{},{inProgress:!0})),t=this.defineHooks(),e.prev=2,e.next=5,this.props.createProcess(t).run(this.props.jobs);case 5:this.setState({inProgress:!1,finished:!0}),this.updateJobsIconOnTheList(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),this.setState({inProgress:!1,finished:!1,error:e.t0});case 12:n=this.props.jobs.filter((function(e){return void 0===r.state.processedJobs.find((function(t){return Object(k.m)(e,t)}))})),this.props.setJobs(n),this.props.refreshLastPickupDate();case 15:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(){return t.apply(this,arguments)})},{key:"defineHooks",value:function(){var e=this,t=Object(E.a)();return t.addAction("wpml-tm-job-translations-processed","CheckAndDownloadTranslations",(function(t){return e.setState((function(e){return{processedJobs:e.processedJobs.concat(t)}}))})),t}},{key:"updateJobsIconOnTheList",value:function(){var e=new T.a(document,null,WPML_TM_DASHBOARD.statusIcons);this.state.processedJobs.map((function(t){e.updateIcon(t)}))}},{key:"render",value:function(){var e=this,t=this.props.children;return O.a.createElement(x.Provider,{value:{process:S(S({},this.state),{},{run:function(){return e.run()},hideConfirmation:function(){return e.setState({confirmationHidden:!0})}})}},t)}}]),r}(y.Component),D=x.Consumer;t.b=Object(g.a)(I,w.a)},99:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(3),a=n.n(r),s=n(7),o=n.n(s),c=n(14),i=n.n(c),u=n(16),l=n.n(u),p="/wpml/tm/v1",f={getJobs:"".concat(p,"/jobs/"),applyTranslations:"".concat(p,"/tp/apply-translations/"),syncJobsAction:"wpml-tp-sync-job-states",syncBatchAction:"".concat(p,"/tp/batches/sync"),checkSyncBatchAction:"".concat(p,"/tp/batches/status/"),cancelJobs:"".concat(p,"/jobs/cancel/"),downloadTranslation:function(e){var t=e.id,n=e.type;return"".concat(WPML_TM_SETTINGS.restUrl).concat(p,"/tp/xliff/download/").concat(t,"/").concat(n)},assignTranslator:"".concat(p,"/jobs/assign"),cancelTranslationReviews:"".concat(p,"/jobs/translation-reviews/cancel")},b=n(61),d=n.n(b),j=n(9),h=n.n(j);var m=function(e,t){var n=new URL(e,"http://testsite.local");return function(e,t){Object.entries(e).map((function(e){var n=h()(e,2),r=n[0],a=n[1];if(!Array.isArray(a))return"object"===d()(a)?Object.entries(a).map((function(e){var n=h()(e,2),a=n[0],s=n[1];return t.set("".concat(r,"[").concat(a,"]"),s)})):t.set(r,a);a.map((function(e){return t.append("".concat(r,"[]"),e)}))}))}(t,n.searchParams),n.href.replace("http://testsite.local","")},v=(n(185),function(){function e(t){i()(this,e),this.request=t}var t,n,r;return l()(e,[{key:"synchronizeStatusesWithTP",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new FormData;return t.append("action",f.syncJobsAction),t.append("nonce",WPML_TM_SETTINGS.syncJobStatesNonce),e&&t.append("update_last_picked_up",1),fetch(ajaxurl,{method:"POST",body:t}).then((function(e){if(!e.ok)throw new Error("Status synchronization has failed.");return e.json()})).then((function(e){return e.data}))}},{key:"loadJobs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=m(f.getJobs,e);return this.request.get(t)}},{key:"applyTranslation",value:function(e){var t=e.map((function(e){return{id:e.id,type:e.type}}));return this.request.post(f.applyTranslations,t)}},{key:"cancelJobs",value:function(e){var t=e.map((function(e){return{id:e.id,type:e.type}}));return this.request.post(f.cancelJobs,t)}},{key:"syncBatch",value:(r=o()(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={batchId:t},e.abrupt("return",this.request.post(f.syncBatchAction,n));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"checkBatchSync",value:(n=o()(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request.get(f.checkSyncBatchAction));case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"applyTranslationToElement",value:function(e,t){return this.request.post(f.applyTranslations,{original_element_id:e,element_type:t})}},{key:"assignTranslator",value:function(e,t){var n={jobId:"string"===e.type?e.id:e.extra_data.icl_translate_job_id,type:e.type,translatorId:t};return this.request.post(f.assignTranslator,n)}},{key:"downloadXLIFF",value:(t=o()(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request.download(f.downloadTranslation(t)));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}())}});
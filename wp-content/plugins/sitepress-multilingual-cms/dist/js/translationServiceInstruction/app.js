!function(t){function e(e){for(var r,o,i=e[0],c=e[1],u=e[2],f=0,p=[];f<i.length;f++)o=i[f],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&p.push(s[o][0]),s[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);for(l&&l(e);p.length;)p.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,i=1;i<n.length;i++){var c=n[i];0!==s[c]&&(r=!1)}r&&(a.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},s={18:0},a=[];function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var i=window.webpackWPML=window.webpackWPML||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=c;a.push([1290,0]),n()}({12:function(t,e,n){"use strict";n.d(e,"b",(function(){return p})),n.d(e,"a",(function(){return h})),n.d(e,"r",(function(){return d})),n.d(e,"q",(function(){return j})),n.d(e,"h",(function(){return b})),n.d(e,"d",(function(){return v})),n.d(e,"n",(function(){return y})),n.d(e,"c",(function(){return m})),n.d(e,"f",(function(){return O})),n.d(e,"e",(function(){return g})),n.d(e,"l",(function(){return k})),n.d(e,"k",(function(){return E})),n.d(e,"o",(function(){return T})),n.d(e,"m",(function(){return w})),n.d(e,"j",(function(){return _})),n.d(e,"i",(function(){return S})),n.d(e,"p",(function(){return P})),n.d(e,"g",(function(){return D}));var r=n(49),s=n(453),a=n(454),o=n(40),i=n(129),c=n(54),u=n(161),l=n(367),f=n(199),p={CANCELLED:0,WAITING_FOR_TRANSLATOR:1,IN_PROGRESS:2,NEEDS_UPDATE:3,TRANSLATION_READY_TO_DOWNLOAD:4,COMPLETED:10,ATE_NEEDS_RETRY:40,NEEDS_REVIEW:30},h={IN_PROGRESS:2,TRANSLATED:6,DELIVERING:7,EDITED:15,CANCELLED:20,NO_CREDIT:31,HIDDEN:42},d=Object(r.a)("type","post"),j=Object(r.a)("type","package"),b=Object(s.a)([Object(r.a)("review_status","NEEDS_REVIEW"),Object(r.a)("review_status","EDITING")]),v=function(t){return!!y(t)&&(t.status===p.WAITING_FOR_TRANSLATOR||t.status===p.IN_PROGRESS)},y=function(t){return"local"===t.translation_service_id},m=function(t){return!y(t)&&(t.status===p.IN_PROGRESS||t.status===p.COMPLETED)&&t.batch.tp_id&&!t.isBatchSynced},O=function(t){return!y(t)&&(Object(o.a)("status",t)===p.TRANSLATION_READY_TO_DOWNLOAD||Object(o.a)("status",t)===p.COMPLETED)},g=function(t){return!y(t)&&Object(i.a)(Object(o.a)("status",t),[p.TRANSLATION_READY_TO_DOWNLOAD,p.COMPLETED])},k=Object(c.a)(Object(o.a)("status"),Object(i.a)(u.a,[p.WAITING_FOR_TRANSLATOR,p.IN_PROGRESS])),E=function(t){return e=t.automatic,Object(a.a)(String,e)?"0"!==e&&"false"!==e:!!e;var e},T=Object(l.a)(E),w=function(t,e){return t.id===e.id&&t.type===e.type},_=function(t,e){return void 0!==t.find((function(t){return t.status===e}))},S=function(t){return Object(f.a)(0,["extra_data","icl_translate_job_id"],t)},P=function(t){return!(!t.deadline||!k(t))&&new Date>new Date(t.deadline)},D=function(t,e){return t&&t.id===parseInt(e.translation_service_id)}},1290:function(t,e,n){"use strict";n.r(e);var r=n(3),s=n.n(r),a=n(7),o=n.n(a),i=n(14),c=n.n(i),u=n(16),l=n.n(u),f=n(12),p=function(){function t(e){c()(this,t),this.jobAPI=e}var e;return l()(t,[{key:"hasFinishedRemoteJobs",value:(e=o()(s.a.mark((function t(){var e,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={scope:"remote",status:f.b.COMPLETED,limit:1},t.prev=1,t.next=4,this.jobAPI.loadJobs(e);case 4:return n=t.sent,t.abrupt("return",n.total>0);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",!1);case 11:case"end":return t.stop()}}),t,this,[[1,8]])}))),function(){return e.apply(this,arguments)})}]),t}(),h=n(27),d=n.n(h),j=function(){function t(e,n,r){c()(this,t),this.checkJobs=e,this.container=n,this.ajaxUrl=r}var e,n;return l()(t,[{key:"load",value:(n=o()(s.a.mark((function t(){var e,n,r=this;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.checkJobs.hasFinishedRemoteJobs();case 2:t.sent&&(e=this.container.querySelectorAll(".js-ts-instruction-dismiss"),d()(e).map((function(t){t.style.display="inline-block",t.addEventListener("click",(function(){r.dismiss()}))})),this.container.querySelector("#this-stuff-is-important").style.display="none",(n=this.container.querySelector("#checkbox-my-test-translation-went-fine")).disabled=!1,n.style.display="inline-block",this.container.querySelector("#my-test-translation-went-fine").style.display="inline-block",n.addEventListener("click",(function(){r.container.querySelector("#dismiss-instruction").disabled=!1})));case 4:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"dismiss",value:(e=o()(s.a.mark((function t(){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(this.ajaxUrl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},body:"action=translation_service_instruction_dismiss",credentials:"same-origin"});case 3:if((e=t.sent).ok){t.next=6;break}throw new Error(e.statusText);case 6:this.container.remove(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,this,[[0,9]])}))),function(){return e.apply(this,arguments)})}]),t}(),b=n(67),v=n(99);document.addEventListener("DOMContentLoaded",(function(){new j(new p(new v.a(new b.a)),document.querySelector("#translation-service-instruction"),ajaxurl).load()}))},132:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(14),s=n.n(r),a=n(16),o=n.n(a),i=n(12),c=function(){function t(e,n,r){s()(this,t),this.document=e,this.button=n,this.icons=r,this.progressClass="wpml-sync-and-download-translation-progress"}return o()(t,[{key:"startProcess",value:function(){this.button.classList.add(this.progressClass)}},{key:"handleResult",value:function(t){var e=this;return this.button.classList.remove(this.progressClass),Object(i.j)(t,i.b.IN_PROGRESS)||Object(i.j)(t,i.b.TRANSLATION_READY_TO_DOWNLOAD)||this.button.remove(),t.map((function(n){return e.updateIcon(n),t}))}},{key:"updateIcon",value:function(t){if(t.status===i.b.CANCELLED||t.status===i.b.COMPLETED){var e=t.status;e===i.b.CANCELLED&&t.hasCompletedTranslation&&(e=t.needsUpdate?i.b.NEEDS_UPDATE:i.b.COMPLETED);var n="#wpml-job-status-".concat(t.id," > i"),r=this.document.querySelector(n);if(r){if(this.alreadyHasCorrectIcon(r,t))return;var s=this.icons,a=s.progress,o=s.canceled,c=s.completed,u=s.needsUpdate;switch(e){case i.b.CANCELLED:r.classList.replace(a,o);break;case i.b.NEEDS_UPDATE:r.classList.replace(a,u);break;default:r.classList.replace(a,c)}r.classList.add("wpml-blink"),setTimeout((function(){r.classList.remove("wpml-blink")}),2e3)}}}},{key:"alreadyHasCorrectIcon",value:function(t,e){return t.classList.contains(this.icons.completed)&&e.status===i.b.COMPLETED||t.classList.contains(this.icons.canceled)&&e.status===i.b.CANCELLED}}]),t}()},185:function(t,e,n){"use strict";var r=n(14),s=n.n(r),a=n(16),o=n.n(a),i=n(35),c=n.n(i),u=n(42),l=n.n(u),f=n(34),p=n.n(f),h=n(0),d=n.n(h),j=n(18),b=n.n(j),v=n(45),y=n(64),m=n(80),O=n(90),g=n(91);function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p()(t);if(e){var s=p()(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return l()(this,n)}}var E=function(t){c()(n,t);var e=k(n);function n(){return s()(this,n),e.apply(this,arguments)}return o()(n,[{key:"render",value:function(){var t=this.props,e=t.jobs,r=t.strings,s=t.lastPickupDate,a=t.process,o=1===e.length?Object(v.sprintf)(r.numberOfTranslationStringsSingle,1):Object(v.sprintf)(r.numberOfTranslationStringsMulti,e.length),i=1===e.length?Object(v.sprintf)(r.stringsSentToTranslationSingle,"<strong>".concat(o,"</strong>")):Object(v.sprintf)(r.stringsSentToTranslationMulti,"<strong>".concat(o,"</strong>"));return d.a.createElement("div",{className:"wpml-tm-polling otgs-notice message"},d.a.createElement("p",null,d.a.createElement("span",{id:"wpml-tm-polling-jobs-number",dangerouslySetInnerHTML:{__html:i}}),d.a.createElement("input",{type:"button",className:"button button-secondary",value:r.buttonText,onClick:function(){return a.run()},disabled:n.shouldDisableTheButton(s)}),d.a.createElement("span",{id:"wpml-tmp-polling-last-pickup",className:"wpml-tm-polling-last-pickup"},Object(v.sprintf)(r.lastCheck,s?s.local().format("YYYY-MM-DD HH:mm"):r.never))))}}],[{key:"shouldDisableTheButton",value:function(t){return!(WPML_TM_DASHBOARD.debug||!t)&&t.isAfter(b()().utc().subtract(5,"minutes"))}}]),n}(d.a.Component);e.a=Object(y.a)(E,O.a,m.a,g.a)},482:function(t,e,n){var r={"./af":204,"./af.js":204,"./ar":205,"./ar-dz":206,"./ar-dz.js":206,"./ar-kw":207,"./ar-kw.js":207,"./ar-ly":208,"./ar-ly.js":208,"./ar-ma":209,"./ar-ma.js":209,"./ar-sa":210,"./ar-sa.js":210,"./ar-tn":211,"./ar-tn.js":211,"./ar.js":205,"./az":212,"./az.js":212,"./be":213,"./be.js":213,"./bg":214,"./bg.js":214,"./bm":215,"./bm.js":215,"./bn":216,"./bn-bd":217,"./bn-bd.js":217,"./bn.js":216,"./bo":218,"./bo.js":218,"./br":219,"./br.js":219,"./bs":220,"./bs.js":220,"./ca":221,"./ca.js":221,"./cs":222,"./cs.js":222,"./cv":223,"./cv.js":223,"./cy":224,"./cy.js":224,"./da":225,"./da.js":225,"./de":226,"./de-at":227,"./de-at.js":227,"./de-ch":228,"./de-ch.js":228,"./de.js":226,"./dv":229,"./dv.js":229,"./el":230,"./el.js":230,"./en-au":231,"./en-au.js":231,"./en-ca":232,"./en-ca.js":232,"./en-gb":233,"./en-gb.js":233,"./en-ie":234,"./en-ie.js":234,"./en-il":235,"./en-il.js":235,"./en-in":236,"./en-in.js":236,"./en-nz":237,"./en-nz.js":237,"./en-sg":238,"./en-sg.js":238,"./eo":239,"./eo.js":239,"./es":240,"./es-do":241,"./es-do.js":241,"./es-mx":242,"./es-mx.js":242,"./es-us":243,"./es-us.js":243,"./es.js":240,"./et":244,"./et.js":244,"./eu":245,"./eu.js":245,"./fa":246,"./fa.js":246,"./fi":247,"./fi.js":247,"./fil":248,"./fil.js":248,"./fo":249,"./fo.js":249,"./fr":250,"./fr-ca":251,"./fr-ca.js":251,"./fr-ch":252,"./fr-ch.js":252,"./fr.js":250,"./fy":253,"./fy.js":253,"./ga":254,"./ga.js":254,"./gd":255,"./gd.js":255,"./gl":256,"./gl.js":256,"./gom-deva":257,"./gom-deva.js":257,"./gom-latn":258,"./gom-latn.js":258,"./gu":259,"./gu.js":259,"./he":260,"./he.js":260,"./hi":261,"./hi.js":261,"./hr":262,"./hr.js":262,"./hu":263,"./hu.js":263,"./hy-am":264,"./hy-am.js":264,"./id":265,"./id.js":265,"./is":266,"./is.js":266,"./it":267,"./it-ch":268,"./it-ch.js":268,"./it.js":267,"./ja":269,"./ja.js":269,"./jv":270,"./jv.js":270,"./ka":271,"./ka.js":271,"./kk":272,"./kk.js":272,"./km":273,"./km.js":273,"./kn":274,"./kn.js":274,"./ko":275,"./ko.js":275,"./ku":276,"./ku.js":276,"./ky":277,"./ky.js":277,"./lb":278,"./lb.js":278,"./lo":279,"./lo.js":279,"./lt":280,"./lt.js":280,"./lv":281,"./lv.js":281,"./me":282,"./me.js":282,"./mi":283,"./mi.js":283,"./mk":284,"./mk.js":284,"./ml":285,"./ml.js":285,"./mn":286,"./mn.js":286,"./mr":287,"./mr.js":287,"./ms":288,"./ms-my":289,"./ms-my.js":289,"./ms.js":288,"./mt":290,"./mt.js":290,"./my":291,"./my.js":291,"./nb":292,"./nb.js":292,"./ne":293,"./ne.js":293,"./nl":294,"./nl-be":295,"./nl-be.js":295,"./nl.js":294,"./nn":296,"./nn.js":296,"./oc-lnc":297,"./oc-lnc.js":297,"./pa-in":298,"./pa-in.js":298,"./pl":299,"./pl.js":299,"./pt":300,"./pt-br":301,"./pt-br.js":301,"./pt.js":300,"./ro":302,"./ro.js":302,"./ru":303,"./ru.js":303,"./sd":304,"./sd.js":304,"./se":305,"./se.js":305,"./si":306,"./si.js":306,"./sk":307,"./sk.js":307,"./sl":308,"./sl.js":308,"./sq":309,"./sq.js":309,"./sr":310,"./sr-cyrl":311,"./sr-cyrl.js":311,"./sr.js":310,"./ss":312,"./ss.js":312,"./sv":313,"./sv.js":313,"./sw":314,"./sw.js":314,"./ta":315,"./ta.js":315,"./te":316,"./te.js":316,"./tet":317,"./tet.js":317,"./tg":318,"./tg.js":318,"./th":319,"./th.js":319,"./tk":320,"./tk.js":320,"./tl-ph":321,"./tl-ph.js":321,"./tlh":322,"./tlh.js":322,"./tr":323,"./tr.js":323,"./tzl":324,"./tzl.js":324,"./tzm":325,"./tzm-latn":326,"./tzm-latn.js":326,"./tzm.js":325,"./ug-cn":327,"./ug-cn.js":327,"./uk":328,"./uk.js":328,"./ur":329,"./ur.js":329,"./uz":330,"./uz-latn":331,"./uz-latn.js":331,"./uz.js":330,"./vi":332,"./vi.js":332,"./x-pseudo":333,"./x-pseudo.js":333,"./yo":334,"./yo.js":334,"./zh-cn":335,"./zh-cn.js":335,"./zh-hk":336,"./zh-hk.js":336,"./zh-mo":337,"./zh-mo.js":337,"./zh-tw":338,"./zh-tw.js":338};function s(t){var e=a(t);return n(e)}function a(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}s.keys=function(){return Object.keys(r)},s.resolve=a,t.exports=s,s.id=482},64:function(t,e,n){"use strict";var r=n(31),s=n.n(r),a=n(0),o=n.n(a);e.a=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.reduce((function(t,e){return function(n){return o.a.createElement(e,null,(function(e){return o.a.createElement(t,s()({},n,e))}))}}),(function(e){return o.a.createElement(t,e)}))}},67:function(t,e,n){"use strict";var r=n(3),s=n.n(r),a=n(7),o=n.n(a),i=n(14),c=n.n(i),u=n(16),l=n.n(u),f=n(35),p=n.n(f),h=n(42),d=n.n(h),j=n(34),b=n.n(j),v=n(68),y=n(71);function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b()(t);if(e){var s=b()(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return d()(this,n)}}Object(y.a)();var O=function(t){p()(r,t);var e,n=m(r);function r(){return c()(this,r),n.apply(this,arguments)}return l()(r,[{key:"get",value:function(t){return this.request(t,"GET")}},{key:"post",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.request(t,"POST",e)}},{key:"download",value:(e=o()(s.a.mark((function t(e){var n=this;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch(e,this.generateArgs("GET")).then((function(t){return t.ok?t.blob():n.buildError(t)})));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"request",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.generateArgs(e,n);return this.restUrl.includes("?")&&(t=t.replace("?","&")),this.handleRequest(this.restUrl+t,r)}},{key:"handleRequest",value:function(t,e){var n=this;return fetch(t,e).then((function(t){return t.ok?t.json():n.buildError(t)}))}},{key:"generateArgs",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n={method:t.toUpperCase(),headers:{Accept:"application/json","Content-Type":"application/json","X-WP-Nonce":this.restNonce},credentials:"same-origin"};return"GET"!==n.method&&e&&(n.body="string"==typeof e?e:JSON.stringify(e)),n}},{key:"buildError",value:function(t){return t.json().then((function(e){var n=new Error(e.message||t.statusText);return Promise.reject(Object.assign(n,{response:t}))}))}}]),r}(v.a);e.a=O},68:function(t,e,n){"use strict";var r=n(14),s=n.n(r),a=function t(e){s()(this,t),this.ID=e.ID,this.caps=e.caps,this.roles=e.roles,this.user_email=e.data,this.user_login=e.data.user_email,this.user_nicename=e.data.user_login};e.a=function t(){s()(this,t),this.restUrl=WPML_TM_SETTINGS.restUrl,this.restNonce=WPML_TM_SETTINGS.restNonce,this.ateSettings=WPML_TM_SETTINGS.ate,this.currentUser=new a(WPML_TM_SETTINGS.currentUser)}},80:function(t,e,n){"use strict";n.d(e,"b",(function(){return S})),n.d(e,"a",(function(){return P}));var r=n(15),s=n.n(r),a=n(3),o=n.n(a),i=n(7),c=n.n(i),u=n(14),l=n.n(u),f=n(16),p=n.n(f),h=n(35),d=n.n(h),j=n(42),b=n.n(j),v=n(34),y=n.n(v),m=n(0),O=n.n(m),g=n(18),k=n.n(g);function E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function T(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y()(t);if(e){var s=y()(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return b()(this,n)}}var _=O.a.createContext({}),S=function(t){d()(r,t);var e,n=w(r);function r(t){var e;return l()(this,r),(e=n.call(this,t)).jobsAPI=t.jobsAPI,e.jobsLoader=t.jobsLoader,e.loadJobsOnMount=!0===e.props.loadOnMount||void 0===e.props.loadOnMount,e.state={jobs:[],lastPickupDate:null},e}return p()(r,[{key:"componentDidMount",value:function(){this.loadJobsOnMount&&this.loadJobs()}},{key:"loadJobs",value:(e=c()(o.a.mark((function t(){var e=this;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.jobsLoader.load().then((function(t){return e.setState({jobs:t.jobs,lastPickupDate:t.last_picked_up_date})}));case 1:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"render",value:function(){var t=this,e=this.props.children;return O.a.createElement(_.Provider,{value:T(T({},this.state),{},{setJobs:function(e){return t.setState({jobs:e})},refreshLastPickupDate:function(){return t.setState({lastPickupDate:k()()})}})},e)}}]),r}(m.Component),P=_.Consumer},90:function(t,e,n){"use strict";n.d(e,"b",(function(){return v})),n.d(e,"a",(function(){return y}));var r=n(14),s=n.n(r),a=n(16),o=n.n(a),i=n(35),c=n.n(i),u=n(42),l=n.n(u),f=n(34),p=n.n(f),h=n(0),d=n.n(h);function j(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p()(t);if(e){var s=p()(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return l()(this,n)}}var b=d.a.createContext({}),v=function(t){c()(n,t);var e=j(n);function n(t){return s()(this,n),e.call(this,t)}return o()(n,[{key:"render",value:function(){var t=this.props.children;return d.a.createElement(b.Provider,{value:{strings:WPML_TM_DASHBOARD.strings}},t)}}]),n}(h.Component),y=b.Consumer},91:function(t,e,n){"use strict";n.d(e,"a",(function(){return L}));var r=n(3),s=n.n(r),a=n(15),o=n.n(a),i=n(7),c=n.n(i),u=n(14),l=n.n(u),f=n(16),p=n.n(f),h=n(35),d=n.n(h),j=n(42),b=n.n(j),v=n(34),y=n.n(v),m=n(0),O=n.n(m),g=n(64),k=n(80),E=n(71),T=n(132),w=n(12);function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function S(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function P(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y()(t);if(e){var s=y()(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return b()(this,n)}}var D=O.a.createContext({}),R=function(t){d()(r,t);var e,n=P(r);function r(t){var e;return l()(this,r),(e=n.call(this,t)).initialState={inProgress:!1,finished:!1,error:!1,confirmationHidden:!1,processedJobs:[]},e.state=e.initialState,e}return p()(r,[{key:"run",value:(e=c()(s.a.mark((function t(){var e,n,r=this;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setState(S(S({},this.initialState),{},{inProgress:!0})),e=this.defineHooks(),t.prev=2,t.next=5,this.props.createProcess(e).run(this.props.jobs);case 5:this.setState({inProgress:!1,finished:!0}),this.updateJobsIconOnTheList(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),this.setState({inProgress:!1,finished:!1,error:t.t0});case 12:n=this.props.jobs.filter((function(t){return void 0===r.state.processedJobs.find((function(e){return Object(w.m)(t,e)}))})),this.props.setJobs(n),this.props.refreshLastPickupDate();case 15:case"end":return t.stop()}}),t,this,[[2,9]])}))),function(){return e.apply(this,arguments)})},{key:"defineHooks",value:function(){var t=this,e=Object(E.a)();return e.addAction("wpml-tm-job-translations-processed","CheckAndDownloadTranslations",(function(e){return t.setState((function(t){return{processedJobs:t.processedJobs.concat(e)}}))})),e}},{key:"updateJobsIconOnTheList",value:function(){var t=new T.a(document,null,WPML_TM_DASHBOARD.statusIcons);this.state.processedJobs.map((function(e){t.updateIcon(e)}))}},{key:"render",value:function(){var t=this,e=this.props.children;return O.a.createElement(D.Provider,{value:{process:S(S({},this.state),{},{run:function(){return t.run()},hideConfirmation:function(){return t.setState({confirmationHidden:!0})}})}},e)}}]),r}(m.Component),L=D.Consumer;e.b=Object(g.a)(R,k.a)},99:function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));var r=n(3),s=n.n(r),a=n(7),o=n.n(a),i=n(14),c=n.n(i),u=n(16),l=n.n(u),f="/wpml/tm/v1",p={getJobs:"".concat(f,"/jobs/"),applyTranslations:"".concat(f,"/tp/apply-translations/"),syncJobsAction:"wpml-tp-sync-job-states",syncBatchAction:"".concat(f,"/tp/batches/sync"),checkSyncBatchAction:"".concat(f,"/tp/batches/status/"),cancelJobs:"".concat(f,"/jobs/cancel/"),downloadTranslation:function(t){var e=t.id,n=t.type;return"".concat(WPML_TM_SETTINGS.restUrl).concat(f,"/tp/xliff/download/").concat(e,"/").concat(n)},assignTranslator:"".concat(f,"/jobs/assign"),cancelTranslationReviews:"".concat(f,"/jobs/translation-reviews/cancel")},h=n(61),d=n.n(h),j=n(9),b=n.n(j);var v=function(t,e){var n=new URL(t,"http://testsite.local");return function(t,e){Object.entries(t).map((function(t){var n=b()(t,2),r=n[0],s=n[1];if(!Array.isArray(s))return"object"===d()(s)?Object.entries(s).map((function(t){var n=b()(t,2),s=n[0],a=n[1];return e.set("".concat(r,"[").concat(s,"]"),a)})):e.set(r,s);s.map((function(t){return e.append("".concat(r,"[]"),t)}))}))}(e,n.searchParams),n.href.replace("http://testsite.local","")},y=(n(185),function(){function t(e){c()(this,t),this.request=e}var e,n,r;return l()(t,[{key:"synchronizeStatusesWithTP",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=new FormData;return e.append("action",p.syncJobsAction),e.append("nonce",WPML_TM_SETTINGS.syncJobStatesNonce),t&&e.append("update_last_picked_up",1),fetch(ajaxurl,{method:"POST",body:e}).then((function(t){if(!t.ok)throw new Error("Status synchronization has failed.");return t.json()})).then((function(t){return t.data}))}},{key:"loadJobs",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=v(p.getJobs,t);return this.request.get(e)}},{key:"applyTranslation",value:function(t){var e=t.map((function(t){return{id:t.id,type:t.type}}));return this.request.post(p.applyTranslations,e)}},{key:"cancelJobs",value:function(t){var e=t.map((function(t){return{id:t.id,type:t.type}}));return this.request.post(p.cancelJobs,e)}},{key:"syncBatch",value:(r=o()(s.a.mark((function t(e){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={batchId:e},t.abrupt("return",this.request.post(p.syncBatchAction,n));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"checkBatchSync",value:(n=o()(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.request.get(p.checkSyncBatchAction));case 1:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"applyTranslationToElement",value:function(t,e){return this.request.post(p.applyTranslations,{original_element_id:t,element_type:e})}},{key:"assignTranslator",value:function(t,e){var n={jobId:"string"===t.type?t.id:t.extra_data.icl_translate_job_id,type:t.type,translatorId:e};return this.request.post(p.assignTranslator,n)}},{key:"downloadXLIFF",value:(e=o()(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.request.download(p.downloadTranslation(e)));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})}]),t}())}});
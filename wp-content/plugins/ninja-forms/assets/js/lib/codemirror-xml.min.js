CodeMirror.defineMode("xml",function(t,e){function r(t,e){function r(r){return e.tokenize=r,r(t,e)}var o=t.next();if("<"==o){if(t.eat("!"))return t.eat("[")?t.match("CDATA[")?r(a("atom","]]>")):null:t.match("--")?r(a("comment","-->")):t.match("DOCTYPE",!0,!0)?(t.eatWhile(/[\w\._\-]/),r(i(1))):null;if(t.eat("?"))return t.eatWhile(/[\w\._\-]/),e.tokenize=a("meta","?>"),"meta";var l=t.eat("/");b="";for(var u;u=t.eat(/[^\s\u00a0=<>\"\'\/?]/);)b+=u;return b?(C=l?"closeTag":"openTag",e.tokenize=n,"tag"):"tag error"}if("&"==o){var f;return f=t.eat("#")?t.eat("x")?t.eatWhile(/[a-fA-F\d]/)&&t.eat(";"):t.eatWhile(/[\d]/)&&t.eat(";"):t.eatWhile(/[\w\.\-:]/)&&t.eat(";"),f?"atom":"error"}return t.eatWhile(/[^&<]/),null}function n(t,e){var n=t.next();if(">"==n||"/"==n&&t.eat(">"))return e.tokenize=r,C=">"==n?"endTag":"selfcloseTag","tag";if("="==n)return C="equals",null;if("<"==n){e.tokenize=r;var a=e.tokenize(t,e);return a?a+" error":"error"}return/[\'\"]/.test(n)?(e.tokenize=o(n),e.stringStartCol=t.column(),e.tokenize(t,e)):(t.eatWhile(/[^\s\u00a0=<>\"\']/),"word")}function o(t){var e=function(e,r){for(;!e.eol();)if(e.next()==t){r.tokenize=n;break}return"string"};return e.isInAttribute=!0,e}function a(t,e){return function(n,o){for(;!n.eol();){if(n.match(e)){o.tokenize=r;break}n.next()}return t}}function i(t){return function(e,n){for(var o;null!=(o=e.next());){if("<"==o)return n.tokenize=i(t+1),n.tokenize(e,n);if(">"==o){if(1==t){n.tokenize=r;break}return n.tokenize=i(t-1),n.tokenize(e,n)}}return"meta"}}function l(){for(var t=arguments.length-1;t>=0;t--)w.cc.push(arguments[t])}function u(){return l.apply(null,arguments),!0}function f(t,e){var r=N.doNotIndent.hasOwnProperty(t)||w.context&&w.context.noIndent;w.context={prev:w.context,tagName:t,indent:w.indented,startOfLine:e,noIndent:r}}function d(){w.context&&(w.context=w.context.prev)}function c(t){if("openTag"==t)return w.tagName=b,w.tagStart=T.column(),u(p,s(w.startOfLine));if("closeTag"==t){var e=!1;return w.context?w.context.tagName!=b&&(N.implicitlyClosed.hasOwnProperty(w.context.tagName.toLowerCase())&&d(),e=!w.context||w.context.tagName!=b):e=!0,e&&(v="error"),u(m(e))}return u()}function s(t){return function(e){var r=w.tagName;return w.tagName=w.tagStart=null,"selfcloseTag"==e||"endTag"==e&&N.autoSelfClosers.hasOwnProperty(r.toLowerCase())?(g(r.toLowerCase()),u()):"endTag"==e?(g(r.toLowerCase()),f(r,t),u()):u()}}function m(t){return function(e){return t&&(v="error"),"endTag"==e?(d(),u()):(v="error",u(arguments.callee))}}function g(t){for(var e;;){if(!w.context)return;if(e=w.context.tagName.toLowerCase(),!N.contextGrabbers.hasOwnProperty(e)||!N.contextGrabbers[e].hasOwnProperty(t))return;d()}}function p(t){return"word"==t?(v="attribute",u(h,p)):"endTag"==t||"selfcloseTag"==t?l():(v="error",u(p))}function h(t){if("equals"==t)return u(x,p);if(N.allowMissing){if("word"==t)return v="attribute",u(h,p)}else v="error";return"endTag"==t||"selfcloseTag"==t?l():u()}function x(t){return"string"==t?u(k):"word"==t&&N.allowUnquoted?(v="string",u()):(v="error","endTag"==t||"selfCloseTag"==t?l():u())}function k(t){return"string"==t?u(k):l()}var b,C,w,T,v,z=t.indentUnit,M=e.multilineTagIndentFactor||1,y=e.multilineTagIndentPastTag||!0,N=e.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1},I=e.alignCDATA;return{startState:function(){return{tokenize:r,cc:[],indented:0,startOfLine:!0,tagName:null,tagStart:null,context:null}},token:function(t,e){if(!e.tagName&&t.sol()&&(e.startOfLine=!0,e.indented=t.indentation()),t.eatSpace())return null;v=C=b=null;var r=e.tokenize(t,e);if(e.type=C,(r||C)&&"comment"!=r)for(w=e,T=t;;){var n=e.cc.pop()||c;if(n(C||r))break}return e.startOfLine=!1,v&&(r="error"==v?r+" error":v),r},indent:function(t,e,o){var a=t.context;if(t.tokenize.isInAttribute)return t.stringStartCol+1;if(t.tokenize!=n&&t.tokenize!=r||a&&a.noIndent)return o?o.match(/^(\s*)/)[0].length:0;if(t.tagName)return y?t.tagStart+t.tagName.length+2:t.tagStart+z*M;if(I&&/<!\[CDATA\[/.test(e))return 0;for(a&&/^<\//.test(e)&&(a=a.prev);a&&!a.startOfLine;)a=a.prev;return a?a.indent+z:0},electricChars:"/",blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:e.htmlMode?"html":"xml",helperType:e.htmlMode?"html":"xml"}}),CodeMirror.defineMIME("text/xml","xml"),CodeMirror.defineMIME("application/xml","xml"),CodeMirror.mimeModes.hasOwnProperty("text/html")||CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:!0});
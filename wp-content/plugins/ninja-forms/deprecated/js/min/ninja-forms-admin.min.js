function ninja_forms_escape_html(e){var n=document.createElement("textarea");return n.innerHTML=e,n.innerHTML}!function(e){"$:nomunge";e.fn.serializeFullArray=function(){var n=e(this).serializeArray(),i={};for(var a in n)if(n.hasOwnProperty(a)){var t=n[a].name.split(/\]|\[/);t=e.grep(t,function(e){return""!=e});var o=i;for(var l in t)if(t.hasOwnProperty(l)){var r=t[l],s={};if(l==t.length-1)var s=n[a].value;var _={};_[r]=s,e.extend(!0,o,_),o=o[r]}}return i}}(jQuery),jQuery.fn.tinymce_textareas=function(){tinyMCE.init({skin:"wp_theme"})},jQuery.fn.nextElementInDom=function(e,n){var i={stopAt:"body"};n=jQuery.extend(i,n);var a=jQuery(this).parent(),t=a.find(e);switch(!0){case t.length>0:return t;case 0===a.length||a.is(n.stopAt):return jQuery([]);default:return a.nextElementInDom(e)}},jQuery.fn.nfAdminModal=function(e,n){if(0==jQuery("#nf-admin-modal-backdrop").length){var i='<div id="nf-admin-modal-backdrop" style="display: none;"></div><div id="nf-admin-modal-wrap" class="wp-core-ui" style="display: none;"><div id="nf-admin-modal" tabindex="-1"><div id="admin-modal-title"><span id="nf-modal-title"></span><button type="button" id="nf-admin-modal-close" class="modal-close"><span class="screen-reader-text modal-close">Close</span></button></div><div id="modal-contents-wrapper" style="padding:20px;"><div id="nf-admin-modal-content" class="admin-modal-inside"></div><div class="submitbox" style="display:block;"></div></div></div></div>';jQuery("body").append(i)}"object"==typeof e&&(n=e);var a={title:"",buttons:!1,backgroundClose:!1};if("undefined"==typeof n?(n=jQuery(this).data("nfAdminModal"),"undefined"==typeof n&&(n=jQuery.extend(a,n))):n=jQuery.extend(a,n),jQuery(this).data("nfAdminModal",n),jQuery(this).hide(),jQuery("#nf-admin-modal-content").html(this.html()),jQuery("#nf-modal-title").html(n.title),n.buttons){jQuery(n.buttons).hide();var t=jQuery(n.buttons).html();jQuery("#modal-contents-wrapper").find(".submitbox").html(t),jQuery("#nf-admin-modal-content").addClass("admin-modal-inside"),jQuery("#modal-contents-wrapper").find(".submitbox").show()}else jQuery("#nf-admin-modal-content").removeClass("admin-modal-inside"),jQuery("#modal-contents-wrapper").find(".submitbox").hide();jQuery("#nf-admin-modal-backdrop").data("backgroundClose",n.backgroundClose),"close"==e?jQuery.fn.nfAdminModal.close():"open"==e&&jQuery.fn.nfAdminModal.open()},jQuery(document).on("click","#nf-admin-modal-backdrop",function(){1==jQuery(this).data("backgroundClose")&&jQuery.fn.nfAdminModal.close()}),jQuery(document).on("click",".modal-close",function(e){e.preventDefault(),jQuery.fn.nfAdminModal.close()}),jQuery.fn.nfAdminModal.close=function(){jQuery("#nf-admin-modal-backdrop").hide(),jQuery("#nf-admin-modal-wrap").hide(),jQuery(document).triggerHandler("nfAdminModalClose")},jQuery.fn.nfAdminModal.open=function(){jQuery("#nf-admin-modal-backdrop").show(),jQuery("#nf-admin-modal-wrap").show(),jQuery(document).triggerHandler("nfAdminModalOpen")},jQuery(document).ready(function(e){e(".ninja-forms-admin-date").datepicker(ninja_forms_settings.datepicker_args),e(".ninja-forms-select-all").click(function(){var n=this.title,i=this.checked;e("."+n).prop("checked",i)}),e("#side-sortables").sortable({placeholder:"ui-state-highlight",helper:"clone",handle:".hndl",stop:function(){var n=e("#side-sortables").sortable("toArray"),i=e("#_page").val(),a=e("#_tab").val();e.post(ajaxurl,{order:n,page:i,tab:a,action:"ninja_forms_side_sortable",nf_ajax_nonce:ninja_forms_settings.nf_ajax_nonce},function(){})}}),e(document).on("keydown","form input",function(n){if(13==n.keyCode){var i=e(this).attr("type");if("textarea"!=i)return!1}}),e(document).on("click",".metabox-item-edit",function(n){n.preventDefault(),e(this).parent().parent().find(".inside").slideToggle("fast")}),e(".hndle").dblclick(function(){e(this).prevAll(".item-controls:first").find("a").click()}),e(document).on("keyup",".ninja-forms-field-label",function(){var n=this.id.replace("ninja_forms_field_","");n=n.replace("_label","");var i=this.value;i=ninja_forms_escape_html(i),""==e.trim(i)&&(i=e(this).parent().parent().parent().prev().find(".item-type:first").prop("innerHTML")),e("#ninja_forms_field_"+n+"_title").prop("innerHTML",i),i.length>15&&(i=i.substring(0,15),i+="..."),e(".ninja-forms-field-conditional-cr-field option[value='"+n+"']").each(function(){e(this).text(n+" - "+i)}),e(".ninja-forms-calc-select option[value='"+n+"']").each(function(){e(this).text(n+" - "+i)})}),e(document).on("change",".ninja-forms-show-help",function(){var n=this.id.replace("ninja_forms_field_","");n=n.replace("_show_help",""),this.checked?e("#ninja_forms_field_"+n+"_help_span").show():e("#ninja_forms_field_"+n+"_help_span").hide()}),e(document).on("change",".ninja-forms-show-desc",function(){var n=this.id.replace("ninja_forms_field_","");n=n.replace("_show_desc",""),this.checked?e("#ninja_forms_field_"+n+"_desc_span").show():e("#ninja_forms_field_"+n+"_desc_span").hide()}),e(".ninja-forms-delete-form").click(function(n){n.preventDefault();var i=this.id.replace("ninja_forms_delete_form_",""),a=confirm("Really delete this form? (Irreversible)");a&&e.post(ajaxurl,{form_id:i,action:"ninja_forms_delete_form",nf_ajax_nonce:ninja_forms_settings.nf_ajax_nonce},function(){e("#ninja_forms_form_"+i+"_tr").css("background-color","#FF0000").fadeOut("slow",function(){e(this).remove()})})}),e(".ninja-forms-delete-sub").click(function(n){n.preventDefault();var i=this.id.replace("ninja_forms_sub_",""),a=confirm("Permenantly delete this item?");a&&e.post(ajaxurl,{sub_id:i,action:"ninja_forms_delete_sub",nf_ajax_nonce:ninja_forms_settings.nf_ajax_nonce},function(){e("#ninja_forms_sub_"+i+"_tr").css("background-color","#FF0000").fadeOut("slow",function(){e(this).remove()})})}),e(document).on("change",".ninja-forms-_text-default-value",function(){var n=this.id.replace("default_value_","");"_custom"==this.value||"querystring"==this.value?(e("#ninja_forms_field_"+n+"_default_value").val(""),e("#default_value_label_"+n).show(),e("#ninja_forms_field_"+n+"_default_value").focus()):(e(".querystring-error").hide(),e("#ninja_forms_field_"+n+"_default_value").removeClass("error"),e("#default_value_label_"+n).hide(),e("#ninja_forms_field_"+n+"_default_value").val(this.value)),"querystring"!=this.value&&(e(".querystring-error").hide(),e("#ninja_forms_field_"+n+"_default_value").removeClass("error"),e(".nf-save-admin-fields").attr("disabled",!1)),""!=this.value&&"today"!=this.value&&e("#ninja_forms_field_"+n+"_datepicker").prop("checked",!1)}),e(document).on("keyup",".nf-default-value-text",function(){var n=e(this).data("field-id");-1!=wp_reserved_terms.indexOf(this.value)&&"querystring"==e("#default_value_"+n).val()?(e(".querystring-error").show(),e(this).addClass("error"),e(".nf-save-admin-fields").attr("disabled",!0)):(e(".querystring-error").hide(),e(this).removeClass("error"),e(".nf-save-admin-fields").attr("disabled",!1))}),e(document).on("change",".ninja-forms-_text-mask",function(){var n=this.id.replace("mask_","");"_custom"==this.value?(e("#ninja_forms_field_"+n+"_mask").val(""),e("#mask_label_"+n).show(),e("#ninja_forms_field_"+n+"_mask").focus()):(e("#mask_label_"+n).hide(),e("#ninja_forms_field_"+n+"_mask").val(this.value)),""!=this.value&&e("#ninja_forms_field_"+n+"_datepicker").prop("checked",!1)}),e(document).on("click",".ninja-forms-mask-help",function(n){n.preventDefault(),e("#tab-panel-mask_help").is(":visible")||(e("#tab-link-mask_help").find("a").click(),e("#contextual-help-link").click().focus())}),e(document).on("change",".ninja-forms-_text-datepicker",function(){var n=this.id.replace("ninja_forms_field_","");n=n.replace("_datepicker",""),1==this.checked&&("today"!=e("#ninja_forms_field_"+n+"_mask").val()&&e("#ninja_forms_field_"+n+"_mask").val(""),e("#default_value_"+n).val(""),e("#default_value_label_"+n).hide(),e("#mask_"+n).val(""),e("#mask_label_"+n).hide())}),e(document).on("click",".ninja-forms-field-collapse-options",function(n){n.preventDefault();var i=this.id.replace("ninja_forms_field_","");i=i.replace("_collapse_options",""),e("#ninja_forms_field_"+i+"_list_span").slideToggle(function(){})}),e(document).on("change",".ninja-forms-_list-list_type",function(){var n=this.id.replace("ninja_forms_field_","");n=n.replace("_list_type",""),"multi"==this.value?e("#ninja_forms_field_"+n+"_multi_size_p").show():e("#ninja_forms_field_"+n+"_multi_size_p").hide(),"radio"==this.value||"checkbox"==this.value?(e("#ninja_forms_field_"+n+"_label_pos").val("left"),e("#ninja_forms_field_"+n+"_label_pos option[value='inside']").attr("disabled",!0)):e("#ninja_forms_field_"+n+"_label_pos option[value='inside']").attr("disabled",!1)}),e(".ninja-forms-field-list-options").sortable({helper:"clone",handle:".ninja-forms-drag",items:"div",placeholder:"ui-state-highlight"}),e(document).on("change",".ninja-forms-field-list-show-value",function(){var n=this.id.replace("ninja_forms_field_","");n=n.replace("_list_show_value",""),this.checked?e(".ninja-forms-field-"+n+"-list-option-value").show():e(".ninja-forms-field-"+n+"-list-option-value").hide()}),e(document).on("click",".ninja-forms-field-add-list-option",function(n){n.preventDefault();var i=this.id.replace("ninja_forms_field_","");i=i.replace("_list_add_option","");var a=e(".ninja-forms-field-"+i+"-list-option").length,t=e("#ninja_forms_field_"+i+"_list_show_value").prop("checked");t=t?1:0,e.post(ajaxurl,{field_id:i,x:a,hidden_value:t,action:"ninja_forms_add_list_option",nf_ajax_nonce:ninja_forms_settings.nf_ajax_nonce},function(n){e("#ninja_forms_field_"+i+"_list_options").append(n),e("#ninja_forms_field_"+i+"_list_option_"+a).fadeIn(),e(".ninja-forms-field-conditional-value-list").each(function(){e(this).append("<option value='' title='"+a+"'></option>")}),e("[name='ninja_forms_field_"+i+"\\[list\\]\\[options\\]\\["+a+"\\]\\[label\\]']").focus()})}),e(document).on("click",".nf-remove-list-option",function(n){n.preventDefault();var i=this.id.replace("ninja_forms_field_","");i=i.replace("_list_remove_option","");var a=e(this).parent().prop("id");a=a.replace("ninja_forms_field_"+i+"_list_option_",""),e(this).parent().parent().parent().parent().parent().fadeOut(300,function(){e(this).remove()}),e(".ninja-forms-field-conditional-value-list").each(function(){e(this).children("option").each(function(){this.title==a&&e(this).remove()})})}),e(document).on("keydown",".ninja-forms-field-list-option-label",function(n){if(13==n.keyCode){var i=this.id.replace("option_label","add_option");return e("#"+i).click(),!1}}),e(document).on("keydown",".ninja-forms-field-list-option-value",function(n){if(13==n.keyCode){var i=this.id.replace("option_value","add_option");return e("#"+i).click(),!1}}),e(document).on("keydown",".ninja-forms-field-list-option-calc",function(n){if(13==n.keyCode){var i=this.id.replace("option_calc","add_option");return e("#"+i).click(),!1}}),e(document).on("keyup",".ninja-forms-field-list-option-label",function(){var n=this.id.replace("ninja_forms_field_","");n=n.replace("_list_option_label","");var i=this.value,a=e(this).parent().prop("id").replace("ninja_forms_field_"+n+"_list_option_",""),t=e("#ninja_forms_field_"+n+"_list_show_value").prop("checked");e(".ninja-forms-field-conditional-cr-field").each(function(){this.value==n&&e(this).nextElementInDom(".ninja-forms-field-conditional-cr-value-list").each(function(){e(this).children("option").each(function(){this.title==a&&(this.text=i,t||(this.value=i))})})}),e(".ninja-forms-field-"+n+"-conditional-value").children("option").each(function(){this.title==a&&(this.text=i,t||(this.value=i))})}),e(document).on("keyup",".ninja-forms-field-list-option-value",function(){var n=this.id.replace("ninja_forms_field_","");n=n.replace("_list_option_value","");var i=this.value,a=e(this).parent().parent().prop("id").replace("ninja_forms_field_"+n+"_list_option_","");e(".ninja-forms-field-conditional-cr-field").each(function(){this.value==n&&e(this).nextElementInDom(".ninja-forms-field-conditional-cr-value-list").each(function(){e(this).children("option").each(function(){this.title==a&&(this.value=i)})})}),e(".ninja-forms-field-"+n+"-conditional-value").children("option").each(function(){this.title==a&&(this.value=i)})}),e(document).on("change",".ninja-forms-hidden-default-value",function(){var n=e(this).attr("rel");"custom"==this.value?(e("#ninja_forms_field_"+n+"_default_value").val(""),e("#default_value_label_"+n).show(),e("#ninja_forms_field_"+n+"_default_value").focus()):(e("#ninja_forms_field_"+n+"_default_value").val(this.value),e("#default_value_label_"+n).hide())}),e(".cancel-list-import").click(function(e){e.preventDefault(),tb_remove()}),e(document).on("click",".save-list-import",function(n){n.preventDefault();var i=e(this).parent().find("textarea").val(),a=e(this).attr("rel");e.post(ajaxurl,{options:i,field_id:a,action:"ninja_forms_import_list_options",nf_ajax_nonce:ninja_forms_settings.nf_ajax_nonce},function(n){e("#ninja_forms_field_"+a+"_list_options").append(n),tb_remove()})}),e(document).on("change",".ninja-forms-list-populate-term",function(){var n=e(this).attr("rel");""!=this.value?e.post(ajaxurl,{field_id:n,tax_name:this.value,from_ajax:1,action:"ninja_forms_list_terms_checkboxes",nf_ajax_nonce:ninja_forms_settings.nf_ajax_nonce},function(i){e("#ninja_forms_field_"+n+"_exclude_terms").html(i),e("#ninja_forms_field_"+n+"_exclude_terms").show()}):e("#ninja_forms_field_"+n+"_exclude_terms").hide()}),e(document).on("change",".ninja-forms-_profile_pass-reg_password",function(){this.checked?e(".reg-password").parent().parent().show():e(".reg-password").parent().parent().hide()}),e(document).on("click",".ninja-forms-field-add-calc",function(n){n.preventDefault();var i=e(this).attr("rel"),a=e(this).next(".spinner");e(a).show();var t=e("#ninja_forms_field_"+i+"_calc").find(".ninja-forms-calc-row:last").attr("rel");isNaN(t)?t=0:(t=parseInt(t),t+=1),e.post(ajaxurl,{field_id:i,x:t,action:"ninja_forms_add_calc_row",nf_ajax_nonce:ninja_forms_settings.nf_ajax_nonce},function(n){e("#ninja_forms_field_"+i+"_calc").append(n),e(a).hide()})}),e(document).on("click",".ninja-forms-field-remove-calc",function(n){n.preventDefault();var i=e(this).attr("rel"),a=e(this).attr("name");e("#ninja_forms_field_"+i+"_calc_row_"+a).hide(function(){e("#ninja_forms_field_"+i+"_calc_row_"+a).remove()})}),e(document).on("keyup",".ninja-forms-calc-name",function(){var n=e(this).prop("id");n=n.replace("ninja_forms_field_",""),n=n.replace("_calc_name","");var i=this.value;i=ninja_forms_escape_html(i),""==e.trim(i)&&(i="calc_name"),e(this).parent().parent().parent().prev().find(".ninja-forms-field-title").html(i)}),e(document).bind("addField",function(n,i){e(".ninja-forms-calc-select").each(function(){e(this).append('<option value="'+i.new_id+'">'+i.new_id+" - "+i.new_type+"</option>")})}),e(document).bind("removeField",function(n,i){e(".ninja-forms-calc-select option[value='"+i+"']").remove()}),e(document).on("change",".ninja-forms-calc-display",function(){var n=this.id.replace("ninja_forms_field_","");n=n.replace("_calc_display_type",""),"html"==this.value?(e("#ninja_forms_field_"+n+"_calc_text_display").hide(),e("#ninja_forms_field_"+n+"_calc_html_display").show(),e("#ninja_forms_field_"+n+"_calc_extra_display").show(),e("#ninja_forms_field_"+n+"_label").val("")):"text"==this.value?(e("#ninja_forms_field_"+n+"_calc_text_display").show(),e("#ninja_forms_field_"+n+"_calc_html_display").hide(),e("#ninja_forms_field_"+n+"_calc_extra_display").show()):(e("#ninja_forms_field_"+n+"_calc_text_display").hide(),e("#ninja_forms_field_"+n+"_calc_html_display").hide(),e("#ninja_forms_field_"+n+"_calc_extra_display").hide(),e("#ninja_forms_field_"+n+"_label").val(""))}),e(document).on("change",".ninja-forms-calc-method",function(){"auto"==this.value?(e(this).parent().parent().parent().find(".ninja-forms-calculations").hide(),e(this).parent().parent().parent().find(".ninja-forms-eq").hide()):"fields"==this.value?(e(this).parent().parent().parent().find(".ninja-forms-calculations").show(),e(this).parent().parent().parent().find(".ninja-forms-eq").hide()):(e(this).parent().parent().parent().find(".ninja-forms-calculations").hide(),e(this).parent().parent().parent().find(".ninja-forms-eq").show())}),e(document).on("change",".user-info-group-name",function(){"custom"==this.value?(e(this).parent().parent().next().find(".user-info-custom-group").show(),e(this).parent().parent().next().find("label").show()):(e(this).parent().parent().next().find("label").hide(),e(this).parent().parent().next().find(".user-info-custom-group").hide())}),e(document).on("click",".ninja-forms-field-add-fav",function(n){n.preventDefault();var i=this.id.replace("ninja_forms_field_","");i=i.replace("_fav","");var a=new Object,t=this.id;e("[name*='ninja_forms_field_"+i+"']").each(function(){tmp=this.name.replace("ninja_forms_field_"+i+"[",""),tmp=tmp.replace("]",""),"checkbox"==this.type?this.checked&&(a['"'+tmp+'"']=this.value):a['"'+tmp+'"']=this.value});var o=prompt(ninja_forms_settings.add_fav_prompt,"");if(o.length>=1)e.post(ajaxurl,{fav_name:o,field_data:a,field_id:i,action:"ninja_forms_add_fav",nf_ajax_nonce:ninja_forms_settings.nf_ajax_nonce},function(n){e("#ninja_forms_field_"+i+"_fav").removeClass("ninja-forms-field-add-fav"),e("#ninja_forms_field_"+i+"_fav").addClass("ninja-forms-field-remove-fav"),e("#ninja_forms_sidebar_fav_fields").append(n.link_html),e("#ninja_forms_field_"+i+"_title").nextElementInDom(".item-type-name:first").prop("innerHTML",n.fav_name),e("#ninja_forms_field_"+i+"_fav_id").val(n.fav_id)});else{var l=confirm(ninja_forms_settings.add_fav_error);l&&e("#"+t).click()}}),e(document).on("click",".ninja-forms-field-remove-fav",function(n){n.preventDefault();var i=this.id.replace("ninja_forms_field_","");i=i.replace("_fav",""),e.post(ajaxurl,{field_id:i,action:"ninja_forms_remove_fav",nf_ajax_nonce:ninja_forms_settings.nf_ajax_nonce},function(n){e("#ninja_forms_insert_fav_field_"+n.fav_id+"_p").remove(),e(".ninja-forms-field-fav-id").each(function(){if(this.value==n.fav_id){var i=this.id.replace("ninja_forms_field_","");i=i.replace("_fav_id",""),e("#ninja_forms_field_"+i+"_fav").removeClass("ninja-forms-field-remove-fav"),e("#ninja_forms_field_"+i+"_fav").addClass("ninja-forms-field-add-fav"),e("#ninja_forms_field_"+i+"_title").nextElementInDom(".item-type-name:first").prop("innerHTML",n.type_name)}})})}),e(document).on("click",".ninja-forms-field-add-def",function(n){n.preventDefault();var i=this.id.replace("ninja_forms_field_","");i=i.replace("_def","");var a=new Object,t=this.id;e("[name*='ninja_forms_field_"+i+"']").each(function(){tmp=this.name.replace("ninja_forms_field_"+i+"[",""),tmp=tmp.replace("]",""),"checkbox"==this.type?this.checked&&(a['"'+tmp+'"']=this.value):a['"'+tmp+'"']=this.value});var o=prompt("What would you like to name this Defined Field?","");if(o.length>=1)e.post(ajaxurl,{def_name:o,field_data:a,field_id:i,action:"ninja_forms_add_def",nf_ajax_nonce:ninja_forms_settings.nf_ajax_nonce},function(n){e("#ninja_forms_sidebar_def_fields").append(n.link_html),e("#ninja_forms_field_"+i+"_title").nextElementInDom(".item-type:first").prop("innerHTML",n.def_name),e("#ninja_forms_field_"+i+"_def_id").val(n.def_id)});else{var l=confirm("You must supply a name for this Defined Field.");l&&e("#"+t).click()}}),e(document).on("click",".ninja-forms-field-remove-def",function(n){n.preventDefault();var i=this.id.replace("ninja_forms_field_","");i=i.replace("_def",""),e.post(ajaxurl,{field_id:i,action:"ninja_forms_remove_def",nf_ajax_nonce:ninja_forms_settings.nf_ajax_nonce},function(n){e("#ninja_forms_insert_def_field_"+n.def_id+"_p").remove()})}),e(document).on("click","#nf_deactivate_all_licenses",function(){var e=confirm(ninja_forms_settings.deactivate_all_licenses_confirm);return e?void 0:!1}),e(".nf-delete-on-uninstall-prompt").nfAdminModal({title:nf_nuke_title,buttons:".nf-delete-on-uninstall-prompt-buttons"}),e(document).on("click","#delete_on_uninstall",function(){this.checked&&(this.checked=!1,e(".nf-delete-on-uninstall-prompt").nfAdminModal("open"))}),e(document).on("click",".nf-delete-on-uninstall-yes",function(n){n.preventDefault(),e("#delete_on_uninstall").attr("checked",!0),e(".nf-delete-on-uninstall-prompt").nfAdminModal("close")}),e("#nf-conversion-reset").nfAdminModal({title:nf_conversion_title,buttons:"#nf-conversion-reset-buttons"}),e(document).on("click",".nf-reset-form-conversion",function(n){n.preventDefault(),e("#nf-conversion-reset").nfAdminModal("open")})});
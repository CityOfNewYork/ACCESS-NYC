jQuery(document).ready(function(e){e("#settings-type").change(function(){var t=this.value;e(".notification-type").hide();e("#notification-"+t).show()});e(document).on("click",".notification-delete",function(t){t.preventDefault();var n=confirm(commonL10n.warnDelete);var r=e(this).parent().parent().parent().parent();var i=e(this).data("n_id");console.log(i);if(n){e.post(ajaxurl,{n_id:i,action:"nf_delete_notification",nf_ajax_nonce:ninja_forms_settings.nf_ajax_nonce},function(t){e(r).css("background-color","#FF0000").fadeOut("slow",function(){e(this).remove()})})}});e(document).on("click",".notification-activate",function(t){t.preventDefault();var n=e(this).parent().parent().parent().parent();var r=e(this).data("action");var i=e(this).data("n_id");var s=this;e.post(ajaxurl,{n_id:i,activate_action:r,action:"nf_"+r+"_notification",nf_ajax_nonce:ninja_forms_settings.nf_ajax_nonce},function(t){e(n).removeClass("nf-notification-active");e(n).removeClass("nf-notification-inactive");if(r=="activate"){e(n).addClass("nf-notification-active");e(s).html(nf_notifications.deactivate);e(s).data("action","deactivate")}else{e(n).addClass("nf-notification-inactive");e(s).html(nf_notifications.activate);e(s).data("action","activate")}})});e(".nf-tokenize").each(function(){var t=e(this).data("token-limit");var n=e(this).data("key");var r=e(this).data("type");e(this).tokenfield({autocomplete:{source:nf_notifications.search_fields[r],delay:100},tokens:nf_notifications.tokens[n],delimiter:["`"],showAutocompleteOnFocus:true,beautify:false,limit:t,createTokensOnBlur:true})});e(document).on("click",".nf-insert-field",function(t){t.preventDefault();var n=e(this).prev().prev(".nf-fields-combobox").val();if(n!=""&&n!=null){var r="[ninja_forms_field id="+n+"]";window.parent.send_to_editor(r)}});e(document).on("click",".nf-insert-all-fields",function(e){e.preventDefault();var t="[ninja_forms_all_fields]";window.parent.send_to_editor(t)});e(".nf-fields-combobox").combobox();e(".ui-combobox-input").focus(function(t){var n=e(this).parent().prev(".nf-fields-combobox").val();if(n==""||n==null){this.value=""}else{e(this).select()}});e(".ui-combobox-input").mouseup(function(e){e.preventDefault()});e(".ui-combobox-input").blur(function(t){if(this.value==""){this.value=e(this).parent().prev(".nf-fields-combobox").data("first-option")}});e("#filter-type").change(function(t){if(this.value==""){var n=nf_notifications.filter_type}else{var n=nf_notifications.filter_type+"&type="+this.value}e(".spinner").show();document.location.href=n});e("#toggle_email_advanced").click(function(t){t.preventDefault();e("#email_advanced").toggle()})})
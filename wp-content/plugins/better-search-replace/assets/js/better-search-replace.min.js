!function(n){"use strict";function t(e,s){void 0===s&&(s=150),n(".bsr-progress").animate({width:e},s)}var s,o;function r(e){var s=(e=n(e)).next(),o=(n(".helper-message").not(s).hide(),e.position());"TD"===e.parent()[0].nodeName&&(o=e.offset()),s.hasClass("left")?s.css({left:o.left-s.width()-e.width()-29+"px",top:o.top+e.height()/2-18+"px"}):s.hasClass("bottom")?s.css({left:o.left-s.width()/2-5+"px",top:o.top+e.height()+19+"px"}):s.css({left:o.left+e.width()+19+"px",top:o.top+e.height()/2-18+"px"}),s.toggle()}s=n("#bsr-submit"),o=n("#bsr-error-wrap"),s.on("click",function(e){e.preventDefault(),s.hasClass("button-disabled")||(n("#search_for").val()?n("#bsr-table-select").val()?(e=n(".bsr-action-form").serialize().replace(/%5C/g,"#BSR_BACKSLASH#"),o.html("").hide(),s.addClass("bsr-disabled button-disabled"),n("#bsr-submit-wrap").before('<div class="bsr-processing-wrap"><div class="spinner is-active bsr-spinner"></div><div class="bsr-progress-wrap"><div class="bsr-progress"></div></div></div>'),n(".bsr-progress-wrap").append('<p class="description bsr-description">'+bsr_object_vars.processing+"</p>"),function s(o,e,r,i){n.ajax({type:"POST",url:bsr_object_vars.endpoint+o,data:{bsr_ajax_nonce:bsr_object_vars.ajax_nonce,action:o,bsr_step:e,bsr_page:r,bsr_data:i},dataType:"json",success:function(e){void 0!==e.message&&(n(".bsr-description").remove(),n(".bsr-progress-wrap").append('<p class="description bsr-description">'+e.message+"</p>")),"done"==e.step?(t("100%"),void 0!==e.next_action?(t("0%",0),s(e.next_action,0,0,e.bsr_data)):(n(".bsr-processing-wrap").remove(),n(".bsr-disabled").removeClass("bsr-disabled button-disabled"),window.location=e.url)):(t(e.percentage),s(o,e.step,e.page,e.bsr_data))}}).fail(function(e){n(".bsr-processing-wrap").remove(),n(".bsr-disabled").removeClass("bsr-disabled button-disabled"),n("#bsr-error-wrap").html('<div class="error"><p>'+bsr_object_vars.unknown+"</p></div>").show(),window.console&&window.console.log&&console.log(e)})}("process_search_replace",0,0,e)):o.html('<div class="error"><p>'+bsr_object_vars.no_tables+"</p></div>").show():o.html('<div class="error"><p>'+bsr_object_vars.no_search+"</p></div>").show())}),n("#bsr-page-size-slider").slider({value:bsr_object_vars.page_size,range:"min",min:1e3,max:5e4,step:1e3,slide:function(e,s){n("#bsr-page-size-value").text(s.value),n("#bsr_page_size").val(s.value)}}),n("body").on("thickbox:iframe:loaded",function(){var s=n("#TB_window iframe").contents().find("body");s.on("mouseover",".tooltip",function(e){e.preventDefault(),s.find(".helper-message").hide(),r(this),e.stopPropagation()}),s.on("mouseleave","td",function(e){s.find(".helper-message").hide()})}),n("body").on("mouseover",".tooltip",function(e){r(this)}),n("body").on("mouseleave",".tooltip",function(e){n(".helper-message").hide()}),n(".notice.inline").appendTo(".bsr-notice-container").css("display","block"),setTimeout(function(){const e=n("#setting-error-settings_updated"),s=n(".bsr-updated");(e.length||s.length)&&(n('<div class="bsr-inner-notice-container"></div>').prependTo(".inside"),e.prependTo(".bsr-inner-notice-container").css("display","block"),s.prependTo(".bsr-inner-notice-container").css("display","block")),n(".bsr-inner-notice-container .notice-dismiss").on("click",function(e){s.length||n(".bsr-inner-notice-container").remove()})},75)}(jQuery);
//# sourceMappingURL=better-search-replace.min.js.map